// ==UserScript==
// @name              Image Max URL
// @name:ar           Image Max URL
// @name:cs           Image Max URL
// @name:da           Image Max URL
// @name:de           Image Max URL
// @name:el           Image Max URL
// @name:eo           Image Max URL
// @name:es           Image Max URL
// @name:fi           Image Max URL
// @name:fr           Image Max URL
// @name:fr-CA        Image Max URL
// @name:he           Image Max URL
// @name:hi           Image Max URL
// @name:hu           Image Max URL
// @name:id           Image Max URL
// @name:it           Image Max URL
// @name:ja           Image Max URL
// @name:ko           Image Max URL
// @name:nb           Image Max URL
// @name:nl           Image Max URL
// @name:pl           Image Max URL
// @name:pt-BR        Image Max URL
// @name:ru           Image Max URL
// @name:bg           Image Max URL
// @name:uk           Image Max URL
// @name:th           Image Max URL
// @name:tr           Image Max URL
// @name:vi           Image Max URL
// @name:zh-CN        Image Max URL
// @name:zh-TW        Image Max URL
// @name:zh-HK        Image Max URL
// @description       Finds larger or original versions of images and videos for 8200+ websites, including a powerful media popup and download feature
// @description:ar    البحث عن نسخ أكبر أو أصلية من الصور لأكثر من 8200 موقع ويب
// @description:cs    Vyhledá větší nebo původní verze obrázků a videí pro více než 8200 webů
// @description:da    Finder større eller originale versioner af billeder og videoer til mere end 8200 websteder
// @description:de    Sucht nach größeren oder originalen Versionen von Bildern und Videos für mehr als 8200 Websites
// @description:el    Βρίσκει μεγαλύτερες ή πρωτότυπες εκδόσεις εικόνων και βίντεο για περισσότερους από 8200 ιστότοπους
// @description:eo    Trovas pli grandajn aŭ originalajn versiojn de bildoj kaj filmetoj por pli ol 8200 retejoj
// @description:es    Encuentra imágenes más grandes y originales para más de 8200 sitios
// @description:fi    Etsii suurempia tai alkuperäisiä versioita kuvista ja videoista yli 8200 verkkosivustolle
// @description:fr    Trouve des versions plus grandes ou originales d'images et de vidéos pour plus de 8 200 sites web, y compris une puissante fonction de popup média
// @description:fr-CA Trouve des versions plus grandes ou originales d'images et de vidéos pour plus de 8 200 sites web, y compris une puissante fonction de popup média
// @description:he    מוצא גרסאות גדולות יותר או מקוריות של תמונות וסרטונים עבור יותר מ-8200 אתרים
// @description:hi    8200 से अधिक वेबसाइटों के लिए फ़ोटो और वीडियो के बड़े या मूल संस्करण ढूँढता है
// @description:hu    Több mint 8200 webhely képének és videóinak nagyobb vagy eredeti változatát találja
// @description:id    Menemukan versi gambar dan video yang lebih besar atau orisinal untuk lebih dari 8200 situs web
// @description:it    Trova versioni più grandi o originali di immagini e video per oltre 8200 siti web
// @description:ja    8200以上のウェブサイトで高画質や原本画像を見つけ出します
// @description:ko    8200개 이상의 사이트에 대해 고화질이나 원본 이미지를 찾아드립니다
// @description:nb    Finner større eller originale versjoner av bilder og videoer for mer enn 8200 nettsteder
// @description:nl    Vindt grotere of originele versies van foto's en video's voor meer dan 8200 websites
// @description:pl    Wyszukuje większe lub oryginalne wersje obrazów i filmów dla ponad 8200 stron internetowych
// @description:pt-BR Encontra versões maiores ou originais de imagens e vídeos para mais de 8200 sites
// @description:ru    Находит увеличенные или оригинальные версии изображений и видео для 8200+ сайтов. Имеет мощную функцию всплывающего окна и скачивание медиафайлов.
// @description:bg    Намира увеличени или оригинални версии на изображения за повече от 8200 уеб сайтове
// @description:uk    Знаходить збільшені або оригінальні версії зображень для більш ніж 8200 веб-сайтів
// @description:th    หาที่ใหญ่กว่าหรือเวอร์ชั่นดั้งเดิมของภาพทั้งหมดและวีดีโอสำหรับมากกว่า 8200 งเว็บไซต์
// @description:tr    8200'den fazla web sitesi için resim ve videoların daha büyük veya orijinal sürümlerini bulur
// @description:vi    Tìm phiên bản lớn hơn hoặc phiên bản gốc của hình ảnh và video cho hơn 8200 trang web
// @description:zh-CN 在近万个网站上查找尺寸更大或原版的图像/视频，提供媒体文件小弹窗和下载功能
// @description:zh-TW 為8200多個網站查找更大或原始圖像
// @description:zh-HK 為8200多個網站查找更大或原始圖像
// @namespace         http://tampermonkey.net/
// @version           2023.2.0
// @author            qsniyg
// @homepageURL       https://qsniyg.github.io/maxurl/options.html
// @supportURL        https://github.com/qsniyg/maxurl/issues
// @icon              https://raw.githubusercontent.com/qsniyg/maxurl/b5c5488ec05e6e2398d4e0d6e32f1bbad115f6d2/resources/logo_256.png
// @include           *
// @grant             GM.xmlHttpRequest
// @grant             GM_xmlhttpRequest
// @grant             GM.setValue
// @grant             GM_setValue
// @grant             GM.getValue
// @grant             GM_getValue
// @grant             GM_registerMenuCommand
// @grant             GM_unregisterMenuCommand
// @grant             GM_addValueChangeListener
// @grant             GM_download
// @grant             GM_openInTab
// @grant             GM.openInTab
// @grant             GM_notification
// @grant             GM.notification
// @grant             GM_setClipboard
// @grant             GM.setClipboard
// @connect           *
// api.github.com is used for checking for updates (can be disabled through the "Check Updates" setting)
// @connect           api.github.com
// @run-at            document-start
// @license           Apache-2.0
// non-greasyfork/oujs versions need updateURL and downloadURL to auto-update for certain userscript managers
// @updateURL         https://raw.githubusercontent.com/qsniyg/maxurl/master/userscript.meta.js
// @downloadURL       https://raw.githubusercontent.com/qsniyg/maxurl/master/userscript_smaller.user.js
//
//  Greasyfork and OpenUserJS have 2MB and 1MB limits for userscripts (respectively).
//  Because of this, the rules (~1.5MB) have been split into a separate file, linked below.
//  Note that jsdelivr.net might not always be reliable, but (AFAIK) this is the only reasonable option from what greasyfork allows.
//  I'd recommend using the Github version of the script if you encounter any issues (linked in the 'Project links' section below).
//
// @require https://cdn.jsdelivr.net/gh/qsniyg/maxurl@2feb27dda4dd283167f9006a5f4314976666299b/build/rules.js
// ==/UserScript==

// Due to OpenUserJS's 1MB limit, the source code had to be minified.
// The minification was done by gen_minified.js (in the maxurl repository below) using `uglifyjs -m -c` (v3.17.4).
// This unfortunately renders the code pretty much unreadable, but it was the only way to fit it within the 1MB limit.
// You can view the original source code here: https://github.com/qsniyg/maxurl/blob/master/userscript.user.js
// Please let me know if you have any questions or concerns regarding the script.

var $$IMU_EXPORT$$;!function(){function hi(){}function gi(){var e=d();return e.self||e}function fi(e){if(s||!ui.imu_enabled)return!0;if(e&&Pr)try{chrome.runtime.getURL("manifest.json")}catch(e){return ki(!0),!0}return!1}var t,Mr=!1,Pr=(Mr&&(Mr={no_request:!1,no_recurse:!1,no_redirect:!0,map:!0,cache:!0,bigimage_recursive:!0,input:!0,check_image_get:!0,find_source:!0},console.log("Loaded")),!1),o=!1,r=!1,Hr=null,i=function(e){},s=!1,P=!1,_i=!1,n=!1,$r=null,b="https://qsniyg.github.io/maxurl/options.html",a=b,l="https://addons.mozilla.org/en-US/firefox/addon/image-max-url/",u="https://raw.githubusercontent.com/qsniyg/maxurl/master/userscript_smaller.user.js",vi="https://github.com/qsniyg/maxurl/issues",H=null,bi=!1,yi=!0,c=!1,d=function(){return"undefined"!=typeof unsafeWindow?unsafeWindow||this.window||window:this.window||window},wi=[],ki=function(e){var t=s;(s=e)&&!t&&ri(wi,function(e){e()})};try{$r=window.location.href,A=$r.replace(/^[a-z]+:\/\/web\.archive\.org\/+web\/+[0-9]+\/+(https?:\/\/)/,"$1"),/^https?:\/\/qsniyg\.github\.io\/+maxurl\/+options\.html/.test(A)||/^file:\/\/.*\/maxurl\/site\/options\.html/.test($r)?n=_i=!0:(/^https?:\/\/qsniyg\.github\.io\/+maxurl\/+/.test(A)||/^file:\/\/.*\/maxurl\/site\/(?:index|about|options)\.html/.test($r))&&(n=!0)}catch(e){}!function(){if("object"==typeof chrome&&chrome&&"object"==typeof chrome.runtime)try{var e=chrome.runtime.getManifest();if(!(Pr="Image Max URL"===e.name))return;i=function(e){try{var t=chrome.runtime.lastError;t&&console.error(t.message,e)}catch(e){console.error(e)}},o=/^([-a-z]+)extension:\/\/[^/]+\/+_generated_background_page\.html/.test($r),t=chrome.runtime.getURL("extension/options.html"),P=$r.replace(/[?#].*$/,"")===t,_i=_i||P,a=t,0<=navigator.userAgent.indexOf("Firefox")&&(r=!0),H=e.version,Hr=function(e,t){return e=si(e,{json:!0}),t=t||hi,o?userscript_extension_message_handler(e,t):t&&t!==hi?chrome.runtime.sendMessage(null,e,null,function(){return i(e),t.apply(this,arguments)}):chrome.runtime.sendMessage(null,e)},o||setTimeout(function(){chrome.runtime.connect().onDisconnect.addListener(function(e){console.error(e),i(),ki(!0)})},10),i()}catch(e){Pr&&(console.error(e),i())}}();var p=!1,m=!1;if("undefined"!=typeof module&&module.exports&&"undefined"==typeof window&&"undefined"==typeof document){p=!0;try{require.main===module&&(m=!0)}catch(e){}}var h=!1,_e=("undefined"!=typeof imu_variable&&"undefined"==typeof GM_xmlhttpRequest&&"undefined"==typeof GM&&(h=!0),!1),Fr=(p||h||Pr||(_e=!0),function(){try{return window.self!==window.top}catch(e){return!0}}()),f=!1,v=(Pr||_e)&&!o,y="unknown",_="";if(_e){var w=void 0;"function"==typeof GM_info?w=GM_info():"object"==typeof GM_info&&(w=GM_info),"object"==typeof w?(w.scriptHandler&&(y=w.scriptHandler),w.version&&(_=w.version)):"function"==typeof GM_fetch&&null===w&&(w={scriptHandler:y="FireMonkey"});try{H=w.script.version}catch(e){H=null}}var Or,k,x,Gr,Br,Wr,C,z,xi,Vr,Ci,N,S,q,T,Xr,I=console.log,Yr=function(){for(var e=0;e<arguments.length;e++)e,0;if(!ui||ui.enable_console_logging)return I.apply(this,arguments)},Zr=console.error,Kr=console.warn,A=console.trace,Jr=(!function(e){e=e.toString();return!!(e.length<80&&/native code/.test(e))}(Zr)&&(Zr=function(){for(var e=0;e<arguments.length;e++)e,0;for(var t=["[ERROR]"],o=0;o<arguments.length;o++)t.push(arguments[o]);return Yr.apply(this,t)}),function(){for(var e=0;e<arguments.length;e++)e,0}),$=(Mr&&(Jr=function(){for(var e=0;e<arguments.length;e++)e,0;if(Mr[arguments[0]]){for(var t=[],o=1;o<arguments.length;o++)t.push(arguments[o]);Yr.apply(this,t)}}),JSON.parse),Qr=function(e){var t=+e,o=0|t,t=o-t;return 1<(t=t<0?-t:t)?+(e+"").replace(/\..*/,""):o},E=(p&&(k=function(e){return Buffer.from(e,"base64").toString("binary")},x=function(e){return Buffer.from(e).toString("base64")}),[]);try{Or=JSON.stringify}catch(e){Kr("Cannot use native JSON.stringify, using slow implementation instead",e);var U=function(e){return void 0===e||"function"==typeof e};Or=function(e){if(!U(e)){if("string"==typeof e)return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')+'"';if(null===e)return"null";if("number"==typeof e)return e+"";if(Gr(e)){for(var t=[],o=0;o<e.length;o++)void 0===(i=Or(e[o]))&&(i="null"),t.push(i);return"["+t.join(",")+"]"}if("object"==typeof e){var r,i,t=[];for(r in e)void 0!==(i=Or(e[r]))&&t.push('"'+r+'":'+Or(e[r]));return"{"+t.join(",")+"}"}}}}function R(e,t,o,r){if(e){if(o)try{if(o(e))return e}catch(e){}r&&E.push(r)}return t}v&&(O=EventTarget,D=O.prototype.addEventListener,L=O.prototype.removeEventListener),j=null,M=function(){j=j||ct()},Vr=function(t,o,r,e){t===window&&t.unsafeWindow&&(t=t.unsafeWindow);function i(e){return r(e)}var n=function(){return fi(!0)},a=("mousemove"===o&&(n=function(){return fi(!1)}),r);r=function(e){if(!n())return a(e);s&&Ci(t,o,a)};M(),on(j,a,i),D.call(t,o,i,e)},Ci=function(e,t,o,r){M();var i=rn(j,o);i?ht(j,i):(Kr("Modified handler not found, defaulting to specified handler"),i=o),L.call(e,t,i,r)},(v||h||"function"==typeof HTMLDocument)&&(F=HTMLDocument.prototype.createElement),Xr=function(e){if(F)return F.call(document,e);Zr("Unable to create element",e,", HTMLDocument.prototype.createElement does not exist")},O=Array.isArray,Gr=O||function(e){return e instanceof Array};var D,L,j,M,F,O=null;try{O=String.fromCharCode}catch(e){}N=R(O,function(){for(var e="",t=0;t<arguments.length;t++)e+="\\u"+("0000"+parseInt(arguments[t]).toString(16)).slice(-4);return $('"'+e+'"')},function(e){return"2"===e(50)&&"d"===e(100)&&"2d"===e("50","100")}),G=String.prototype.charAt,S=R(function(e,t){return G.call(e,t)},function(e,t){e=e[t];return e=void 0===e?"":e},function(e){var t="abc";return"a"===e(t,0)&&"b"===e(t,1)&&""===e(t,-1)&&""===e(t,3)}),p||(k=R(atob,function(e){for(var t,o,r={},i=0,n=0,a="",s=N,l=e.length,u=0;u<64;u++)r[S("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u)]=u;for(t=0;t<l;t++)for(i=(i<<6)+r[S(e,t)],n+=6;8<=n;)((o=i>>>(n-=8)&255)||t<l-2)&&(a+=s(o));return a},function(e){return"test"===e("dGVzdA==")},"atob"),x=R(btoa,function(e){return Kr("Using fake base64 encoder"),e},function(e){return"dGVzdA=="===e("test")},"btoa")),B=Array.prototype.indexOf,Br=R(function(e,t){return B.call(e,t)},function(e,t){"string"==typeof e&&(e=Array.from(e));for(var o=0;o<e.length;o++)if(e[o]===t)return o;return-1},function(e){var t=["a","b"];return-1===e(t,"not here")&&1===e(t,"b")&&-1===e("abc","n")&&1===e("abc","b")&&-1===e("abc","bc")}),W=Array.prototype.reduce,q=R(function(e,t,o){return void 0!==o?W.call(e,t,o):W.call(e,t)},function(e,t,o){var r=0;if(void 0===o){if(!e.length)throw new TypeError("Reduce of empty array with no initial value");o=e[0],r=1}for(var i=o,n=r;n<e.length;n++)i=t(i,e[n],n,e);return i},function(e){try{return e([]),!1}catch(e){}try{return e([],function(){}),!1}catch(e){}function t(e,t,o){return e.x+t.x+o}return!(!isNaN(e([{x:2},{x:2},{x:2}],t))||9!==e([{x:2},{x:6}],t)||2!==e([{x:2}],t).x||8!==e([{x:2}],t,{x:6}))}),T=function(e,t){return q(this,e,t)},V=String.prototype.indexOf,Wr=R(function(e,t){return V.call(e,t)},function(e,t){if(0===t.length)return 0;for(var o=0,r=0;r<e.length;r++)if(S(e,r)===S(t,o)){if(o+1===t.length)return r-o;o++}else o=0;return-1},function(e){var t="abc";return-1===e(t,"n")&&1===e(t,"b")&&1===e(t,"bc")&&-1===e(t,"bcz")&&0===e(t,"")}),p||(O=URL||webkitURL,z=R(O,hi,function(e){return"function"==typeof e&&"object"==typeof e.prototype&&"searchParams"in e.prototype&&(!v||"createObjectURL"in e&&"revokeObjectURL"in e)},"URL")),p||(xi=function(e,t,o){t(new C([e],o))},(C=R(Blob,function(){Kr("This is a fake Blob object, you will almost certainly encounter problems.")},function(e){return"function"==typeof e&&"object"==typeof e.prototype&&"slice"in e.prototype&&"size"in e.prototype},"Blob"))!==Blob&&("function"==typeof Response?xi=function(e,t,o){var r={};o&&o.type&&(r.headers={"Content-Type":o.type}),new Response(e,r).blob().then(function(e){t(e)})}:"function"==typeof File&&(xi=function(e,t,o){t(new File([e],"",o))})));var G,B,W,V,X={};if(0<E.length){try{for(var Y=E,Z=Xr("iframe"),K=(Z.srcdoc="",document.documentElement.appendChild(Z),Z.contentWindow),J=0;J<Y.length;J++){var Q=Y[J];X[Q]=K[Q]}Z.parentElement.removeChild(Z)}catch(e){Zr(e)}"Blob"in X&&(C=X.Blob),"URL"in X&&(z=X.URL),"atob"in X&&(k=X.atob),"btoa"in X&&(x=X.btoa)}function zi(e,t){t=oe(t),[].push.apply(e,t)}function ee(e,t){for(var o=[],r=0;r<e.length;r++)o[r]=t(e[r]);return o}function te(e){return e&&e.length?e:null}function Ni(e,t){Br(e,t)<0&&e.push(t)}function Si(e,t,o){return e.split(t).join(o)}function qi(e,t){for(var o in t)e[o]=t[o];return e}var be,Ti,ye,ei,ti,oi,Ii,oe=function(e){return Gr(e)?e:[e]},ri=function(e,t,o){if(o){for(var r=[],i=0;i<e.length;i++)r.push(e[i]);e=r}for(i=0;i<e.length;i++)if(!1===t(e[i],i))return},re=function(e,t){var o,r=new RegExp(t,"g"),e=e.match(r);return e?(o=[],ri(e,function(e){o.push(e.match(t))}),o):null},ii=function(e,t){for(var o in e)if(!1===t(o,e[o]))return},ni={nullfunc:function(){},nullobjfunc:function(){return{func:function(){}}},run_arrayd_string:function(e,t){return e=e.split(""),t.cb(e),e.join("")}};ni.new_vm=function(){function o(e,t){for(var o={stack:[],data:t},r=0;r<e.length;r+=2){var i=e[r],n=e[r+1];o.arg=n,a[i](o)}return t}var a=[function(e){e.stack.unshift(e.data)},function(e){e.stack.unshift(e.arg)},function(e){for(var t=0;t<e.arg;t++)e.stack.shift()},function(e){e.stack.unshift(e.stack[e.arg])},function(e){e.stack[0].push(e.stack[1])},function(e){e.stack[0].unshift(e.stack[1])},function(e){e.stack[0].reverse()},function(e){var t=e.stack[0][e.stack[2]];e.stack[0][e.stack[2]]=e.stack[0][e.stack[1]%e.stack[0].length],e.stack[0][e.stack[1]%e.stack[0].length]=t},function(e){e.stack[0].splice(e.stack[1],1)},function(e){e.stack[0].splice(0,e.stack[1])},function(e){e.stack[0].splice(e.stack[1],e.stack[0].length)},function(e){e.stack[0][e.stack[1]]+=e.stack[2]},function(e){e.stack[0][e.stack[1]]*=e.stack[2]},function(e){e.stack[0][e.stack[1]]*=-1}];return{arch:a,op_start:4,total_instrs:Object.keys(a).length,run:function(t,e){return"string"==typeof e?ni.run_arrayd_string(e,{cb:function(e){return o(t,e)}}):o(t,e)}}},ni.create_vm_ops=function(e){for(var i=[],t=0;t<3;t++)i.push(1,0);return ri(e,function(e){for(var t=e[0],o=1;o<e.length;o++)i.push(1,e[o]);var r=e.length-1;i.push(0,null,t,null,2,1+r)}),i.push(2,3),i};if(!p)try{be=Math.floor,Ti=Math.round,ye=Math.random,ei=Math.max,ti=Math.min,oi=Math.abs,Ii=Math.pow}catch(e){be=function(e){return 0|e},Ti=function(e){return be(e+.5)};var ie=Date.now(),ne=null;ye=function(){if(ne=ne||ni.new_vm()){for(var e=ne.total_instrs-ne.op_start,t=[8,9,10,13],o=[],r=(r=15&ie)||4,i=0;i<r;i++){var n=((ie>>4&15)+(ie>>i%8&15))%e+ne.op_start;0<=Br(t,n)?r++:o.push([n,(255&ie)+i,((15&ie)+i)%5])}var a=ni.create_vm_ops(o);try{var s=parseFloat(ne.run(a,ie+""));isNaN(s)||(ie+=s)}catch(e){}}return(ie=(ie+Date.now())%1e8)/1e8},ei=function(){for(var e=-1/0,t=0;t<arguments.length;t++)e<arguments[t]&&(e=arguments[t]);return e},ti=function(){for(var e=1/0,t=0;t<arguments.length;t++)arguments[t]<e&&(e=arguments[t]);return e},oi=function(e){return e<0?-e:e},Ii=function(e,t){for(var o=1;o<t;o++)e*=e;return e}}function Ai(e,t){for(var o="";o.length<e;){var r=be(1e9*ye()),r=t?r.toString(10):r.toString(26);o+=r}return o=o.substr(0,e)}function ae(){return Ai(10)+Date.now()}function se(e,t){if(!(t<=0))for(var o=0;o<t;o++)e.push(0)}function we(e,t){if("string"!=typeof e||"string"!=typeof t)return null;var o=/^[0-9]+(\.[0-9]+){0,}$/;if(!o.test(e)||!o.test(t))return null;var r=e.split("."),i=t.split(".");r.length!==i.length&&(se(r,i.length-r.length),se(i,r.length-i.length));for(var n=0;n<r.length;n++){var a=Qr(r[n]),s=Qr(i[n]);if(a<s)return 1;if(s<a)return-1}return 0}function Ei(){return!Pr&&ui&&ui.use_webarchive_for_lib?"https://web.archive.org/web/20210328063940/https://qsniyg.github.io/maxurl/options.html":a}function Ui(){return{id:Pi,url:ue,size:[window.innerWidth,window.innerHeight]}}function Ri(t){if(t.id in le)return le[t.id];function e(e){return e&&(le[t.id]=e),e}for(var o=document.getElementsByTagName("iframe"),r=[],i=0;i<o.length;i++)o[i].src===t.url&&r.push(o[i]);if(0===r.length)r=[];else if(r.length<=1)return e(r[0]);for(var n=r,r=[],i=0;i<n.length;i++)n[i].scrollWidth===t.size[0]&&n[i].scrollHeight===t.size[1]&&r.push(n[i]);return r.length<=1?e(r[0]):null}function Di(){return $i()&&ui.mouseover_use_remote}var le={},Li=null,ji=null,Mi={},Pi=null,ue=null,ce=null,Li=ni.nullfunc,ji=ni.nullfunc,Hi="__IMU_MESSAGE__",$i=(Pr?(ce=function(e,t){Hr(t)},f=!0):v&&(Fr&&window.parent&&(le.top=window.parent),ce=function(e,t){var o;if((e=!e&&Fr?"top":e)&&e in le&&!(o=function(e){if(!(e in le))return null;if("top"!==e)try{if(le[e].contentWindow)return le[e].contentWindow}catch(e){return!1}return le[e]}(e)))Mr&&Kr("Unable to find window for",e,{is_in_iframe:Fr,id_to_iframe:le});else{t.imu=!0;var r={};if(r[Hi]=t,o)o.postMessage(r,"*");else for(var i=0;i<window.frames.length;i++)try{window.frames[i].postMessage(r,"*")}catch(e){Mr&&Kr("Unable to send message to",window.frames[i],e);continue}}},f=!0,"cafe.daum.net"===window.location.hostname)&&(f=!1),f&&(ue=$r,Pi=ae()+" "+ue,Fr||(Pi="top"),Li=function(e,t,o){var r=void 0,o=(o&&(r=ae(),Mi[r]=o),{type:"remote",data:t,to:e,from:Pi,response_id:r});Mr&&Yr("remote_send_message",e,o),ce(e,o)},ji=function(e,t,o){ce(e,{type:"remote_reply",data:o,response_id:t})}),function(){return f&&ui.allow_remote}),de=function(i){Mr&&Yr("do_request_browser",i);function e(o,r){n[o]=function(){if(r)return i[o](null);var e=function(e){i[o](e)},t=(Mr&&Yr("do_request_browser's do_final",n,e),{readyState:n.readyState,finalUrl:n.responseURL,responseHeaders:n.getAllResponseHeaders(),responseType:n.responseType,status:n.status,statusText:n.statusText,timeout:n.timeout});t.response=n.response;try{t.responseText=n.responseText}catch(e){}e(t)}}var t=i.method||"GET",n=new XMLHttpRequest;n.open(t,i.url,!0),i.responseType&&(n.responseType=i.responseType),i.headers&&ii(i.headers,function(e,t){try{n.setRequestHeader(e,t)}catch(e){}});e("onload"),e("onerror"),e("onprogress"),e("onabort",!0),e("ontimeout",!0);try{n.send(i.data)}catch(e){Zr(e),n.abort()}return{abort:function(){n.abort()}}};try{"function"!=typeof XMLHttpRequest&&(de=null)}catch(e){de=null}function Fi(e,t,o){Pr?Hr({type:"newtab",data:{imu:e,background:t}},o):_e&&xe&&(xe(e.url,t),o)&&o()}function Oi(t,o,e,r){Yr("do_download",t,o,e,r);var i,n=_e&&"undefined"!=typeof GM_download&&ui.enable_gm_download,a=parseFloat(ui.gm_download_max)||0,a=(n&&e&&a&&1024*a*1024<e&&(n=!1),!1);if(a=t&&t.url?/^data:/.test(t.url):a)return Ne(t,o,r);Pr?Hr({type:"download",data:{imu:t,filename:ze(o),force_saveas:!!ui.enable_webextension_download}},function(){r&&r()}):n?(t.headers&&(i=_o(t.headers)),(e={url:t.url,headers:i,saveAs:!0,onerror:function(e){e&&e.error&&"not_succeeded"!==e.error&&Ne(t,o,r)}}).name=o?ze(o):"download",Mr&&Yr("GM_download",si(e)),GM_download(e)):Ne(t,o,r)}function Gi(e,t,o){var r=oa(e);Ne({url:r},t),setTimeout(function(){ra(r),o&&o()},500)}function pe(e){var e=Cn(e),t=Cn($r);return e.toLowerCase()===t.toLowerCase()}function me(e,t){t=t||{};var o={},r=localStorage;return"session"===t.storage&&(r=sessionStorage),ri(e,function(e){o[e]=r.getItem(e)}),o}function he(e){for(var t=[],o=0;o<e.length;o++){var r=e[o].name+"="+e[o].value;t.push(r)}return t.join("; ")}var ge={},fe=null,Bi=(Pr?fe=function(t){var o,r=!1;return Hr({type:"request",data:t},function(e){"id"!==e.type?Zr("Internal error: Wrong response",e):(o=e.data,ge[o]={id:o,data:t},r&&Hr({type:"abort_request",data:o}))}),{abort:function(){void 0===o?(Kr("abort() was called before the request was initialized"),r=!0):Hr({type:"abort_request",data:o})}}}:"undefined"!=typeof GM_xmlhttpRequest?fe="Violentmonkey"===y&&we(_,"2.12.7")<=0?function(t){var e,o={},r=[],i=(Array.prototype.reduce===T||function(e){e=e.toString();return e.length<80&&0<Wr(e,"native code")}(Array.prototype.reduce)||(e=Array.prototype.reduce,Array.prototype.reduce=T,r.push(function(){Array.prototype.reduce=e})),!1);return r.length&&ri(["onload","onabort","onerror","ontimeout"],function(e){e in t&&(o[e]=t[e],t[e]=function(){return function(e,t){return i||(ri(r,function(e){e()}),i=!0),o[e].apply(this,t)}(e,arguments)})}),GM_xmlhttpRequest(t)}:GM_xmlhttpRequest:"undefined"!=typeof GM&&void 0!==GM.xmlHttpRequest&&(fe=GM.xmlHttpRequest),ni.nullfunc),Wi=ni.nullfunc,ke=0,xe=(_e&&("undefined"!=typeof GM_registerMenuCommand&&(Bi=function(e,t){"string"==typeof t&&(o=t,t=function(){Fr||xe(o)});var o,e="["+ ++ke+"] "+e,t=GM_registerMenuCommand(e,t);return t=null==t?e:t}),"undefined"!=typeof GM_unregisterMenuCommand)&&(Wi=function(e){return ke--,GM_unregisterMenuCommand(e)}),ni.nullfunc),Ce=(_e&&("undefined"!=typeof GM_openInTab?xe=GM_openInTab:"undefined"!=typeof GM&&void 0!==GM.openInTab&&(xe=GM.openInTab),xe!==ni.nullfunc)&&Bi("Options",Ei()),function(e){return!(e&&0!==e.status&&null!==e.status||e&&e.finalUrl&&/^file:\/\//.test(e.finalUrl))}),ai=null,ze=(fe?ai=function(r){if(Mr&&Yr("do_request",si(r)),"withCredentials"in r||(r.withCredentials=!0),"headers"in r||(r.headers={}),r.imu_mode){var e,t={};for(e in"document"===r.imu_mode||"iframe"===r.imu_mode?(t.accept="text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9",t["Sec-Fetch-Dest"]="document"===r.imu_mode?"document":"iframe",t["Sec-Fetch-Mode"]="navigate",t["Sec-Fetch-Site"]="document"===r.imu_mode?"none":"cross-site",t["Sec-Fetch-User"]="?1"):"xhr"===r.imu_mode?(t.accept="*/*",t["Sec-Fetch-Dest"]="empty",t["Sec-Fetch-Mode"]="cors",t["Sec-Fetch-Site"]="same-origin",t.origin=r.url.replace(/^([a-z]+:\/\/[^/]+)(?:\/+.*)?$/,"$1")):"image"===r.imu_mode?(t.accept="image/webp,image/apng,image/*,*/*;q=0.8",t["Sec-Fetch-Dest"]="image",t["Sec-Fetch-Mode"]="no-cors",t["Sec-Fetch-Site"]="same-site"):"video"===r.imu_mode&&(t.accept="*/*",t["Sec-Fetch-Dest"]="video",t["Sec-Fetch-Mode"]="no-cors",t["Sec-Fetch-Site"]="same-site"),delete r.imu_mode,t)void 0===xn(r.headers,e)&&vo(r.headers,e,t[e])}if(r.imu_multipart){var o,i="----WebKitFormBoundary"+Ai(16),n="";for(o in r.imu_multipart)n=n+("--"+i+'\r\nContent-Disposition: form-data; name="'+o+'"\r\n\r\n')+(r.imu_multipart[o]+"\r\n");n+="--"+i+"--\r\n",vo(r.headers,"Content-Type","multipart/form-data; boundary="+i),r.data=n,delete r.imu_multipart}var a,s,l,u,c,d,p,m=si(r),h=("string"==typeof r.url&&(r.url=r.url.replace(/#.*/,"")),r.onerror||(r.onerror=r.onload),r.ontimeout||(r.ontimeout=r.onerror),fe);return _e&&ui.allow_browser_request&&("Falkon GreaseMonkey"===y||"USI"===y&&r.need_blob_response)&&(h=de,delete r.trackingprotection_failsafe),r.retry_503&&(!0!==r.retry_503&&"number"==typeof r.retry_503||(r.retry_503=Qr(ui.retry_503_times)),0<r.retry_503)&&(a=r.onload,s=r.onerror,l=function(e,t){Mr&&Yr("do_request's finalcb_503:",e,t,si(r)),503===e.status?(Kr("Received status 503, retrying request",e,m),m.retry_503=r.retry_503-1,setTimeout(function(){ai(m)},Qr(ui.retry_503_ms)||1)):(t?s:a)(e)},r.onload=function(e){l(e,!1)},r.onerror=function(e){l(e,!0)}),r.trackingprotection_failsafe&&ui.allow_browser_request&&de&&(u=r.onload,c=r.onerror,d=function(e,t){var o;if(Mr&&Yr("do_request's finalcb:",e,t),Ce(e))return r.onload=null,r.onerror=null,(o=Ji(r)).onload=u,o.onerror=c,"blob"===o.imu_responseType&&(o.responseType="blob"),de(o);(t?c:u)(e)},r.onload=function(e){d(e,!1)},r.onerror=function(e){d(e,!0)}),"blob"!==r.responseType||ui.use_blob_over_arraybuffer||(p=r.onload,r.onload=function(e){function t(){Mr&&Yr("do_request's arraybuffer->blob:",si(e),i),p(i)}var o,r,i=e;e.response?(o=null,Pr&&"_responseEncoded"in e&&e._responseEncoded.type?o=e._responseEncoded.type:e.responseHeaders&&(r=kn(wn(e.responseHeaders)))["content-type"]&&(o=r["content-type"]),r=void(i=Ji(e)),xi(e.response,function(e){i.response=e,t()},r=o?{type:o}:r)):t()},r.responseType="arraybuffer",r.imu_responseType="blob"),Mr&&Yr("do_request (modified data):",si(r)),h(r)}:v&&console.warn("Unable to initialize do_request, most functions will likely fail"),function(e){return ui.filename_replace_special_underscores?e.replace(/["<>/:?\\*|\^]/g,"_"):e}),Ne=function(e,t,o){Mr&&Yr("do_browser_download",e,t,o);var r=Xr("a");r.href=e.url,t&&0<t.length?r.setAttribute("download",ze(t)):(e=document.createAttribute("download"),r.setAttributeNode(e)),r.style.display="none",r.onclick=function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!0},document.body.appendChild(r),r.click(),setTimeout(function(){document.body.removeChild(r)},500),o&&o()},Se=function(t,o){var r=!1,i=0,n=function(){if(!t.queue.length)return i<=0?o():void 0;var e=t.queue.shift();i++,t.runner(e,function(){i--,n()})};return{add:function(e){t.queue.push(e)},start:function(){if(!r){r=!0;for(var e=t.concurrency;0<e;e--)n()}}}},Vi=function(t){this.elements_num=t.elements_num||0,this.total_size=t.total_size||0,this.known_elements={},this.finished=!1;var o=0;this.calc_completion=function(){var t,o=0,r=0,i=0,n=[],e=(ii(this.known_elements,function(e,t){!t.size&&t.progress_ratio?n.push(t):(o+=t.size,i+=t.progress,r++)}),this.total_size),a=!0,s=(n.length&&(a=!1,t=r?o/r:1,ri(n,function(e){o+=t,i+=e.progress_ratio*t,r++})),e||(e=o,0<(s=this.elements_num-r)&&0<r&&(e+=o/r*s,a=!1)),{percent:i/e,total:e,total_accurate:a,loaded:i});return this.finished&&(s.percent=1,s.loaded=s.total),s},this._do_cb=function(){var e=this.calc_completion();e.percent!==o&&(o=e.percent,t.cb(e))},this.update=function(e,t,o){e in this.known_elements||(this.known_elements[e]={progress:0,size:0}),o||!t?(this.known_elements[e].progress=t,this.known_elements[e].size=o):this.known_elements[e].size?this.known_elements[e].progress=t*this.known_elements[e].size:this.known_elements[e].progress_ratio=t,this._do_cb()},this.update_progobj=function(e,t){this.update(e,t.loaded,t.total)},this.finish_id=function(e){this.update(e,1)},this.finish=function(){this.finished=!0,this._do_cb()}},Xi=function(o,s){o.headers||(o.headers={}),o.responseType="arraybuffer";function l(e){return"content-range"in e?(e=e["content-range"].split("/"),Qr(e[1])):null}function u(r,i,n,a){var e=si(o),t=(e.method="GET","bytes="+r+"-"),s=(i&&(t+=i-1),r);vo(e.headers,"Range",t),a?(e.onprogress=function(e){var t;if(e.loaded&&e.total)return t=kn(wn(e.responseHeaders)),t=l(t),a(s,e.loaded,e.total,t)},e.onload=function(e){var t,o;i&&(t=i-r),(t=e.response?e.response.byteLength:t)||"content-length"in(o=kn(wn(e.responseHeaders)))&&(t=Qr(o["content-length"])),a(s,t,t),n(e)}):e.onload=n,ai(e)}function c(e){d&&p.finish(),s.onload({data:h,mime:g},e)}var d=!!s.onprogress,p=null,m=null,h=(d&&(p=new Vi({cb:s.onprogress,elements_num:1}),m=function(e,t,o,r){!p.total_size&&r&&(p.total_size=r),p.update(e,t,o)}),null),g=null,f=s.chunk_size;u(0,f=f||0===f?f:524288,function(e){var t=kn(wn(e.responseHeaders)),o=0;if(200===e.status)o=e.response.byteLength;else{if(206!==e.status)return Zr("Bad status",e.status,e),s.onload(null,e);if(null===(o=l(t)))return Zr("Unable to find length through content-range"),s.onload(null,e)}if((h=new Uint8Array(o)).set(new Uint8Array(e.response),0),e.response.byteLength>=o)return c(e);"content-type"in t&&(g=t["content-type"]),d&&(p.total_size=o);for(var r=[],i=e.response.byteLength;;i+=f){var n=[i],a=!0;if(f<o-i&&(n.push(i+f),a=!1),r.push(n),a)break}d&&(p.elements_num+=r.length),Se({concurrency:s.chunks||5,queue:r,runner:function(t,o){u(t[0],t[1],function(e){h.set(new Uint8Array(e.response),t[0]),o()},m)}},function(){c(e)}).start()},m)},qe=null,Te=null,Ie=null,Yi=(v&&(Te=function(e,t){Mr&&Yr("clipboard_write execcommand",e);var o=document.createElement("textarea");o.style.height="1px",o.style.width="1px",o.style.resize="none",o.style.appearance="none",o.style.border="0",o.style.margin="0",o.style.padding="0",o.style.display="inline",o.style.cursor="default",document.body.appendChild(o),o.innerText=e.text,o.focus(),o.select(),setTimeout(function(){document.body.removeChild(o)},100),t(!!document.execCommand("copy"))},navigator.clipboard)&&(navigator.clipboard.write||navigator.clipboard.writeText)&&(Ie=function(e,t){Mr&&Yr("clipboard_write clipboard_api",e);var o="text/plain"===e.mime&&navigator.clipboard.writeText;if(!o&&navigator.clipboard.write&&"function"==typeof ClipboardItem)var r={},r=(r[e.mime]=new C([e.text],{type:e.mime}),new ClipboardItem(r)),r=navigator.clipboard.write([r]);else{if(!o)return t(!1);r=navigator.clipboard.writeText(e.text)}r.then(function(){t(!0)},function(e){console.error(e),t(!1)})}),_e&&("function"==typeof GM_setClipboard?qe=function(e,t){GM_setClipboard(e.text,e.mime),t(!0)}:"object"==typeof GM&&"function"==typeof GM.setClipboard&&(qe=function(e,t){GM.setClipboard(e.text),t(!0)})),function(o,r){r=r||hi,(o="string"==typeof o?{text:o}:o).mime||(o.mime="text/plain");function i(){for(var e,t=0;t<n.length;t++){if(n[t]){e=n[t];break}n.shift(),t--}e(o,function(e){if(0<n.length&&!e)return n.shift(),i();r(e)})}var n=[qe,Ie,Te];i()}),Ae=null,Ee=(Pr?Ae=function(e,t){if(!1===ui.browser_cookies)return t(null);Hr({type:"getcookies",data:{url:e}},function(e){t(e.data)})}:_e&&(Ae=function(e,t,o){return!1===ui.browser_cookies||(o=o||{}).need_full?t(null):(o=Cn($r),o=zn(o),e=Cn(e),void t(o===zn(e)?Ue(document.cookie):null))}),null),Ue=(Pr?Ee=function(e,t,o,r){Hr({type:"get_localstorage",data:{url:e,keys:t,options:r}},function(e){if(!e)return o(null);o(e.data)})}:_e&&(Ee=function(e,t,o,r){if(!pe(e))return o(null);o(me(t,r))}),function(e){var o=[],e=e.split(/;\s*/);return ri(e,function(e){var t=e.match(/^\s*([^=\s]+)\s*=\s*(?:"([^"]+)"|([^"]\S*))\s*$/);t?o.push({name:t[1],value:t[2]||t[3]}):Kr("Unable to parse cookie",e)}),o}),Zi=function(e){return!0},Re={fill_object:!0,null_if_no_change:!1,catch_errors:!0,use_cache:!0,use_api_cache:!0,urlcache_time:3600,iterations:200,exclude_problems:["watermark","smaller","possibly_different","possibly_broken"],exclude_videos:!1,include_pastobjs:!0,force_page:!1,allow_thirdparty:!1,allow_thirdparty_libs:!0,allow_thirdparty_code:!1,process_format:{},filter:Zi=v||o?function(e){for(var t=0;t<io.length;t++)if(io[t].test(e))return!1;return!0}:Zi,rule_specific:{deviantart_prefer_size:!1,deviantart_support_download:!0,ehentai_full_image:!0,imgur_source:!0,imgur_nsfw_headers:null,instagram_use_app_api:!1,instagram_dont_use_web:!1,instagram_prefer_video_quality:!0,instagram_gallery_postlink:!1,snapchat_orig_media:!0,teddit_redirect_reddit:!0,tiktok_no_watermarks:!1,tiktok_thirdparty:null,tumblr_api_key:null,twitter_use_ext:!1,linked_image:!1},do_request:ai,get_cookies:Ae,host_url:null,document:null,window:null,element:null,cb:null},De={url:null,always_ok:!1,likely_broken:!1,can_head:!0,can_multiple_request:!0,head_ok_errors:[],head_wrong_contenttype:!1,head_wrong_contentlength:!1,need_blob:!1,need_data_url:!1,waiting:!1,redirects:!1,forces_download:!1,is_private:!1,is_pagelink:!1,is_original:!1,norecurse:!1,forcerecurse:!1,can_cache:!0,bad:!1,bad_if:[],fake:!1,media_info:{type:"image",delivery:null},video:!1,album_info:null,headers:{},cookie_url:null,need_credentials:!0,content_type:null,max_chunks:0,referer_ok:{same_domain:!1,same_domain_nosub:!1},extra:{page:null,caption:null,created_date:null,updated_date:null,author_username:null,id:null},filename:"",problems:{watermark:!1,smaller:!1,possibly_different:!1,possibly_broken:!1,possibly_upscaled:!1,bruteforce:!1}};function Ki(e){return e&&"object"==typeof e&&("namespaceURI"in e&&"nodeType"in e&&"nodeName"in e&&"childNodes"in e||"function"==typeof e.HTMLElement&&"object"==typeof e.navigator||!(!v||!(e instanceof Node||e instanceof Element||e instanceof HTMLDocument||e instanceof Window)))}function Le(e){return"object"==typeof e&&null!==e&&!Gr(e)&&!Ki(e)}var je=function(e){var t,o={};for(t in e)o[t]=e[t];return o},Me=("assign"in Object&&(je=function(e){return Object.assign({},e)}),function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o]);return t});function Ji(e){if(Le(e)){if(Gr(e))return Me(e);if("object"==typeof e)return je(e)}return e}function si(t,e){if((e=e||{}).history||(e.history=[]),"string"==typeof t||null==t)return t;if(Ki(t)||t instanceof RegExp){if(!e.json)return t}else if("function"==typeof t){if(!e.json)return t}else{if("object"!=typeof t)return t;if(!(0<=Br(e.history,t))){if(e.history.push(t),Gr(t))for(var o=[],r=0;r<t.length;r++){var i=t[r];o.push(si(i,e))}else for(var n in o={},t)try{o[n]=si(t[n],e)}catch(e){o[n]=t[n]}return o}}}function Qi(e){return si(e,{json:!0})}var Pe=function(){var e="";try{e=window.navigator.userAgent}catch(e){}var t="(!!!UNKNOWN, PLEASE FILL IN!!!)\n";try{t=w.script.version}catch(e){}var o="(unable to find)";try{o=Or(function(){for(var e=$(Or(ui)),t=0;t<Be.length;t++)delete e[Be[t]];return e}())}catch(e){}e=["User agent: "+e,"Is userscript: "+_e,"Is addon: "+Pr,"Image Max URL version: "+t,"Settings: "+o];if(_e)try{e.push("Userscript manager: "+y),e.push("Userscript manager version: "+_)}catch(e){}return e.join("\n")};function en(e){return"true"===e||!0===e||1===e||"false"!==e&&!1!==e&&0!==e&&void 0}var Z=["en","es","fr","it","ko","ru","zh-CN"],He="en";try{He=("undefined"==typeof navigator?"en":navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage).toLowerCase(),Br(Z,He)<0&&(He=He.replace(/-.*/,""),Br(Z,He)<0)&&(He="en")}catch(e){Zr(e),Br(Z,He)<0&&(He="en")}var $e={options_header:{en:"Options",es:"Opciones",it:"Opzioni",ko:"옵션",ru:"Параметры","zh-CN":"选项"},yes:{en:"Yes",es:"Sí",fr:"Oui",it:"Sì",ko:"예",ru:"Да","zh-CN":"是"},no:{en:"No",es:"No",fr:"Non",it:"No",ko:"아니오",ru:"Нет","zh-CN":"否"},Import:{it:"Importa",ko:"가져오기",ru:"Импорт","zh-CN":"导入"},Export:{it:"Esporta",ko:"내보내기",ru:"Экспорт","zh-CN":"导出"},"Requires:":{it:"Richiede",ko:"요구사항:",ru:"Требуется:","zh-CN":"需要:"},"Or:":{ru:"Или:","zh-CN":"或者:"},Redirection:{es:"Redirección",ko:"리디렉션",ru:"Перенаправление","zh-CN":"重定向"},subcategory_update:{en:"Updates",ru:"Обновление","zh-CN":"更新"},subcategory_libraries:{en:"3rd-party libraries",ru:"Сторонние библиотеки","zh-CN":"第三方库"},subcategory_settings:{en:"Settings",es:"Ajustes",ru:"Настройки","zh-CN":"设置"},subcategory_ui:{en:"UI",es:"Interfaz",ru:"Интерфейс","zh-CN":"界面"},subcategory_trigger:{en:"Trigger",es:"Acciones del popup",fr:"Déclencheur",ko:"트리거",ru:"Действия всплывающего окна","zh-CN":"触发器"},subcategory_popup_source:{en:"Source",ru:"Источник всплывающего окна","zh-CN":"弹窗源头"},subcategory_open_behavior:{en:"Open Behavior",es:"Comportamiento al Abrir",ko:"열기 동작",ru:"Поведение при открытии","zh-CN":"打开方式"},subcategory_close_behavior:{en:"Close Behavior",es:"Comportamiento al Cerrar",ko:"닫기 동작",ru:"Поведение при закрытии","zh-CN":"关闭方式"},subcategory_behavior:{en:"Popup Behavior",es:"Comportamiento del Popup",ru:"Поведение всплывающего окна","zh-CN":"行为"},subcategory_video:{en:"Video/Audio",ko:"영상/오디오",ru:"Видео/Аудио","zh-CN":"视频/音频"},subcategory_gallery:{en:"Gallery",es:"Galeria",ru:"Галерея","zh-CN":"图库"},subcategory_popup_other:{en:"Other",es:"Otro",fr:"Autre",ru:"Прочее","zh-CN":"其他"},subcategory_cache:{en:"Cache",ru:"Кэш","zh-CN":"缓存"},Shortcuts:{ru:"Горячие клавиши","zh-CN":"快捷键"},subcategory_keybinds_popup_actions:{en:"Popup actions",ru:"Действия всплывающего окна","zh-CN":"操作弹窗"},"Mouse cursor":{it:"Sposta cursore",ko:"마우스 커서",ru:"Курсор мыши","zh-CN":"鼠标光标"},Rules:{fr:"Règles",ko:"규칙",ru:"Правила","zh-CN":"规则"},subcategory_rule_specific:{en:"Rule-specific",ru:"Специфика правил","zh-CN":"专用规则"},Website:{fr:"Site",ko:"웹사이트",ru:"Сайт","zh-CN":"网站"},"Saved! Refresh the target page for changes to take effect":{fr:"Enregistré! Actualiser la page que vous visitez pour que les changements prennent effet",ko:"저장됩니다. 번경사항 적용하려면 대상 웹페이지 다시 로드하십시오",ru:"Сохранено! Обновите целевую страницу, чтобы применить изменения.","zh-CN":"已保存，刷新目标页面使更改生效"},"Saved!":{fr:"Enregistré!",ko:"저장됩니다",ru:"Сохранено!","zh-CN":"已保存"},save:{en:"Save",fr:"Enregistrer",ko:"저장",ru:"Сохранить","zh-CN":"保存"},Record:{ru:"Переназначить","zh-CN":"录制"},Cancel:{fr:"Annuler",ko:"취소",ru:"Отмена","zh-CN":"取消"},"Mouseover popup (%%1) is needed to display the original version":{fr:"Popup (%%1) est nécessaire pour trouver la version originale",it:"Il popup del mouse (%%1) serve a mostrare la versione originale",ko:"원본 이미지 보려면 팝업 (%%1) 필요합니다",ru:"Всплывающее окно при наведении мыши (%%1) необходимо для отображения оригинальной версии","zh-CN":"需要鼠标悬停弹窗（%%1）来显示原始版本"},"custom headers":{fr:"en-têtes spéciales",ko:"특정 헤더",ru:"Пользовательские заголовки","zh-CN":"自定义标题"},"forces download":{en:"forces download",ru:"Скачать принудительно","zh-CN":"强制下载"},Close:{fr:"Fermer",it:"Chiudi",ko:"닫기",ru:"Закрыть","zh-CN":"关闭"},Previous:{fr:"Image précédente",it:"Precedente",ko:"이전",ru:"Предыдущее","zh-CN":"上一个"},Next:{fr:"Image suivante",it:"Prossimo",ko:"다음",ru:"Следуещее","zh-CN":"下一个"},"Left Arrow":{fr:"Flèche gauche",it:"Freccia sinistra",ko:"왼쪽 화살표",ru:"Стрелка влево","zh-CN":"左箭头"},"Right Arrow":{fr:"Flèche droite",it:"Freccia destra",ko:"오른쪽 화살표",ru:"Стрелка вправо","zh-CN":"右箭头"},subcategory_extension:{en:"Extension",ru:"Расширение","zh-CN":"扩展"},"Rotate Left":{ru:"Повернуть влево","zh-CN":"向左旋转"},"Rotate Right":{ru:"Повернуть вправо","zh-CN":"向右旋转"},Buttons:{ru:"Дополнительно","zh-CN":"其他"},subcategory_replaceimages:{en:"Replace Images",ru:"Замена изображений","zh-CN":"替换图像"},subcategory_highlightimages:{en:"Highlight Images",ru:"Выделение изображений","zh-CN":"高亮图像"},General:{es:"General",ko:"일반",ru:"Общие","zh-CN":"通用"},"Enable extension":{it:"Abilita estensione",ru:"Включить расширение","zh-CN":"启用扩展"},"Globally enables or disables the extension":{it:"Abilita o disabilita globalmente l'estensione",ru:"Переключает расширение глобально","zh-CN":"全局启用或禁用扩展"},Language:{es:"Lenguaje",it:"Lingua",ko:"언어",ru:"Язык","zh-CN":"语言"},"Language for this extension":{it:"Lingua per questa estensione",ru:"Язык этого расширения","zh-CN":"此扩展程序的语言"},English:{ru:"Английский","zh-CN":"英语"},"Español":{ru:"Испанский","zh-CN":"西班牙语"},"Français":{ru:"Французкий","zh-CN":"法语"},Italiano:{ru:"Итальянский","zh-CN":"意大利语"},"한국어":{ru:"Корейский","zh-CN":"韩语"},"Русский":{ru:"Русский","zh-CN":"俄语"},"Dark mode":{it:"Modalità scura",ko:"다크 모드",ru:"Тёмный режим","zh-CN":"深色模式"},"Changes the colors to have light text on a dark background":{it:"Cambia i colori per avere testo chiaro su sfondo scuro",ko:"어두운 배경, 밝은 텍스트가 표시되도록 변경합니다.",ru:"Изменяет цвета, делая текст на тёмном фоне, светлым.","zh-CN":"将颜色更改为在深色背景上显示浅色文本"},"Description below options":{it:"Descrizione sotto le opzioni",ko:"옵션 아래에 설명 표시",ru:"Описание под параметрами","zh-CN":"选项下方显示描述"},"Shows the description below the options (otherwise the description is only shown when you hover over the option's name)":{it:"Mostra la descrizione sotto le opzioni (alternativamente, la descrizione viene mostrata solo quando il mouse si trova sopra il nome dell'opzione)",ko:"옵션 아래에 설명 표시 (비활성화 시, 옵션 이름 위에 마우스를 올려 놓을 때만 설명이 표시됨)",ru:"Показывает описание под параметрами (в противном случае описание отображается только при наведении курсора мыши на имя параметра)","zh-CN":"选项下方显示描述（禁用则仅当鼠标悬停在选项的名称上时显示说明）"},"Show disabled options":{it:"Mostra opzioni inattive",ko:"비활성화된 설정 표시",ru:"Показывать отключенные параметры","zh-CN":"显示停用的选项"},"If disabled, options that are disabled due to their requirements being unmet will not be displayed":{it:"Se inattivo, le opzioni che sono inattive a causa dei loro requisiti necessari non raggiunti non verranno mostrate",ru:"Если отключено, то параметры которые отключены из-за невыполнения требований будут скрыты","zh-CN":"禁用后将不显示因未满足要求而被停用的选项"},"Show disabled trigger profiles":{ru:"Показывать отключенные целевые профили","zh-CN":"显示停用的触发器配置"},"If disabled, options for alternate trigger profiles (options with `(#2)` after them) will not be shown if the relevant trigger isn't active":{ru:"Если отключено, то параметры альтернативных целевых профилей (параметры с `(#2)` после них) будут скрыты, если соответствующая цель не активна","zh-CN":"如果禁用，将不显示相关触发器未被激活的备用触发器的配置选项（带有 `(#2)` )"},"Requirements below disabled options":{ko:"비활성화된 옵션 아래의 요구 사항",ru:"Требования под отключенными параметрами","zh-CN":"停用选项下方显示需求"},"If an option is disabled, the requirements to enable the option will be displayed below it":{ko:"옵션이 비활성화되면 옵션을 활성화하기 위한 요구 사항이 아래에 표시됨",ru:"Если отключено, то под недоступными параметрами будут отображаться требования для их включения","zh-CN":"在已停用选项的下方显示启用要求"},"Check for updates":{ko:"업데이트 확인",ru:"Проверять наличие обновлений","zh-CN":"检查更新"},"Periodically checks for updates. If a new update is available, it will be shown at the top of the options page":{ru:"Периодически проверяет наличие обновлений. Новое обновление будет показано в верхней части страницы параметров.","zh-CN":"定期检查更新。有可用的更新时将在选项页面的顶部显示"},"Update check interval":{ko:"업데이트 확인 간격",ru:"Интервал проверки обновления","zh-CN":"更新检查间隔"},"How often to check for updates":{ko:"업데이트 확인 빈도",ru:"Как часто будет происходить проверка наличия обновлений","zh-CN":"多久检查一次更新"},hours:{ko:"시간",ru:"ч.","zh-CN":"小时"},"Notify when update is available":{ko:"업데이트가 있을 때 알림",ru:"Уведомлять о появлении обновления","zh-CN":"有可用更新时通知"},"Creates a browser notification when an update is available":{ko:"업데이트가 있을 때 브라우저 알림을 받습니다.",ru:"Создаёт уведомление в браузере, когда обновление доступно.","zh-CN":"有可用更新时弹出浏览器通知"},"Show advanced settings":{ko:"고급 설정 표시",ru:"Показывать расширенные настройки","zh-CN":"显示高级设置"},"If disabled, settings that might be harder to understand will be hidden":{ko:"비활성화 시, 이해하기 어려울 수 있는 설정이 숨겨짐",ru:"Если отключено, то более сложные настройки, будут скрыты","zh-CN":"禁用后将隐藏比较难以理解的设置"},"Use tabs":{ko:"탭 사용",ru:"Использовать вкладки","zh-CN":"标签式设置"},"If disabled, all settings will be shown on a single page":{ko:"비활성화 시, 모든 설정이 한 페이지에 표시됩니다.",ru:"Если отключено, то все настройки будут отображаться на одной странице","zh-CN":"如果禁用，将在同一页上显示全部设置"},"Alphabetical order":{ru:"В алфавитном порядке","zh-CN":"按字母顺序"},"Lists options in alphabetical order":{ru:"Список параметров будет отсортирован в алфавитном порядке","zh-CN":"以字母顺序排列选项"},"Allow using browser XHR":{ru:"Разрешить браузеру использовать XHR","zh-CN":"允许使用浏览器 XHR"},"This allows XHR requests to be run in the browser's context if they fail in the extension (e.g. when Tracking Protection is set to High)":{ru:"Это позволяет запускать запросы XHR в контексте браузера, если они не работают в расширении (например, когда защита отслеживания установлена на Высокий уровень)","zh-CN":"允许扩展中运行 XHR 请求失败时在浏览器上下文中运行 XHR。原因例如“跟踪保护”被设定为高。"},"Retry requests with 503 errors":{ru:"Повторять запрос с ошибкой 503","zh-CN":"重试返回 503 错误的请求"},"Amount of times to retry a request when 503 (service unavailable) is returned by the server":{ru:"Количество повторных попыток запроса, когда сервер возвращает 503 (служба недоступна)","zh-CN":"服务器返回 503 错误（服务不可用）时，重试请求次数"},times:{ru:"раз(а)","zh-CN":"次"},"Delay between 503 retries":{ru:"Задержка между повторами 503","zh-CN":"503 重试之间延迟"},"Time (in milliseconds) to delay between retrying requests that received 503":{ru:"Время (в миллисекундах) для задержки между повторной попыткой запросов при получении 503","zh-CN":"收到 503 错误后重试请求之间延迟多久（毫秒）"},"Use `Blob` over `ArrayBuffer`":{ru:"Использовать `Blob` поверх `ArrayBuffer`","zh-CN":"使用 Blob 代替 ArrayBuffer"},"Uses `Blob`s for XHRs instead of `ArrayBuffer`s. Keep this enabled unless your userscript manager doesn't support blob requests":{ru:"Использует `Blob`ы для XHR, вместо `ArrayBuffer`ов. Не отключайте, если ваш менеджер пользовательских скриптов не поддерживает запросы blob.","zh-CN":"XHR 中使用 Blob 代替 ArrayBuffer。除非您的用户脚本管理器不支持 Blob 请求，否则保持启用"},"Live settings reloading":{ru:"Перезагрузка настроек в реальном времени","zh-CN":"设置实时生效"},"Enables/disables live settings reloading. There shouldn't be a reason to disable this unless you're experiencing issues with this feature":{ru:"Переключает перезагрузку параметров в реальном времени. Не должно быть причин для отключения этой функции. Отключить только если у вас есть с ней проблемы.","zh-CN":"启用/禁用设置实时重新加载。除非遇到此功能相关的问题，否则应保持此功能启用"},"Disable keybindings when editing text":{ru:"Отключить горячие клавиши при редактировании текста","zh-CN":"编辑文本框时禁用快捷键"},"Disables shortcuts when key events are sent to an input area on the page":{ru:"Отключает горячие клавиши при отправке событий клавиш в область ввода на странице","zh-CN":"将键盘事件发送到页面上的输入区域时，停用已设置的快捷键"},"Use `GM_download` if available":{ru:"Использовать `GM_download`, если доступно","zh-CN":"可用时使用 GM_download"},"Prefers using `GM_download` over simple browser-based downloads, if the function is available. Some userscript managers download the entire file before displaying a save dialog, which can be undesirable for large video files":{ru:"Предпочтительно использует `GM_download` вместо простых скачиваний в браузере, если эта функция доступна. Некоторые менеджеры пользовательских скриптов скачивает весь файл перед отображением диалога сохранения, что может быть нежелательно для больших видеофайлов.","zh-CN":"优先使用 GM_download 代替浏览器的下载功能。部分用户脚本管理器会在显示“保存”对话框前下载整个文件，这不利于下载大体量的视频文件"},"Maximum size to `GM_download`":{ru:"Максимальный размер для `GM_download`","zh-CN":"GM_download 大小上限"},"If a file is larger than this size, use a simple browser-based download instead. Set to `0` for unlimited.":{ru:"Если файл больше этого размера, используется простое скачивание через браузер. `0` - неограниченно.","zh-CN":"文件大于此大小时改用基于浏览器的下载功能。设为 0 表示无限制。"},MB:{ru:"МБ","zh-CN":"MB"},"Force save dialog when downloading":{ru:"Принудительное диалоговое окно сохранения при скачивании","zh-CN":"下载时强制打开“保存”对话框"},"Tries to ensure the 'save as' dialog displays when downloading. This requires the 'downloads' permission to work, and will sometimes not work when custom headers are required.":{ru:"Посторается обеспечить отображение диалогового окна 'Сохранить как' при скачивании. Для этого требуется разрешение на 'скачивание', и иногда не будет работать, когда требуются пользовательские заголовки.","zh-CN":"尝试确保下载时打开“另存为”对话框。此功能需要“下载”权限，并且搭配“自定义头”时可能无效。"},"Enable logging to console":{ru:"Запись журнала в консоли","zh-CN":"启用控制台日志"},"Allows the script to log messages to the browser console.":{ru:"Позволяет скрипту записывать сообщения в консоль браузера.","zh-CN":"允许记录日志消息到浏览器的控制台。"},"Enable writing to clipboard":{ru:"Запись в буфер обмена","zh-CN":"启用写入剪贴板"},"This option does nothing on its own, but enabling it allows other functionality that require writing to the clipboard to work":{ru:"Параметр сам по себе ничего не делает, но его включение позволяет работать другим функциям, требующим записи в буфер обмена.","zh-CN":"此选项本身无功能，但启用它才能使其他需要写入剪贴板的功能运作"},"Enable redirection":{es:"Habilitar redirección",fr:"Activer la redirection",ko:"리디렉션 사용",ru:"Перенаправление","zh-CN":"启用重定向"},"Automatically redirect media opened in their own tab to their larger/original versions":{ru:"Автоматически перенаправляет открытое медиа на новую вкладку к их более крупной/оригинальной версии","zh-CN":"在打开的媒体文件标签页中自动重定向到其更清晰的版本"},"Allow video":{ru:"Разрешить видео","zh-CN":"允许视频"},"Allows redirecting from/to video":{ru:"Позволяет перенаправлять с/на видео","zh-CN":"允许视频被重定向"},"Allow audio":{ru:"Разрешить аудио","zh-CN":"允许音频"},"Allows redirecting from/to audio":{ru:"Позволяет перенаправлять с/на аудио","zh-CN":"允许音频被重定向"},"Add to history":{es:"Agregar al historial",fr:"Ajouter à l'historique",ko:"브라우저 기록에 추가",ru:"Добавлять в историю","zh-CN":"添加到历史记录"},"Redirection will add a new entry to the browser's history":{ko:"리디렉션 시, 브라우저의 기록에 새 항목이 추가됨",ru:"Перенаправление будет добавлять новую запись в историю браузера","zh-CN":"重定向发生时在浏览器的历史记录中加入一条记录"},"Do redirection in extension":{ru:"Выполнять перенаправление в расширении","zh-CN":"在扩展中执行重定向"},"Performs the redirection in the extension instead of the content script. This is significantly faster and shouldn't cause issues in theory, but this option is kept in case of regressions":{ru:"Выполняет перенаправление в расширении вместо скрипта. Теоритически это значительно быстрее и не должно вызывать проблем, но этот параметр сохраняется в случае регрессий.","zh-CN":"在扩展内而非内容脚本中执行重定向。这样快得多并且理论上不应该引起问题，但该选项被保留以防特殊问题"},"Use GET if HEAD is unsupported":{es:"Utilizar GET si HEAD no es soportado",fr:"Utiliser GET si HEAD n'est pas supporté",ko:"HEAD 지원되지 않으면 GET 사용",ru:"Использовать GET, если HEAD не поддерживается","zh-CN":"不支持 HEAD 时改用 GET"},"Use a GET request to check an image's availability, if the server does not support HEAD requests":{ru:"Будет использоваться GET-запрос для проверки доступности изображения, если сервер не поддерживает запросы HEAD.","zh-CN":"服务器不支持 HEAD 请求时改用一条 GET 请求来检查一个图像的可用性"},"Try finding extra information":{ru:"Пытаться найти расширенную информацию","zh-CN":"尝试查找额外信息"},"Enables methods that use API calls for finding extra information, such as the original page, caption, or album information. Note that this option does not affect finding the original media.":{ru:"Включает методы, использующие вызовы API для поиска расширенной информации, такой как оригинальная страница, подпись или сведения об альбоме. Обратите внимание, что этот параметр не влияет на поиск оригинального медиа.","zh-CN":"启用通过 API 调用查找额外信息的方法，查找如原始页面、标题或相册信息。此选项不影响查找原始版本的媒体文件。"},SmugMug:{ru:"SmugMug","zh-CN":"SmugMug"},"Enable tooltip":{ru:"Всплывающая подсказка","zh-CN":"启用工具提示"},"Enables the 'Mouseover popup is needed to display the original version' tooltip":{ru:"Включает подсказку «Для отображения исходной версии требуется всплывающее окно при наведении мыши».","zh-CN":"启用“需要鼠标悬停弹窗来显示原始版本”的工具提示"},"Show image URL in tooltip":{ko:"툴팁에 이미지 URL 표시",ru:"Показывать URL изображения во всплывающей подсказке","zh-CN":"在工具提示中显示图像 URL"},"If the popup is needed to display the larger version of an image, display the image link in the tooltip":{ko:"더 큰 버전의 이미지를 표시하기 위해 팝업이 필요한 경우 이미지 링크를 툴팁에 표시함",ru:"Если всплывающее окно необходимо для отображения увеличенной версии изображения, отобразите url на изображение во всплывающей подсказке.","zh-CN":"如果需要弹窗来显示图像的较大版本，在工具提示中显示图像链接"},"Hide tooltip after":{ko:"툴팁 숨기기",ru:"Скрывать всплывающую подсказку через","zh-CN":"隐藏工具提示的时间"},"Hides the tooltip after the specified number of seconds (or when the mouse clicks on it). Set to 0 to never hide automatically":{ko:"지정된 시간(초) 후에(또는 마우스가 툴팁을 클릭할 때) 툴팁을 숨긴다. 자동으로 숨기지 않으려면 0으로 설정",ru:"Скрывает всплывающую подсказку после указанного количества секунд (или когда мышь щёлкает по ней). 0 - не скрывать автоматически.","zh-CN":"在指定秒数后隐藏工具提示。鼠标单击后也会隐藏。设为 0 则禁用自动隐藏"},"Log info object to console":{ru:"Выводить информацию об объекте в консоль","zh-CN":"记录信息对象到控制台"},"Prints the full info object to the console whenever a popup/redirect is found":{ru:"Выводит полную информацию объекта в консоль всякий раз, когда обнаруживается всплывающее окно/перенаправление","zh-CN":"每当发现弹出/重定向时，记录完整的信息对象到控制台"},"Disable when response headers need modifying":{ru:"Отключать, когда заголовки ответов нуждаются в изменении","zh-CN":"需要修改响应头时禁用"},"This option works around Chrome's migration to manifest v3, redirecting some images to being force-downloaded":{ru:"Этот параметр работает вокруг миграции Chrome в manifest v3, перенаправляя некоторые изображения к принудительному скачиванию","zh-CN":"此选项是为配合 Chrome 的迁移到 manifest v3，重定向一些图像来强制下载"},"Redirect to largest without issues":{ko:"문제없이 최대로 리디렉션",ru:"Без проблем перенаправлять на самое большое","zh-CN":"无需求也重定向到最大版本"},"Redirects to the largest image found that doesn't require custom headers or forces download":{ko:"사용자 지정 헤더나 강제 다운로드가 필요 없는 가장 큰 이미지로 리디렉션",ru:"Перенаправляет на самое большое найденное изображение, которое не требует пользовательских заголовков или принудительного скачивания.","zh-CN":"重定向到找到的最大图像版本，哪怕不需要自定义头或强制下载"},"Redirect for HTML pages too":{ru:"Перенаправлять для HTML-страниц тоже","zh-CN":"同时重定向 HTML 页面"},"Tries redirection even if the host page is HTML. This option might be useful for dead links. However, this will also result in many normal pages being redirected to images/video, so please avoid enabling this by default!":{ru:"Пытается перенаправить, даже если хост является страницой HTML. Этот параметр может быть полезен для мёртвых ссылок. Однако, это также приведёт к тому, что многие обычные страницы будут перенаправлены на изображения/видео, поэтому, не включайте это по умолчанию!","zh-CN":"尝试重定向，即使主页是 HTML。此选项可能对失效链接有用。但是，这也会导致许多正常的页面被重定向到图像/视频，所以请避免默认启用这个！"},"This will result in many pages being redirected to images/videos.\nI'd recommend only enabling this for the media you need it for, then disabling it after.":{ru:"В результате многие страницы будут перенаправлены на изображения/видео.\nРекомендуется включать это только для тех медиа, для которых это нужно, а после снова отключить.","zh-CN":"这将导致许多页面被重定向到图像/视频。我建议只为您需要的媒体启用它，然后再禁用它。"},"Enable mouseover popup":{en:"Enable image popup",es:"Activar popup de la imagen",fr:"Activer le popup",ko:"이미지 팝업 사용",ru:"Всплывающее окно при наведении мыши","zh-CN":"启用鼠标悬停弹窗"},"Show a popup with the larger image when you mouseover an image with the trigger key held (if applicable)":{ko:"트리거 키를 누른 상태로 영상을 마우스로 가리킬 때 더 큰 이미지로 팝업 표시 (가능한 경우)",ru:"Показывать всплывающее окно с увеличенным изображением при наведении курсора мыши на изображение с удерживаемой целевой клавишей (если применимо).","zh-CN":"当鼠标悬停在一个图像上时，用触发键（如果适用）显示一个弹窗"},"Mouseover popup trigger":{en:"Popup trigger",es:"Acción del popup al mover el ratón encima",fr:"Déclencheur du popup",ko:"팝업 트리거",ru:"Действие всплывающего окна при наведении мыши","zh-CN":"鼠标悬停弹窗触发器"},"How the popup will get triggered":{ko:"팝업 작동 방법",ru:"Как будет срабатывать всплывающее окно","zh-CN":"弹窗触发方式"},Mouseover:{es:"Mover ratón encima",ko:"마우스",ru:"При наведение курсора мыши","zh-CN":"鼠标悬停"},"Triggers when your mouse is over the image":{ru:"Срабатывает при наведении курсора на изображении","zh-CN":"鼠标在图像上悬停时触发"},"Key trigger":{es:"Tecla de acción",ko:"키 바인딩",ru:"При нажатии клавиши","zh-CN":"按键触发"},"Triggers when you press a key sequence when your mouse is over an image":{ru:"Срабатывает при нажатии комбинации клавиш, когда курсор находится на изображении.","zh-CN":"当鼠标在图像上悬停时按指定键触发"},"Disables the popup from being triggered (useful if you only want to use the context menu item)":{ru:"Отключает срабатывание всплывающего окна (полезно, если вы хотите использовать только пункт контекстного меню)","zh-CN":"禁止触发弹窗（如果您只想使用右键菜单项，则此选项很实用）"},"Popup trigger key":{es:"Tecla de acción del popup",ko:"팝업 키 바인딩",ru:"Комбинация клавиш запуска всплывающего окна","zh-CN":"弹窗触发键"},"Key sequence to trigger the popup":{ko:"팝업이 작동하는 키",ru:"Комбинация клавиш при которой запускается всплывающее окно","zh-CN":"触发弹窗的按键序列"},"Popup trigger key (#2)":{ru:"Комбинация клавиш запуска всплывающего окна (#2)","zh-CN":"弹窗触发键 (#2)"},"Key sequence to trigger the popup with alternate options. Search for `(#2)` to find the relevant options":{ru:"Комбинация клавиш при которой запускается всплывающее окно с альтернативными параметрами. Ищите `(#2)`, чтобы найти соответствующие параметры.","zh-CN":"触发弹窗的按键序列，搭配备用选项。搜索“(#2)”找到相关的选项"},"Popup trigger key (#3)":{ru:"Комбинация клавиш запуска всплывающего окна (#3)","zh-CN":"弹窗触发键 (#3)"},"Key sequence to trigger the popup with alternate options. Search for `(#3)` to find the relevant options":{ru:"Комбинация клавиш при которой запускается всплывающее окно с альтернативными параметрами. Ищите `(#3)`, чтобы найти соответствующие параметры.","zh-CN":"触发弹窗的按键序列，搭配备用选项。搜索“(#3)”找到相关的选项"},"Popup trigger delay":{es:"Retraso de acción del popup",ko:"팝업 작업 지연 시간",ru:"Задержка срабатывания всплывающего окна","zh-CN":"弹窗触发键延迟"},"Delay (in seconds) before the popup shows":{ko:"팝업이 표시될 때까지 지연 (초)",ru:"Задержка (в секундах) до появления всплывающего окна","zh-CN":"弹窗显示前延迟（秒）"},"Use mouseover event":{ru:"Использовать событие наведения курсора мыши","zh-CN":"使用 mouseover 事件"},"Uses the mouseover event instead of mousemove to figure out where to trigger the popup. This more closely matches the way other image popup addons work, at the cost of configurability":{ru:"Использует событие 'наведения курсора мыши' вместо 'движения курсора мыши', чтобы выяснить, где вызвать всплывающее окно. Это более точно соответствует тому, как работают другие дополнения к всплывающим изображениям, за счёт конфигурируемости/","zh-CN":"使用 mouseover 事件而不是 mousemove 来确定在哪里触发弹窗。这更接近于其他图像弹窗扩展的运作方式，代价是可配置性"},"Enable/disable toggle":{ru:"Включить/Выключить","zh-CN":"启用/禁用切换开关"},"Controls whether the 'Popup enable/disable key' will enable or disable the popup from opening":{ru:"Управляет тем, будет ли 'Клавиша включения/отключения всплывающего окна' включать или отключать открытие всплывающего окна.","zh-CN":"控制“弹窗启用/禁用键”是否控制弹窗的打开"},Enable:{ru:"Включить","zh-CN":"启用"},Disable:{ru:"Отключить","zh-CN":"禁用"},"Popup enable/disable key":{ru:"Клавиша включения/отключения всплывающего окна","zh-CN":"弹窗启用/禁用键"},"Holding down this key will enable or disable the popup from being opened, depending on the 'Enable/disable toggle' setting":{ru:"Удерживание этой клавиши включит или отключит всплывающее окно, в зависимости от настройки 'Включить/Выключить'.","zh-CN":"按住这个键将启用/禁用弹窗打开，具体取决于“启用/禁用切换开关”设置"},"Allow showing partially loaded":{ko:"부분적으로 로드된 상태로 표시 허용",ru:"Разрешить показывать частично загруженные","zh-CN":"允许显示部分加载的内容"},"This will allow the popup to open for partially loaded media.\nPartially loaded media will contain the source URL directly (where possible), whereas fully loaded media will use a blob or data URL.":{ru:"Это позволит открыть всплывающее окно для частично загруженных медиа.\nЧастично загруженные медиа будут содержать исходный URL напрямую (где это возможно), тогда как полностью загруженные медиа будут использовать BLOB или URL-адрес данных.","zh-CN":"这将允许为部分加载的媒体打开弹窗。\n部分加载的媒体将直接包含源 URL（如果可能），而完全加载的媒体使用 blob 或数据 URL。"},"This will allow the popup to open for partially loaded media, but this might break images that require custom headers to display properly.\nPartially loaded media will contain the source URL directly (where possible), whereas fully loaded media will use a blob or data URL.":{ru:"Это позволит открыть всплывающее окно для частично загруженных медиа, но это может поломать изображения, для правильного отображения которых требуются пользовательские заголовки.\nЧастично загруженные медиа будут содержать исходный URL-адрес напрямую (где это возможно), тогда как полностью загруженные медиа будут использовать BLOB или URL-адрес данных.","zh-CN":"这将允许为部分加载的媒体打开弹窗，但这可能导致需要自定义标头才能正确显示的图像出错。\n部分加载的媒体将直接包含源 URL（如果可能），而完全加载的媒体使用 blob 或数据 URL。"},Streams:{ru:"Потоки","zh-CN":"数据流"},"Audio and video":{ru:"Аудио и видео","zh-CN":"音频和视频"},Media:{es:"Medios",ko:"미디어",ru:"Медиа","zh-CN":"多媒体"},"Images, audio, and video":{ru:"Изображения, аудио и видео","zh-CN":"图像、音频和视频"},"Avoid HEAD request for partially loaded media":{ru:"Избегать запросы HEAD для частично загруженных медиа","zh-CN":"避免对已部分加载的媒体发出 HEAD 请求"},"Avoids a possibly unnecessary HEAD request before displaying partially loaded images, which further decreases the delay before opening the popup. This can cause issues if the server returns an error, but still returns an image":{ru:"Избегает ненужного запроса HEAD перед отображением частично загруженных изображений, что еще больше уменьшает задержку перед открытием всплывающего окна. Это может вызвать проблемы, если сервер вернёт ошибку, но все равно вернет изображение.","zh-CN":"显示已部分加载的媒体时避免可能不必要的 HEAD 请求，这能进一步减少打开弹窗的延迟。但如果服务器返回一个错误的同时也返回了一个图像，这可能会导致问题"},"Use `blob:` over `data:` URLs":{ru:"Использовать `blob:` поверх `data:` URL","zh-CN":"使用 blob: 代替 data: URL"},"Blob URLs are more efficient, but aren't supported by earlier browsers. Some websites also block `blob:` URLs":{ru:"Blob URL более эффективны, но не поддерживаются старыми браузерами. Некоторые сайты также блокируют `blob:` URL.","zh-CN":"Blob URL 效率更佳，但早期版本的浏览器不支持。一些网站也屏蔽了 Blob: URL"},"Load media anonymously":{ru:"Загружать медиа анонимно","zh-CN":"匿名加载媒体"},"Loads the media without sending any cookies or other forms of credentials. This is required to screenshot videos from other sources":{ru:"Загружает медиа без отправки куки-файлов или других форм учётных данных. Это необходимо для скриншотов видео из других источников.","zh-CN":"加载媒体而不发送任何 Cookie 或其他形式的凭据。这需要有其他来源的视频截图"},"Use `not-allowed` cursor when unsupported":{ko:"지원되지 않을 때 허용되지 않는 커서를 사용",ru:"Использовать курсор `запрещено`, если не поддерживается","zh-CN":"不支持时给出鼠标指针“禁止”"},"If the image isn't supported, the mouse cursor will change to a `not-allowed` cursor for a brief duration":{ko:"이미지가 지원되지 않으면 마우스 커서가 잠시 동안 허용되지 않는 커서로 변경됨",ru:"Если изображение не поддерживается, курсор мыши на короткое время изменится на `запрещено`.","zh-CN":"如果遇到不支持的图像，鼠标指针将暂时变为“禁止”图案"},"Use `not-allowed` cursor when unable to load":{ru:"Использовать курсор `запрещено`, если невозможно загрузить","zh-CN":"无法加载时给出鼠标指针“禁止”"},"If the image fails to load, the mouse cursor will change to a `not-allowed` cursor for a brief duration":{ko:"이미지를 불러올 수 없으면 마우스 커서가 잠시 동안 허용되지 않는 커서로 변경됨",ru:"Если изображение не загружается, курсор мыши на короткое время изменится на `запрещено`.","zh-CN":"如果图像下载失败，鼠标指针将暂时变为“禁止”图案"},"`not-allowed` cursor duration":{ru:"Длительность курсора `запрещено`","zh-CN":"“禁止”指针持续时间"},"How long the `not-allowed` cursor should last":{ru:"Как долго отображается курсор `запрещено`","zh-CN":"“禁止”指针的显示持续多久"},"Exclude page background":{ko:"페이지 배경 제외",ru:"Исключать фон страницы","zh-CN":"排除页面背景"},"Excludes the page background for the popup":{ko:"팝업에 대한 페이지 배경 제외",ru:"Исключает фон страницы для всплывающего окна.","zh-CN":"避免为页面背景显示弹窗"},"Minimum size":{ru:"Минимальный размер","zh-CN":"最小尺寸"},"Smallest size acceptable for the popup to open (this option is ignored for background images). This refers to the size of the media to be popped up, which may differ from the source media.":{ru:"Наименьший размер, допустимый для открытия всплывающего окна (этот параметр игнорируется для фоновых изображений). Это относится к размеру всплывающего медиа, который может отличаться от оригинала.","zh-CN":"允许多小的图像显示弹窗。背景图像不被此选项涵盖。这指将要弹窗显示的媒体大小，这可能与源媒体不同。"},"Maximum source size":{ru:"Максимальный размер источника","zh-CN":"最大源尺寸"},"Maximum size (width/height) for the source media to allow popping up (this option is ignored for background images). Set to `0` for any size.":{ru:"Максимальный размер (ширина/высота) исходного медиафайла для разрешения всплытия (этот параметр игнорируется для фоновых изображений). `0` - любой размер.","zh-CN":"以源媒体显示弹窗的最大尺寸（宽度/高度）（对背景图像来说此选项无效)。设为 0 表示任意大小。"},"Exclude `background-image`s":{ko:"배경 이미지 제외",ru:"Исключать `background-image`","zh-CN":"排除背景图像"},"Excludes `background-image`s for the popup. Might prevent the popup from working on many images":{ko:"팝업의 배경 이미지 제외. 팝업이 많은 이미지에서 작동하지 않을 수 있음",ru:"Исключает `background-image` для всплывающего окна. Это может помешать всплывающему окну работать со многими изображениями.","zh-CN":"不为背景图像显示弹窗。可能使很多图像上不显示弹窗"},"Exclude image tabs":{ko:"이미지 탭 제외",ru:"Исключать вкладки с изображениями","zh-CN":"排除图像标签页"},"Excludes images that are opened in their own tabs":{ko:"자신의 탭에서 열린 이미지 제외",ru:"Исключает изображения, открытые в собственных вкладках.","zh-CN":"排除在单独的标签页中打开的图像"},"Exclude if media URL is unchanged":{ru:"Исключать, если ссылка медиа не изменилась","zh-CN":"排除无变化的媒体 URL"},"Don't pop up if the new URL is the same as the source":{ru:"Всплывающее окно не появляется, если ссылка как у источника.","zh-CN":"如果新 URL 与源 URL 相同则不弹出"},"Only popup for linked media":{ru:"Всплывающее окно только для медиа с ссылкой","zh-CN":"仅弹出链接形式的媒体"},"Don't pop up if the media isn't hyperlinked":{ru:"Всплывающее окно не появляется, если медиа не имеет гиперссылки","zh-CN":"不弹出非超链接形式的媒体"},"Popup link for linked media":{ru:"Всплывающее окно ссылки для медиа с ссылками","zh-CN":"链接的媒体弹窗链接"},"If the linked media cannot be made larger, pop up for the link instead of the media":{ru:"Если медиа с ссылкой не может быть увеличено, всплывает ссылка вместо медиа.","zh-CN":"如果链接的媒体不能变大，弹出该链接而非媒体"},"Exclude image maps":{ko:"이미지 맵 제외",ru:"Исключать карты изображений","zh-CN":"排除图像集"},"Don't pop up if the image is an image map (image with multiple clickable areas)":{ko:"이미지가 이미지 맵(클릭 가능한 영역이 여러 개를 가진 이미지)인 경우 팝업 표시 안 함",ru:"Всплывающее окно не появится, если изображение представляет собой карту изображения (изображение с несколькими кликальными областями).","zh-CN":"不弹出有多个可点击区域的图像集（image map）"},Autoplay:{ru:"Автовоспроизведение","zh-CN":"自动播放"},"Play automatically once the popup is opened":{ru:"Автоматически воспроизводится после открытия всплывающего окна.","zh-CN":"弹窗打开后自动播放"},"Show video controls":{ru:"Показывать элементы управления видео","zh-CN":"显示视频控件"},"Shows native video controls. Note that this prevents dragging under Firefox":{ru:"Показывает встроенные средства управления видео. Обратите внимание, что это предотвращает перетаскивание под Firefox.","zh-CN":"显示原生视频控件（视频控制按钮）。注意，这会阻止在 Firefox 中拖拽"},"Toggle video controls":{ru:"Переключатель элементов управления видео","zh-CN":"切换视频控件"},"Key to toggle whether the video controls are shown":{ru:"Клавиша для переключения отображения элементов управления видео","zh-CN":"切换是否显示视频控件的按键"},Loop:{ru:"Зациклить","zh-CN":"循环"},"Allows the media to automatically restart to the beginning after finishing playing":{ru:"Позволяет медиа автоматически перезапускаться в начало после завершения воспроизведения.","zh-CN":"是否允许媒体播放完毕后自动重新开始播放"},"Max duration for looping":{ru:"Максимальная длительность зацикливания","zh-CN":"循环最长持续时间"},"Media longer than the specified duration will not be automatically looped. Setting this to `0` will always enable looping, regardless of duration.":{ru:"Медиа с дольшей указанной длительностью не будет автоматически зациклены. Установка этого значения на `0` всегда будет включать зацикливание, независимо от длительности.","zh-CN":"超过指定时间后媒体不再自动循环播放。设为 0 则始终循环，不限制持续时间。"},"Play/pause key":{ru:"Кнопка воспроизведения/приостановки","zh-CN":"播放/暂停键"},"Key to toggle whether the media is playing or paused":{ru:"С помощью этой кнопки, вы сможете воспроизводить или приостанавливать медиа.","zh-CN":"切换媒体的播放/暂停的按键"},Mute:{ru:"Отключать звук","zh-CN":"静音"},"Mutes the media by default":{ru:"Отключает звук медиа по умолчанию.","zh-CN":"默认将媒体静音"},"Toggle mute key":{ru:"Кнопка отключения звука","zh-CN":"切换静音键"},"Key to toggle mute":{ru:"С помощью этой кнопки, вы сможете переключать звук.","zh-CN":"切换静音的按键"},"Default volume":{ru:"Громкость по умолчанию","zh-CN":"默认音量"},"Default volume for the media":{ru:"Громкость звука для медиа по умолчанию.","zh-CN":"媒体的默认音量"},"Volume up key":{ru:"Кнопка увеличения громкости","zh-CN":"音量调高键"},"Key to increase the volume":{ru:"С помощью этой кнопки, вы сможете увеличить громкость звука.","zh-CN":"增大音量的按键"},"Volume down key":{ru:"Кнопка уменьшения громкости","zh-CN":"音量调低键"},"Key to decrease the volume":{ru:"С помощью этой кнопки, вы сможете уменьшать громкость звука.","zh-CN":"减小音量的按键"},"Volume change amount":{ru:"Величина изменения громкости","zh-CN":"音量变化百分比"},"Percent for volume to increase/decrease when using the volume up/down keys":{ru:"Процент для увеличения/уменьшения громкости при использовании кнопок увеличения/уменьшения громкости.","zh-CN":"使用音量调高/调低键时，音量增减的百分比"},"Resume playback from source":{ru:"Продолжать воспроизведение из источника","zh-CN":"从源地址继续播放"},"If enabled, playback will resume from where the source left off":{ru:"Если включено, воспроизведение будет возобновлено с того места, на котором остановился источник.","zh-CN":"启用后，播放将从源媒体中停止的进度继续"},"Resume if different length":{ru:"Возобновлять, если разная длина","zh-CN":"长度不同也继续播放"},"If disabled, it will not resume if the source has a different length from the media in the popup (e.g. from a preview video to a full one)":{ru:"Если отключено, то не возобновляет, если длина из источника отличается от длины медиа во всплывающем окне (например, с предпросмотра видео до полного)","zh-CN":"禁用后，如果源媒体与弹出的媒体的时长不同（例如预览视频与完整视频的区别），则不继续播放"},"Pause source":{ru:"Приостанавливать из источника","zh-CN":"暂停源媒体"},"Pauses the source once the popup has opened":{ru:"Приостанавливает источник после открытия всплывающего окна","zh-CN":"弹窗打开后暂停源媒体"},"Seek amount":{ru:"Количество запросов","zh-CN":"进退距离"},"Amount of time to seek forward/back when using the seek keys":{ru:"Количество времени для запроса вперед/назад при использовании кнопок запроса.","zh-CN":"使用快进/快退按键时前进/后退的时间量"},"Seek left key":{ru:"Кнопка запроса влево","zh-CN":"快退键"},"Key to seek backwards by the specified amount":{ru:"С помощью этой кнопки, вы сможете сделать запрос назад от заданого количества.","zh-CN":"向左侧（之前）快速移动指定时长的按键"},"Seek right key":{ru:"Кнопка запроса вправо","zh-CN":"快进键"},"Key to seek forwards by the specified amount":{ru:"С помощью этой кнопки, вы сможете сделать запрос вперёд от заданого количества.","zh-CN":"向右侧（之后）快速移动指定时长的按键"},"Previous frame key":{ru:"Кнопка предыдущего кадра","zh-CN":"上一帧按键"},'Rewinds the video one "frame" backward. Due to current limitations, the frame size is static (but configurable), and might not match the video\'s framerate':{ru:'С помощью этой кнопки, вы сможете перематывать видео на один "кадр" назад. В связи с текущими ограничениями, размер кадра является статичным (но настраиваемым), и может не совпадать с частотой кадров видео.',"zh-CN":"将视频倒回前一帧。由于当前的限制，帧大小是静态的（但可配置），可能与视频的帧速率不匹配"},"Next frame key":{ru:"Кнопка следующего кадра","zh-CN":"下一帧按键"},'Advances the video one "frame" forward. Due to current limitations, the frame size is static (but configurable), and might not match the video\'s framerate':{ru:'С помощью этой кнопки, вы сможете перематывать видео на один "кадр" вперёд. В связи с текущими ограничениями, размер кадра является статичным (но настраиваемым), и может не совпадать с частотой кадров видео.',"zh-CN":"将视频移入下一帧。由于当前的限制，帧大小是静态的（但可配置），可能与视频的帧速率不匹配"},"Frame rate":{ru:"Частота кадров","zh-CN":"帧速率"},"Frame rate for videos to seek forward/back with the next/previous frame keys":{ru:"Частота кадров видео для запроса вперёд/назад с помощью кнопок следующий/предыдущий кадр","zh-CN":"帧速率用于视频的快进/快退按键"},FPS:{ru:"Кадров в секунду","zh-CN":"每秒帧数（FPS）"},"Speed down key":{ru:"Кнопка уменьшения скорости","zh-CN":"减速键"},"Key to decrease playback rate by a specified amount":{ru:"С помощью этой кнопки, вы сможете уменьшить скорость воспроизведения на заданную величину.","zh-CN":"此键可以将播放速率降低指定的额度"},"Speed up key":{ru:"Кнопка увеличения скорости","zh-CN":"加速键"},"Key to increase playback rate by a specified amount":{ru:"С помощью этой кнопки, вы сможете увеличить скорость воспроизведения на заданную величину.","zh-CN":"此键可以将播放速率提升指定的额度"},"Speed up/down amount":{ru:"Величина увеличения/уменьшения скорости","zh-CN":"加速/减速量"},"How much to increase/decrease the playback rate":{ru:"Насколько увеличить/уменьшить скорость воспроизведения","zh-CN":"增加/减少的播放速率"},"Reset speed key":{ru:"Кнопка сброса скорости","zh-CN":"重置速度键"},"Resets the playback rate to normal speed":{ru:"С помощью этой кнопки, вы сможете сбросить скорость воспроизведения до нормальной скорости","zh-CN":"将播放速度重置为正常速度"},"Screenshot key":{ru:"Кнопка снимка экрана","zh-CN":"屏幕截图键"},"Screenshots the current frame in the video":{ru:"С помощью этой кнопки, вы сможете сделать снимок экрана текущего кадра на видео.","zh-CN":"对视频中的当前帧截图"},"Screenshot format":{ru:"Формат снимка экрана","zh-CN":"截图格式"},"File format to save the screenshot in":{ru:"Формат файла для сохранения снимка экрана","zh-CN":"保存截图的文件格式"},PNG:{ru:"PNG","zh-CN":"PNG"},JPG:{ru:"JPG","zh-CN":"JPG"},"Popup UI":{es:"Interfaz del Popup",ko:"팝업 UI",ru:"Пользовательский интерфейс всплывающего окна","zh-CN":"弹窗界面"},"Enables a UI on top of the popup":{ru:"Включает пользовательский интерфейс в верхней части всплывающего окна.","zh-CN":"启用弹窗上的界面"},"UI Toggle key":{ru:"Кнопка переключения пользовательского интерфейса","zh-CN":"界面切换键"},"Toggles the display of the UI":{ru:"С помощью этой кнопи, вы сможете переключать отображение пользовательского интерфейса.","zh-CN":"切换界面的显示方式"},Opacity:{es:"Opacidad",fr:"Opacité",ko:"불투명",ru:"Непрозрачность","zh-CN":"不透明度"},"Opacity of the UI on top of the popup":{ru:"Непрозрачность пользовательского интерфейса в верхней части всплывающего окна.","zh-CN":"弹窗上界面的不透明度"},"Use safe glyphs":{ru:"Использовать безопасные глифы","zh-CN":"使用安全字形"},"Uses glyphs that are more likely to be available on all fonts. Enable this option if the following characters render as boxes: 🡇 🡐 🡒. The 'Noto Sans Symbols2' font contains these characters.":{ru:"Используются глифы, которые скорее всего, будут доступны на всех шрифтах. Включите этот параметр, если следующие символы отображаются в виде квадратиков: 🡇 🡐 🡒. Шрифт 'Noto Sans Symbols2' содержит эти символы.","zh-CN":"使用更可能适用于所有字体的字形。启用此选项，如果下列字符呈现为方框：🡇 🡐 🡒。“Noto Sans symboss2”字体包含这些字符。"},"Media resolution":{ru:"Разрешение медиа","zh-CN":"媒体分辨率"},"Displays the original media dimensions on top of the UI.\nCSS ID: `#sizeinfo`":{ru:"Отображает оригинальные размеры медиа в верхней части пользовательского интерфейса.\nCSS ID: `#sizeinfo`","zh-CN":"在界面上显示原始媒体尺寸。\nCSS ID: `#sizeinfo`"},"Zoom percent":{ru:"Масштабирование в процентах","zh-CN":"缩放百分比"},"Displays the current zoom level on top of the UI.\nCSS ID: `#sizeinfo`":{ru:"Отображает текущий уровень масштабирования в верхней части интерфейса.\nCSS ID: `#sizeinfo`","zh-CN":"在界面上显示当前的缩放级别。\nCSS ID: `#sizeinfo`"},"File size":{ru:"Размер файла","zh-CN":"文件大小"},"Displays the media's file size on top of the UI. For the moment, this will not work with partially loaded media if 'Avoid HEAD request for partially loaded media' is enabled.\nCSS ID: `#sizeinfo`":{ru:"Отображает размер файла медиа в верхней части интерфейса. На данный момент это не будет работать с частично загруженными медиа, если включён параметр 'Избегать запроса HEAD для частично загруженных медиа'.\nCSS ID: `#sizeinfo`","zh-CN":"在界面上显示媒体的文件大小。目前，如果启用了“避免对部分加载的媒体使用 HEAD 请求”，则此项无效。\nCSS ID: `#sizeinfo`"},"Gallery counter":{es:"Número de imágenes a contar en la galería",fr:"Nombre d'images dans la galerie",ko:"갤러리 이미지 수",ru:"Счётчик галереи","zh-CN":"图库计数器"},"Enables a gallery counter on top of the UI.\nCSS ID: `#gallerycounter`":{ru:"Отображает счётчик галереи в верхней части пользовательского интерфейса.\nCSS ID: `#gallerycounter`","zh-CN":"启用界面上的图库计数器。\nCSS ID: `#gallerycounter`"},"Gallery counter max":{es:"Número máximo de imágenes a contar para la galería",fr:"Nombre max d'images a compter pour la galerie",ko:"갤러리 이미지 수의 최대값",ru:"Максимальный счётчик галереи","zh-CN":"图库计数器上限"},"Maximum amount of images to check in the counter (this can be slightly CPU-intensive)":{ru:"Максимальное количество изображений для проверки в счётчике (это может быть слегка ресурсоёмким для процессора)","zh-CN":"该计数器显示图像数量上限（可能消耗较多 CPU 资源）"},"Gallery buttons":{ru:"Кнопки галереи","zh-CN":"图库按钮"},"Enables buttons to go left/right in the gallery.\nCSS IDs: `#galleryprevbtn`, `#gallerynextbtn`":{ru:"Включает кнопки влево/вправо в галерее.\nCSS ID: `#galleryprevbtn`, `#gallerynextbtn`","zh-CN":"启用在图库中向左/右移动的按钮。\nCSS IDs: `#galleryprevbtn`, `#gallerynextbtn`"},"Close Button":{ru:"Кнопка закрытия","zh-CN":"关闭按钮"},"Enables a button to close the popup.\nCSS ID: `#closebtn`":{ru:"Включает кнопку для закрытия всплывающего окна.\nCSS ID: `#closebtn`","zh-CN":"启用关闭当前弹窗的按钮。\nCSS ID: `#closebtn`"},"Options Button":{es:"Botón de Opciones",ko:"설정 링크",ru:"Кнопка параметров","zh-CN":"选项按钮"},"Enables a button to go to this page.\nCSS ID: `#optionsbtn`":{ru:"Включает кнопку для перехода на эту страницу.\nCSS ID: `#optionsbtn`","zh-CN":"启用访问选项页面（本页面）的按钮。\nCSS ID: `#optionsbtn`"},"Download Button":{ru:"Кнопка скачивания","zh-CN":"下载按钮"},"Enables a button to download the image.\nCSS ID: `#downloadbtn`":{ru:"Включает кнопку скачивания изображения.\nCSS ID: `#downloadbtn`","zh-CN":"启用下载该图像的按钮。\nCSS ID: `#downloadbtn`"},"Rotation Buttons":{ru:"Кнопки вращения","zh-CN":"旋转按钮"},"Enables buttons on the UI to rotate the image by 90 degrees.\nCSS IDs: `#rotleftbtn`, `#rotrightbtn`":{ru:"Включает кнопки на интерфейсе для поворота изображения на 90 градусов.\nCSS ID: `#rotleftbtn`, `#rotrightbtn`","zh-CN":"启用在界面上将图像旋转 90 度的按钮。\nCSS IDs: `#rotleftbtn`, `#rotrightbtn`"},Caption:{ru:"Подпись","zh-CN":"标题"},"Shows the image's caption (if available) at the top.\nCSS ID: `#caption`":{ru:"Показывает вверху подпись к изображению (если есть).\nCSS ID: `#caption`","zh-CN":"在顶端显示图像的标题（如果可用）。\nCSS ID: `#caption`"},"Wrap caption text":{ru:"Обернуть текст подписи","zh-CN":"标题文本换行"},"Wraps the caption if it's too long":{ru:"Скрывает часть подписи, если она слишком длинная.","zh-CN":"标题文本太长时自动换行"},"Link original page in caption":{ru:"Ссылка на оригинальную страницу в подписи","zh-CN":"标题链接原始页面"},"Links the original page (if it exists) in the caption":{ru:"Ссылка в заголовке на оригинальную страницу (если она существует).","zh-CN":"将标题链接到原始页面（如有）"},"Underline links":{ru:"Подчёркивание ссылок","zh-CN":"链接下划线"},"Adds an underline to links (such as the original page)":{ru:"Добавляет подчеркивание к ссылкам (например, оригинальная страница).","zh-CN":"向链接（如原始页面）添加下划线"},"Keep popup open until":{es:"Mantener popup abierto hasta que",ko:"팝업 닫으려면",ru:"Всплывающее окно открыто до тех пор, пока","zh-CN":"保持弹窗开启直到"},"Closes the popup when the selected condition is met":{ko:"선택한 조건이 충족되면 팝업 닫기",ru:"Закрывает всплывающее окно при выполнении выбранного условия.","zh-CN":"满足选定条件时关闭弹窗"},"Any trigger is released":{es:"Cualquier acción se deja ir",ko:"어떤 동작에도 닫힘",ru:"Любая кнопка срабатывания отпущена","zh-CN":"松开任何触发器"},"All triggers are released":{ko:"모든 동작에서 닫힘",ru:"Все кнопки срабатывания отпущены","zh-CN":"松开全部触发器"},"ESC/Close is pressed":{ko:"ESC/닫기 누르기",ru:"Нажато ESC/Закрыть","zh-CN":"按下 ESC/Close"},"Don't close until mouse leaves":{ko:"마우스가 떠날 때까지 닫지 마십시오.",ru:"Не закрывать пока курсор мыши не будет убран","zh-CN":"鼠标移开前不关闭"},"If true, this keeps the popup open even if all triggers are released if the mouse is still over the image":{ko:"활성화 시, 마우스가 이미지 위에 있는 경우 모든 동작에서 닫힘을 선택했더라도 팝업이 계속 열린 상태로 유지됨",ru:"Если true, тогда если мышь всё еще находится на изображении, то всплывающее окно остаётся открытым, даже если все срабатывания отпущены.","zh-CN":"如果启用，松开所有触发器后，假如鼠标仍悬停在图像上，弹窗保持开启"},"Threshold to leave image":{ko:"이미지를 떠나기 위한 임계값",ru:"Порог для выхода из изображения","zh-CN":"移开图像的门限值"},"How many pixels outside of the image before the cursor is considered to have left the image":{ko:"커서가 이미지를 떠난 것으로 파악할 수 있는 이미지 픽셀 수",ru:"Сколько пикселей за пределами изображения перед курсором считается покинувшими изображение.","zh-CN":"鼠标指针离开图像外缘多少像素视作移开图像"},"Leaving thumbnail cancels loading":{ko:"미리보기를 남기면 로딩이 취소됨",ru:"Отменять загрузку, если миниатюра покинута","zh-CN":"离开缩略图则取消加载"},"Cancels the current popup loading when the cursor has left the thumbnail image":{ko:"커서가 축소 이미지에서 벗어날 때 현재 팝업 로딩 취소",ru:"Отменяет загрузку текущего всплывающего окна, когда курсор покинул миниатюру изображения.","zh-CN":"鼠标指针离开缩略图时取消当前弹窗的加载"},"ESC cancels loading":{ko:"ESC 로딩 취소",ru:"ESC отменяет загрузку","zh-CN":"ESC 键取消加载"},"Cancels the current popup loading if ESC is pressed":{ko:"ESC를 누르면 현재 팝업 로딩이 취소됨",ru:"Отменяет загрузку текущего всплывающего окна при нажатии кноки ESC.","zh-CN":"按下 ESC 键时取消当前弹窗的加载"},"Releasing triggers cancels loading":{ko:"트리거를 해제하면 로딩이 취소됨",ru:"Отменять загрузку, если кнопки активации отпущены","zh-CN":"松开触发器取消加载"},'Cancels the current popup loading if all/any triggers are released (as set by the "Keep popup open until" setting)':{ko:'어떤/모든 동작에 닫힘을 선택한 경우 현재 팝업 로딩 취소 ("팝업을 닫으려면" 설정에 의존함)',ru:"Отменяет загрузку текущего всплывающего окна, если все/любые кнопки срабатывания отпущены (в соответствии с настройками 'Оставлять всплывающее окно открытым до тех пор, пока'","zh-CN":"如果松开了所有/任何触发器，并且设置了“保持弹窗开启直到”，取消当前的弹窗加载"},"Automatically close after timeout":{ko:"시간 초과 후 자동으로 닫기",ru:"Автозакрытие после истечения времени","zh-CN":"超时后自动关闭"},"Closes the popup automatically after a specified period of time has elapsed":{ko:"지정된 시간이 경과한 후 팝업 자동 닫기",ru:"Автоматически закрывает всплывающее окно по истечении заданного периода времени.","zh-CN":"指定时间后自动关闭弹窗"},"Timeout to close popup":{ko:"팝업을 닫기 위한 시간 초과 시간(초)",ru:"Времени до закрытия всплывающего окна","zh-CN":"关闭弹窗的超时"},"Amount of time to elapse before automatically closing the popup":{ko:"팝업을 자동으로 닫기 전 경과 시간",ru:"Количество времени, которое должно пройти до автоматического закрытия всплывающего окна.","zh-CN":"多久后自动关闭弹窗"},"Hold key":{ko:"고정 키",ru:"Кнопка удерживания","zh-CN":"保持键"},"Hold key that, when pressed, will keep the popup open":{ko:"고정 키를 누르면 팝업이 열린 상태로 유지됨",ru:"Кнопка удерживания, которая при нажатии будет оставлять всплывающее окно открытым.","zh-CN":"按住此键时将保持弹窗开启"},"Center popup on hold":{ko:"중앙 팝업 고정",ru:"Центрировать всплывающее окно при удерживании","zh-CN":"保持时弹窗居中"},"Centers the popup to the middle of the page when the popup is held":{ko:"팝업이 열릴 때 팝업을 페이지 중앙에 배치",ru:"Центрирует всплывающее окно на середине страницы, когда оно удерживается.","zh-CN":"弹窗保持呈现于页面正中心"},"Override zoom on hold":{ru:"Переопределять масштабирование при удерживании","zh-CN":"保持时覆盖缩放"},"Overrides the zoom when the popup is held":{ru:"Переопределяет масштабирование при удержании всплывающего окна","zh-CN":"保持弹窗时覆盖缩放级别"},"Close popup on unhold":{ko:"고정 해제 시, 팝업 닫기",ru:"Зыкрывать всплывающее окно после отпускания удерживания","zh-CN":"取消保持时关闭弹窗"},"Closes the popup when the hold key is pressed again, after having previously held the popup":{ko:"팝업을 고정한 후 고정 키를 다시 누르면 팝업이 닫힘",ru:"Закрывает всплывающее окно при повторном нажатии клавиши удерживания после предыдущего удержания всплывающего окна.","zh-CN":"曾经保持弹窗后，再次按下保持键时关闭弹窗"},"Enable pointer events on hold":{ko:"포인터 이벤트 고정 사용",ru:"События указателя при удерживании","zh-CN":"保持期间启用指针事件"},"Enables previously disabled pointer events when the popup is held":{ko:"팝업이 고정될 때 이전에 비활성화된 포인터 이벤트 활성화",ru:"Включает ранее отключенные события указателя при удерживании всплывающего окна.","zh-CN":"弹窗保持期间启用先前禁用的指针事件"},"Clicking outside the popup closes":{ko:"팝업 바깥쪽을 클릭하면 닫힘",ru:"Закрывать при нажатии за пределами всплывающего окна","zh-CN":"点击弹窗外关闭"},"Closes the popup when the mouse clicks outside of it":{ko:"마우스가 팝업 바깥쪽을 클릭할 때 팝업 닫기",ru:"Закрывает всплывающее окно при нажатии мыши за его пределами.","zh-CN":"鼠标在弹窗外单击时关闭弹窗"},"Close when leaving":{ko:"떠날 때 닫기",ru:"Закрывать при покидании","zh-CN":"离开时关闭"},"Closes the popup when the mouse leaves the thumbnail element, the popup, or both":{ru:"Закрывает всплывающее окно, когда мышь покидает элемент миниатюры, всплывающее окно или и то, и другое.","zh-CN":"鼠标移出缩略图元素、弹窗或上述两者时关闭弹窗"},Thumbnail:{ko:"미리보기(썸네일)",ru:"Миниатюры","zh-CN":"缩略图"},Both:{ko:"둘 다",ru:"Обоих","zh-CN":"上述两者"},"Use invisible element when waiting":{ru:"Использовать невидимый элемент при ожидании","zh-CN":"等待时使用隐形元素"},"Creates an invisible element under the cursor when waiting for the popup instead of a style element (can improve performance on websites with many elements, but prevents the cursor from clicking anything while loading the popup)":{ru:"Создаёт невидимый элемент под курсором при ожидании всплывающего окна вместо элемента стиля (может улучшить производительность на сайтах с большим количеством элементов, но не позволяет курсору нажимать на что-либо во время загрузки всплывающего окна).","zh-CN":"在等待弹窗时在鼠标指针下方创建一个隐形元素（而非样式元素）（可以改善有大量元素的网站性能，但这会阻止加载期间鼠标点击任何东西）"},"Add popup link to history":{ru:"Добавлять всплывающую ссылку в историю","zh-CN":"添加弹出的链接到历史记录"},"Adds the image/video link opened through the popup to the browser's history":{ru:"Добавляет ссылку на изображение/видео в историю браузера, открытые через всплывающее окно.","zh-CN":"将通过弹窗打开的图像/视频链接添加到浏览器的历史记录"},"Allow inter-frame communication":{ko:"프레임 간 통신 허용",ru:"Разрешить межфреймовую связь","zh-CN":"允许框架间通信"},"Allows communication between frames in windows, improving support for keybindings":{ko:"창의 프레임 간 통신을 허용하여 키 바인딩에 대한 지원을 개선한다.",ru:"Позволяет осуществлять связь между фреймами в Windows, улучшая поддержку привязки клавиш.","zh-CN":"允许窗口中的框架间通信，改善对快捷键绑定的支持"},"Allows communication between frames in windows, improving support for keybindings. Can pose a fingerprinting risk when used through the userscript":{ko:"창의 프레임 간 통신을 허용하여 키 바인딩에 대한 지원을 개선합니다. 유저스크립트를 통해 사용 시, 보안에 위협이 있을 수 있습니다",ru:"Позволяет осуществлять связь между фреймами в Windows, улучшая поддержку привязки клавиш. Может представлять риск снятия отпечатков пальцев при использовании через пользовательский скрипт.","zh-CN":"允许窗口中的框架间通信，改善对快捷键绑定的支持。通过用户脚本使用时，也许会构成指纹识别的风险"},"Pop out of frames":{ko:"프레임에서 팝업",ru:"Выскакивать за рамки","zh-CN":"跳出框架"},"Opens the popup on the top frame instead of within iframes. This option is still experimental.":{ru:"Открывает всплывающее окно поверх фрейма, а не внутри iframes. Этот параметр всё ещё является экспериментальным.","zh-CN":"在框架外而非框架内打开弹窗。此选项仍处于试验阶段。"},"Popup default zoom":{ko:"확대/축소 기본값",ru:"Масштаб всплывающего окна","zh-CN":"弹窗默认缩放级别"},"How the popup should be initially sized":{ko:"팝업의 초기 크기 조정 방법",ru:"Каким будет изначальный размер всплывающего окна.","zh-CN":"弹窗的初始尺寸"},"Fit to screen":{fr:"Adapter a l'ecran",ko:"화면 크기에 맞춤",ru:"По размеру экрана","zh-CN":"适合屏幕"},"Fill screen":{ko:"화면 채우기",ru:"Заполнить экран","zh-CN":"填满屏幕"},"Full size":{fr:"Taille réelle",ko:"전체 크기",ru:"Полный размер","zh-CN":"全尺寸"},"Custom size":{ko:"맞춤 크기",ru:"Пользовательский размер","zh-CN":"自定义尺寸"},"Custom zoom percent":{ko:"사용자 지정 확대/축소 비율",ru:"Пользовательский процент масштабирования","zh-CN":"自定义缩放百分比"},"Custom percent to initially size the popup":{ko:"팝업 설정 시, 초기 사용자 지정 확대/축소 비율",ru:"Пользовательский процент для первоначального размера всплывающего окна6","zh-CN":"自定义相对于初始弹窗大小的百分比"},"%":{ru:"%","zh-CN":"%"},"Use last zoom":{ru:"Использовать последний масштаб","zh-CN":"使用最后的缩放设置"},"Use the last popup's zoom. Note that this is per-page.":{ru:"Используйте масштабирование последнего всплывающего окна. Обратите внимание, что это на странице.","zh-CN":"使用最后一个弹窗的缩放级别。注意，此级别不跨页共享。"},"Maximum width":{ko:"최대 가로 길이",ru:"Максимальная ширина","zh-CN":"最大宽度"},"Maximum width for the initial popup size. Set to `0` for unlimited.":{ko:"초기 팝업 크기의 최대 가로 길이. 무제한의 경우 0으로 설정하십시오.",ru:"Максимальная ширина для начального размера всплывающего окна. `0` - неограниченная ширина.","zh-CN":"初始弹窗尺寸的最大宽度。设为 0 则无限制。"},"Maximum height":{ko:"최대 세로 길이",ru:"Максимальная высота","zh-CN":"最大高度"},"Maximum height for the initial popup size. Set to `0` for unlimited.":{ko:"초기 팝업 크기의 최대 세로 길이. 무제한으로 '0'으로 설정한다.",ru:"Максимальная высота для начального размера всплывающего окна. `0` - неограниченная высота.","zh-CN":"初始弹窗尺寸的最大高度。设为 0 则无限制。"},"Popup panning method":{ko:"이미지 이동하려면",ru:"Способ панорамирования всплывающего окна","zh-CN":"弹窗平移方法"},"How the popup should be panned when larger than the screen":{ru:"Как всплывающее окно должно быть панорамировано, когда оно больше экрана.","zh-CN":"弹窗比屏幕大时应如何平移"},Movement:{ko:"마우스 움직입니다",ru:"Перемещение","zh-CN":"移动"},"The popup pans as you move your mouse":{ru:"Всплывающее окно панорамируется когда вы перемещаете мышь.","zh-CN":"移动鼠标时弹窗平移"},Drag:{ko:"끕니다",ru:"Перетаскивание","zh-CN":"拖拽"},"Clicking and dragging pans the popup":{ru:"Вы можете нажать и перетаскивать панель всплывающего окна.","zh-CN":"单击并拖拽移动弹窗"},"Invert movement":{ru:"Инвертировать перемещение","zh-CN":"反转移动"},"Inverts the movement of the mouse. For example, if the mouse moves left, the popup moves right. If disabled, it feels more like the popup is being invisibly dragged.":{ru:"Инвертирует перемещение мышью. Например, если мышь движется влево, всплывающее окно перемещается вправо. Если отключено, то больше похоже на то, что всплывающее окно невидимо перетаскивается.","zh-CN":"反转鼠标的移动。例如，如果鼠标向左移动，弹窗向右移动。如果禁用，感觉更像是弹出窗口在无形中被拖动。"},"Minimum drag amount":{ru:"Минимальное количество для перетаскивания","zh-CN":"最小拖拽起始"},"How many pixels the mouse should move to start a drag":{ru:"На сколько пикселей мышь должна переместиться, чтобы начать перетаскивание.","zh-CN":"鼠标移动多少像素才开始拖拽"},pixels:{ru:"пикс.","zh-CN":"像素"},"Vertical scroll action":{ru:"Действие вертикальной прокрутки","zh-CN":"垂直滚动操作"},"How the popup reacts to a vertical scroll/mouse wheel event":{ru:"Как всплывающее окно реагирует на событие вертикальной прокрутки/колеса мыши.","zh-CN":"弹窗如何对垂直滚动/鼠标滚轮事件做出反应"},"Vertical scroll action (hold)":{ru:"Действие при вертикальной прокрутке (удерживание)","zh-CN":"垂直滚动动作(保持)"},"How the popup (when held) reacts to a vertical scroll/mouse wheel event":{ru:"Как всплывающее окно (когда оно удерживается) реагирует на событие вертикальной прокрутки/колеса мыши","zh-CN":"“保持”显示的弹窗如何对垂直滚动/鼠标滚轮事件做出反应"},Zoom:{ko:"줌",ru:"Масштаб","zh-CN":"缩放"},"Horizontal scroll action":{ru:"Действие горизонтальной прокрутки","zh-CN":"水平滚动动作"},"How the popup reacts to a horizontal scroll/mouse wheel event":{ru:"Как всплывающее окно реагирует на событие горизонтальной прокрутки/колеса мыши.","zh-CN":"弹窗如何对水平滚动/鼠标滚轮事件做出反应"},"Horizontal scroll action (hold)":{ru:"Действие горизонтальной прокрутки (удерживание)","zh-CN":"水平滚动动作(保持)"},"How the popup (when held) reacts to a horizontal scroll/mouse wheel event":{ru:"Как всплывающее окно (когда оно удерживается) реагирует на событие горизонтальной прокрутки/колеса мыши","zh-CN":"“保持”显示的弹窗如何对水平滚动/鼠标滚轮事件做出反应"},Pan:{ko:"이동",ru:"Панель","zh-CN":"平移"},Gallery:{ru:"Галерея","zh-CN":"图库"},"Vertical video scroll action":{ru:"Действие вертикальной прокрутки видео","zh-CN":"垂直视频滚动动作"},"Overrides the vertical scroll action for videos. Set to `Default` to avoid overriding the behavior.":{ru:"Переопределяет действие вертикальной прокрутки для видео. Установите значение `По умолчанию`, чтобы избежать переопределения поведения.","zh-CN":"覆盖视频的垂直滚动动作。设为 `默认` 来避免覆盖该行为。"},"Invert vertical scroll seek":{ru:"Инвертировать стремление вертикальной прокрутки","zh-CN":"反转垂直滚动的快进/快退"},"Inverts the seek direction when scrolling vertically: Scrolling up will seek right, scrolling down will seek left.":{ru:"Инвертирует направление стремления при вертикальной прокрутке: Прокрутка вверх будет стремиться вправо, прокрутка вниз будет стремиться влево.","zh-CN":"在垂直滚动时反转移动方向：向上滚动将向右移动，向下滚动将向左移动。"},"Horizontal video scroll action":{ru:"Действие горизонтальной прокрутки видео","zh-CN":"水平视频滚动动作"},"Overrides the horizontal scroll action for videos. Set to `Default` to avoid overriding the behavior.":{ru:"Переопределяет действие горизонтальной прокрутки для видео. Установите значение `По умолчанию`, чтобы избежать переопределения поведения.","zh-CN":"覆盖视频的水平滚动动作。设为 `默认` 来避免覆盖该行为。"},Default:{ru:"По умолчанию","zh-CN":"默认"},Seek:{ru:"Стремление","zh-CN":"快进/快退"},None:{ko:"없다",ru:"Ничего","zh-CN":"无"},"Override scroll outside of popup":{ru:"Переопределение прокрутки вне всплывающего окна","zh-CN":"覆盖弹窗外的滚动"},"Scrolling outside of the popup will also be overriden by the script":{ru:"Прокрутка за пределами всплывающего окна также будет переопределена скриптом.","zh-CN":"同时覆盖弹窗外的滚动"},"Zoom origin":{ru:"Начало масштабирования","zh-CN":"缩放原点"},"The point on the image it's zoomed in/out from":{ru:"Точка на изображении, от которой оно увеличивается/уменьшается.","zh-CN":"图像放大/缩小的原点"},Cursor:{ko:"커서",ru:"Курсор","zh-CN":"鼠标指针"},Center:{ru:"Центр","zh-CN":"中心"},"Zoom out towards page middle":{ru:"Уменьшение масштаба к середине страницы","zh-CN":"缩小到页面中间"},'Sets the origin when zooming out to the page middle, overriding the "Zoom Origin" option above.':{ru:'Устанавливает начало координат при уменьшении масштаба до середины страницы, переопределяя "Начало масштабирования" вариант выше.',"zh-CN":"设置缩放到页面中间时的原点，重写上放的“缩放原点”选项。"},"Within viewport":{ru:"В пределах области просмотра","zh-CN":"在视野内"},"Zoom behavior":{ko:"줌 동작",ru:"Поведение масштабирования","zh-CN":"缩放行为"},"How zooming should work":{ru:"Как будет работать масштабирование.","zh-CN":"缩放应如何工作"},"Fit/Full":{ko:"화면맞춤/전체",ru:"По размеру/Полное","zh-CN":"适应/全尺寸"},"Toggles between the full size, and fit-to-screen":{ru:"Переключение между полным размером и по размеру экрану.","zh-CN":"在全尺寸和适合屏幕之间切换"},Incremental:{fr:"Incrémentale",ko:"증분",ru:"Пошаговое","zh-CN":"增量"},"Incremental zoom multiplier":{ru:"Множитель пошагового масштабирования","zh-CN":"增量缩放系数"},"How much to zoom in/out by (for incremental zooming)":{ru:"На сколько увеличить/уменьшить масштаб (для пошагового масштабирования).","zh-CN":"增量缩放时每次放大/缩小多少"},x:{ru:"x","zh-CN":"倍"},"Move with cursor":{ru:"Перемещение с помощью курсора","zh-CN":"随鼠标指针移动"},"Moves the popup as the cursor moves":{ru:"Перемещает всплывающее окно по мере перемещения курсора.","zh-CN":"鼠标移动时移动弹窗"},"Move within page":{ru:"Перемещение внутри страницы","zh-CN":"在页面内移动"},"Ensures the popup doesn't leave the page":{ru:"Гарантирует, что всплывающее окно не покинет страницу.","zh-CN":"确保弹窗不会离开页面"},"Zoom out fully to close":{ko:"닫기 위해 완전히 축소",ru:"Закрывать при полном уменьшении масштаба","zh-CN":"完全缩小至关闭"},"Closes the popup if you zoom out past the minimum zoom":{ko:"최소 크기로 축소할 경우 팝업 닫기",ru:"Закрывает всплывающее окно, если вы уменьшаете масштаб, превышающий минимальный.","zh-CN":"缩小超过最小级别时关闭弹窗"},"Scroll past gallery end to close":{ru:"Закрывать при прокручивании до конца галереи","zh-CN":"滚动到图库末尾时关闭"},"Closes the popup if you scroll past the end of the gallery":{ru:"Закрывает всплывающее окно, если вы прокручиваете его до конца галереи.","zh-CN":"滚动到图库的结尾时关闭弹窗"},"Popup position":{ko:"팝업 위치",ru:"Положение всплывающего окна","zh-CN":"弹出位置"},"Where the popup will appear":{ko:"팝업이 표시되는 위치",ru:"Где появится всплывающее окно.","zh-CN":"弹窗出现在哪里"},"Cursor middle":{ko:"커서 중간",ru:"Середина курсора","zh-CN":"鼠标指针为中心"},"Underneath the mouse cursor":{ko:"마우스 커서 아래",ru:"Под курсором","zh-CN":"鼠标指针下方"},"Beside cursor":{ko:"커서 옆",ru:"Рядом с курсором","zh-CN":"鼠标指针旁"},"Page middle":{ko:"페이지 중간",ru:"Середина страницы","zh-CN":"页面中间"},"Prevent cursor overlap":{ru:"Предотвратить перекрытие курсора","zh-CN":"避免指针重叠"},"Prevents the image from overlapping with the cursor":{ru:"Предотвращает перекрытие изображение с курсором.","zh-CN":"避免图像与鼠标指针重叠"},"Center popup on overflow":{ru:"Центрировать всплывающее окно при переполнении","zh-CN":"溢出时将弹窗置于中心"},"Centers the popup if its initial size overflows":{ru:"Центрирует всплывающее окно, если его начальный размер переполняется","zh-CN":"如果初始大小溢出，将弹窗置于中心位置"},"Overflow origin":{ru:"Начало переполнения","zh-CN":"溢出原点"},"Where the popup will appear in the page if its initial size overflows":{ru:"Где всплывающее окно появится на странице, если его начальный размер переполняется","zh-CN":"如果初始大小溢出，弹窗将出现在页面的哪个位置"},"Hide cursor over popup":{ru:"Скрывать курсор на всплывающем окне","zh-CN":"弹窗上隐藏鼠标指针"},"Hides the cursor when the mouse is over the popup":{ru:"Скрывает курсор, когда мышь находится на всплывающем окне.","zh-CN":"鼠标在弹窗上悬停时隐藏指针"},"Hide cursor after":{ru:"Скрывать курсор после","zh-CN":"隐藏指针延迟"},"Hides the cursor over the popup after a specified period of time (in milliseconds), 0 always hides the cursor":{ru:"Скрывает курсор во всплывающем окне после определенного периода времени (в миллисекундах). `0` - всегда скрывать курсор.","zh-CN":"鼠标在弹窗上停留指定时间（毫秒）后隐藏指针，0 为立即隐藏"},"Mouse jitter threshold":{ru:"Порог дрожания мыши","zh-CN":"鼠标抖动阈值"},"Threshold for mouse movement before the mouse cursor is shown again, 0 always shows the cursor after any movement":{ru:"Порог для перемещения мыши до того, как курсор мыши будет показан снова. `0` - всегда показывать курсор после любого движения.","zh-CN":"鼠标指针再次显示前的移动阈值，0 为始终显示移动后的指针"},px:{ru:"пикс.","zh-CN":"像素"},"Disable pointer events":{ru:"Отключить события указателя","zh-CN":"禁用指针事件"},"Enabling this option will allow you to click on links underneath the popup":{ru:"Включение этого параметра позволит вам нажимать на ссылки под всплывающим окном.","zh-CN":"启用此选项将允许您单击弹窗下方的链接"},"Ignore clicks outside popup":{ru:"Игнорировать клики вне всплывающего окна","zh-CN":"忽略弹窗外的点击"},"Any mouse event outside the popup will be discarded with this option":{ru:"Любое событие мыши вне всплывающего окна будет отменено этим параметром.","zh-CN":"启用此选项后，任何弹窗外的鼠标事件都将丢弃"},"Enable downloading HLS/DASH streams":{ru:"Включить скачивание потоков HLS/DASH","zh-CN":"启用 HLS/DASH 流媒体的下载"},"Downloads and muxes the contents of the streams rather than the stream information file.\nThis currently does not work under Firefox.":{ru:"Скачивает и мультиплексирует содержимое потоков, а не информационный файл потока.\nВ настоящее время не работает в Firefox.","zh-CN":"下载和组合流的内容，代替流信息文件。\n目前不能在 Firefox 中使用。"},"Prefer MP4 over MKV":{ru:"Предпочитать MP4, а не MKV","zh-CN":"偏好 MP4 代替 MKV"},"Tries to mux the video into mp4 instead of mkv when required. This may slightly slow down muxing as it currently needs to try muxing both.":{ru:"Пытается мультиплексировать видео в mp4 вместо mkv, когда это требуется. Это может слегка замедлить процесс мультиплексирования, так как в настоящее время необходимо попробовать мультиплексировать и то, и другое.","zh-CN":"请求时尝试用 mp4 代替 mkv。这可能稍微降低组合内容的速度，因为目前需要尝试两组操作。"},"Link image":{ru:"Ссылка на изображения","zh-CN":"链接图像"},"Adds a link to the image in the popup":{ru:"Добавляет ссылку на изображение во всплывающем окне.","zh-CN":"在弹窗的图像中添加链接"},"Link video":{ru:"Ссылка на видео","zh-CN":"链接视频"},"Adds a link to the video in the popup":{ru:"Добавляет ссылку на видео во всплывающем окне.","zh-CN":"在弹窗的视频中添加链接"},"Clicking image closes":{ru:"Закрывать изображение по нажатию на него","zh-CN":"点击图片关闭"},"Clicking the popup image closes the popup":{ru:"Нажатие на всплывающее изображение закрывает всплывающее окно.","zh-CN":"单击弹出图像将关闭弹窗"},"Clicking video closes":{ru:"Закрывать видео по нажатию на него","zh-CN":"点击视频关闭"},"Clicking the popup video closes the popup":{ru:"Нажатие на всплывающее видео закрывает всплывающее окно.","zh-CN":"点击弹出的视频时关闭弹窗"},"Clicking link downloads":{ru:"Нажатие на ссылку скачивания","zh-CN":"点击链接下载"},"Instead of opening the link in a new tab, it will download the image/video instead":{ru:"Вместо того чтобы открывать ссылку в новой вкладке, она будет скачивать изображение/видео.","zh-CN":"下载图像/视频，代替在新标签页中打开链接"},"Close key":{ru:"Клавиша закрытия","zh-CN":"关闭键"},"Closes the popup when this key is pressed. Currently, ESC will also close the popup regardless of the value of this setting.":{ru:"При нажатии этой клавиши, закрывает всплывающее окно. В настоящее время ESC также закроет всплывающее окно независимо от значения этих настроек.","zh-CN":"按下此键时关闭弹窗。目前，ESC 也将关闭弹窗，并且无视此设置。"},"Download key":{ru:"Клавиша скачивания","zh-CN":"下载键"},"Downloads the image in the popup when this key is pressed":{ru:"При нажатии этой клавиши, начнёт скачивать изображение во всплывающем окне.","zh-CN":"按下此键时下载弹窗中的图像"},"Open in new tab key":{ru:"Клавиша открытия в новой вкладке","zh-CN":"在新建标签页中打开的按键"},"Opens the image in the popup in a new tab when this key is pressed":{ru:"При нажатии этой клавиши, открывает изображение во всплывающем окне на новой вкладке.","zh-CN":"按下此键时在新建的标签页中弹窗中的图像"},"Open in background tab key":{ru:"Клавиша открытия в фоновой вкладке","zh-CN":"在后台标签页打开的按键"},"Opens the image in the popup in a new tab without switching to it when this key is pressed":{ru:"При нажатии этой клавиши, открывает изображение во всплывающем окне на новой вкладке, не переходя на неё.","zh-CN":"按下此键时在新建的后台标签页中弹窗中的图像"},"Copy link key":{ru:"Клавиша копирования ссылки","zh-CN":"复制链接键"},"Copies the link of the media to the clipboard when this key is pressed":{ru:"При нажатии этой клавиши, копирует ссылку медиа в буфер обмена.","zh-CN":"按下此键时，将媒体链接复制到剪贴板"},"Open options key":{ru:"Клавиша открытия параметров","zh-CN":"打开选项键"},"Opens this page in a new tab when this key is pressed":{ru:"При нажатии этой клавиши, откроет эту страницу в новой вкладке.","zh-CN":"按下此键时在标签页中打开此页面"},"Open original page key":{ru:"Клавиша открытия страницы оригинала","zh-CN":"打开原始页面键"},"Opens the original page (if available) when this key is pressed":{ru:"При нажатии этой клавиши, открывает страницу оригинала (если она доступна).","zh-CN":"按下此键时打开原始页面（如果可用）"},"Rotate left key":{ru:"Клавиша поворота влево","zh-CN":"向左旋转键"},"Rotates the popup 90 degrees to the left":{ru:"При нажатии этой клавиши, поворачивает всплывающее окно на 90 градусов влево.","zh-CN":"将弹窗向左旋转90度"},"Rotate right key":{ru:"Клавиша поворота вправо","zh-CN":"向右旋转键"},"Rotates the popup 90 degrees to the right":{ru:"При нажатии этой клавиши, поворачивает всплывающее окно на 90 градусов вправо.","zh-CN":"将弹窗向右旋转90度"},"Horizontal flip key":{ru:"Клавиша для отражения по горизонтали","zh-CN":"水平翻转键"},"Flips the image horizontally":{ru:"При нажатии этой клавиши, зеркально отражает изображение по горизонтали.","zh-CN":"水平翻转图像"},"Vertical flip key":{ru:"Клавиша для отражения по вертикали","zh-CN":"垂直翻转键"},"Flips the image vertically":{ru:"При нажатии этой клавиши, зеркально отражает изображение по вертикали.","zh-CN":"垂直翻转图像"},"Zoom in key":{ru:"Клавиша увеличения масштаба","zh-CN":"放大键"},"Incrementally zooms into the image":{ru:"При нажатии этой клавиши, увеличивает масштаб изображения.","zh-CN":"逐步放大图像"},"Zoom out key":{ru:"Клавиша уменьшения масштаба","zh-CN":"缩小键"},"Incrementally zooms out of the image":{ru:"При нажатии этой клавиши, уменьшает масштаб изображения.","zh-CN":"逐步缩小图像"},"Full zoom key":{ru:"Клавиша полного масштабирования","zh-CN":"全尺寸缩放键"},"Sets the image to be at a 100% zoom, even if it overflows the screen":{ru:"При нажатии этой клавиши, устанавливает 100%-ное масштабирование изображения, даже если оно переполняет экран.","zh-CN":"将图像设置为 100% 缩放，即使将溢出屏幕"},"Fit screen key":{ru:"Клавиша подгонки по размеру экрана","zh-CN":"适合屏幕键"},"Sets the image to either be at a 100% zoom, or to fit the screen, whichever is smaller":{ru:"При нажатии этой клавиши, устанавливает изображение либо со 100%-ным масштабом, либо в соответствии с размером экрана, в зависимости от того, что меньше.","zh-CN":"将图像设置为 100% 缩放或适合屏幕，以较小者为准"},"Toggle fullscreen key":{ru:"Клавиша переключения на весь экран","zh-CN":"切换全屏键"},"Toggles fullscreen mode for the image/video in the popup":{ru:"При нажатии этой клавиши, переключает полноэкранный режим для изображения/видео во всплывающем окне.","zh-CN":"切换弹窗中的图像/视频的全屏模式"},"Popup for plain hyperlinks":{ko:"일반적인 링크에도 팝업",ru:"Всплывающее окно для простых гиперссылок","zh-CN":"为纯超链接弹窗"},"Whether or not the popup should also open for plain hyperlinks":{ko:"일반 하이퍼링크의 팝업 열기 여부",ru:"Должно ли всплывающее окно также открываться для простых гиперссылок.","zh-CN":"是否为纯粹的超链接显示弹窗"},"Only for links that look valid":{ko:"유효해 보이는 링크에만 해당",ru:"Только для ссылок, которые выглядят допустимо","zh-CN":"只针对看起来有效的链接"},"Enabling this option will only allow links to be popped up if they look valid (such as if they have a known image/video extension, or are explicitly supported)":{ko:"이 옵션을 활성화하면 링크가 유효한 것으로 보이는 경우에만(예: 알려진 이미지/비디오 확장명이 있거나 명시적으로 지원되는 경우) 링크가 팝업될 수 있음",ru:"Включение этого параметра позволит всплывать ссылкам только в том случае, если они выглядят допустимыми (например, если они имеют известное расширение изображения/видео, или если они явно поддерживаются).","zh-CN":"启用此选项后，将只为看起来有效的链接显示弹窗（例如有已知的图像/视频扩展名，或者明显受支持）"},"Popup page URL":{ru:"Всплывающее окно для URL страниц","zh-CN":"为页面网址弹窗"},"If no element can be found, try the page URL. Only relevant for pagelink rules, such as image and video hosting websites":{ru:"Если ни один элемент не найден, попробуйте использовать URL-адрес страницы. Fктуально nолько для правил ссылки страницы, таких как сайты хостинга изображений и видео.","zh-CN":"如果找不到元素，尝试页面网址。只与 pagelink 规则相关，如图像或视频托管网站"},"Popup for `<iframe>`":{ko:"<iframe>에 대한 팝업",ru:"Всплывающее окно для `<iframe>`","zh-CN":"为 <iframe> 弹窗"},"Allows `<iframe>` elements to be popped up as well. Storing images/videos in this way is rather uncommon, but it can allow embeds to be supported":{ko:"<iframe>의 요소들도 팝업이 작동하도록 허용. 이런 식으로 이미지/비디오를 저장하는 것은 다소 드문 일이지만, embeds를 지원할 수 있음",ru:"Позволяет всплывать элементам `<iframe>`. Хранение изображений/видео таким образом довольно редкое явление, но оно может позволить поддерживать встраиваемые файлы.","zh-CN":"允许为 `<iframe>` 元素显示弹窗。以这种方式存储图像/视频相当罕见，但总之可以支持"},"Popup for `<canvas>`":{ko:"<canvas>에 대한 팝업",ru:"Всплывающее окно для `<canvas>`","zh-CN":"为 <canvas> 弹窗"},"Allows `<canvas>` elements to be popped up as well. This will likely cause popups with any kind of web-based games, so it's recommended to keep this disabled":{ko:"<canvas>의 요소들도 팝업이 작동하도록 허용. 이것은 어떤 종류의 웹 기반 게임이라도 팝업을 유발할 가능성이 높으므로, 이 기능을 사용하지 않도록 유지하는 것이 좋음",ru:"Позволяет всплывать элементам `<canvas>`. Это, скорее всего, будет вызывать всплывающие окна с любыми веб-играми, поэтому рекомендуется отключить эту функцию.","zh-CN":"允许为 `<canvas>` 元素显示弹窗。这可能导致在网页游戏上触发弹窗，所以建议此项保持禁用"},"Popup for `<svg>`":{ko:"<svg>에 대한 팝업",ru:"Всплывающее окно для `<svg>`","zh-CN":"为 <svg> 弹窗"},"Allows `<svg>` elements to be popped up as well. These are usually used for icons, and can occasionally cause problems for websites that overlay icons on top of images":{ko:"<canvas>의 요소들도 팝업이 작동하도록 허용. 이것은 보통 아이콘에 사용되며, 때때로 이미지 위에 아이콘을 오버레이하는 웹 사이트에 문제를 일으킬 수 있음",ru:"Позволяет всплывать элементам `<svg>`. Обычно они используются для иконок и иногда могут вызывать проблемы для веб-сайтов, которые накладывают иконки поверх изображений.","zh-CN":"允许为 `<svg>` 元素显示弹窗。这通常用于图标，并且偶尔会在网站于图像上叠加图标时出现问题"},"Enable gallery":{ru:"Включить галерею","zh-CN":"启用图库"},"Toggles whether gallery detection support should be enabled":{ru:"Переключает, должна ли быть включена поддержка обнаружения галереи.","zh-CN":"切换是否启用图库检测支持"},"Cycle gallery":{ru:"Зациклить галерею","zh-CN":"图库循环"},"Going to the previous image for the first image will lead to the last image and vice-versa":{ru:"Переход к предыдущему изображению с первого изображения приведет к последнему изображению и наоборот.","zh-CN":"第一个图像再向上抵达最后一个图像，最后一个图像向下抵达第一个图像"},"Previous gallery item":{ru:"Предыдущий элемент галереи","zh-CN":"前一个图库项"},"Key to trigger the previous gallery item":{ru:"Клавиша для запуска предыдущего элемента галереи.","zh-CN":"触发上一个图库项的按键"},"Next gallery item":{ru:"Следующий элемент галереи","zh-CN":"下一个图库项"},"Key to trigger the next gallery item":{ru:"Клавиша для запуска следующего элемента галереи.","zh-CN":"触发下一个图库项的按键"},"Gallery download key":{ru:"Клавиша скачивания галереи","zh-CN":"图库下载键"},"Key to download the current gallery":{ru:"Клавиша для скачивания текущей галереи.","zh-CN":"下载当前图库的按键"},"Download method":{ru:"Способ скачивания","zh-CN":"下载方法"},"How the gallery should be downloaded":{ru:"Как нужно скачивать галерею","zh-CN":"应如何下载图库"},"Zip file":{ru:"Архив","zh-CN":"Zip 文件"},JDownloader:{ru:"JDownloader","zh-CN":"JDownloader"},"Download unchanged media":{ru:"Скачивать медиа без изменений","zh-CN":"下载未更改的媒体"},"Includes gallery items that have not been changed. Useful to potentially avoid downloading thumbnails":{ru:"Включает в себя элементы галереи, которые не были изменены. Полезно, чтобы потенциально избежать скачивания миниатюр.","zh-CN":"包含未更改的图库项目。有助于潜在避免下载缩略图"},"Directory/zip filename format":{ru:"Формат имени файла каталога/архива","zh-CN":"目录/zip 文件名格式"},'Format string(s) for the directory (package name for JDownloader) and zip filename (if applicable).\nRefer to "Filename format" under the Rules section for documentation. The variables are set from the first loaded media.\nAn additional `items_amt` format variable is supported, which contains the number of items.\n`.zip` will be automatically suffixed for zip filenames.':{ru:'Формат строк каталога (имя пакета для JDownloader) и имя zip-файла (если применимо).\nИзучите документацию "Формат имени файла" в разделе "Правила". Переменные устанавливаются с первого загруженного медиа.\nПоддерживается дополнительная переменная формата `items_amt`, которая содержит количество элементов.\nСуффикс `.zip` будет автоматически добавляться к именам zip-файлов.',"zh-CN":"目录（JDownloader 的包名）和 zip 文件名（如果适用）的格式化字符串。\n文档参见“规则”部分中的“文件名格式”。这些变量来自首个已加载的媒体。\n支持一个额外的 `items_amt` 格式变量，其中包含项目数量。\nzip 的文件名自动追加 `.zip` 后缀。"},"Zip: Store in subdirectory":{ru:"Zip: Хранить в подкаталоге","zh-CN":"Zip: 存储在子目录中"},"Stores the files in a subdirectory with the same name as the .zip file (without the .zip extension)":{ru:"Хранит файлы в подкаталоге с тем же именем, что и zip-файл (без расширения .zip).","zh-CN":"将文件存储在与 .zip 文件同名的子目录中（目录不带 .zip）"},"JD: Autostart":{ru:"JD: Автозапуск","zh-CN":"JD: 自动启动"},"Autostarts the download when added to JDownloader":{ru:"Автоматически запускает скачивание при добавлении в JDownloader","zh-CN":"添加到 JDownloader 时自动开始下载"},"JD: Referer policy":{ru:"JD: Реферальная политика","zh-CN":"JD: Referer 策略"},"Due to a current limitation in JDownloader's API, the `Referer` (sic) header can only be set on a per-package basis. This option allows working around it by submitting multiple packages with the same name using different Referer headers. This can result in JD spamming notifications due to the number of packages created.":{ru:"Из-за текущего ограничения в API JDownloader, заголовок `Referer` (sic) может быть установлен только для каждого пакета. Этот параметр позволяет обойти это, отправив несколько пакетов с одинаковым именем, используя разные заголовки Referer. Это может привести к спам-уведомлениям JD из-за количества созданных пакетов.","zh-CN":"由于目前 JDownloader API 的限制，`Referer` (sic) 头只能在每个包的基础上设置。此选项通过提交同名但不同 Referer 头的多个包来规避该问题。这可能导致 JD 由于创建的包数量较多而给出垃圾消息通知。"},"Per-domain":{ru:"Для каждого домена","zh-CN":"按域名"},"Zip: Store info file":{ru:"Zip: Хранить информацию файла","zh-CN":"Zip: 存储信息文件"},"Stores a `info.txt` file in the .zip containing information about the downloaded files and host page.":{ru:"Хранит файл `info.txt` в .zip, содержащую информацию о скачаных файлах и странице хоста.","zh-CN":"在 .zip 中存储一个包含下载的文件和网页信息的“info.txt”文件。"},"Move to next when video finishes":{ru:"После заканчивания видео, переходить к следующему","zh-CN":"视频结束时转到下一个"},"Moves to the next gallery item when a video finishes playing":{ru:"Переход к следующему элементу галереи после завершения воспроизведения видео.","zh-CN":"视频播放结束时移动到下一个图库项目"},"Popup CSS style":{ko:"팝업 CSS",ru:"Стиль CSS всплывающего окна","zh-CN":"弹窗 CSS 样式"},"Custom CSS styles for the popup":{ru:"Пользовательские стили CSS для всплывающего окна.","zh-CN":"自定义弹窗的 CSS 样式"},'Most valid CSS is supported, with these differences:\n<ul><li>Multiline comments (<code>/* ... */</code>) are currently not supported</li>\n<li>Single comments (<code>// ...</code>) are supported, but only at the beginning of a line</li>\n<li><code>%thumburl%</code> is the URL of the thumbnail image. For example, you could use it like this: <code>background-image: url(%thumburl%)</code><br />\nThe URL is properly encoded, so quotes are not necessary (but not harmful either)</li>\n<li><code>%fullurl%</code> is the URL of the full image. If IMU fails to find a larger image, it will be the same as <code>%thumburl%</code></li>\n<li>Styles are <code>!important</code> by default</li></ul>\n<p>For Button CSS style, you can also customize the CSS for individual buttons through their IDs. For example:</p>\n<pre>\n#closebtn {\n  background-color: red;\n  // -imu-text allows you to set the text inside the button\n  -imu-text: "Close";\n  // -imu-title allows you to set the tooltip when hovering\n  -imu-title: "Close the popup";\n}\n#galleryprevbtn, #gallerynextbtn {\n  border-radius: 100px;\n}\n</pre>':{ru:'Поддерживается большинство допустимого CSS, с этими отличиями:\n<ul><li>Многострочные комментарии (<code>/* ... */</code>) в настоящее время не поддерживаются</li>\n<li>Одиночные комментарии (<code>// ...</code>) поддерживаются, но только в начале строки</li>\n<li><code>%thumburl%</code> - это URL-адрес миниатюры изображения. Например, вы можете использовать его следующим образом: <code>background-image: url(%thumburl%)</code><br />\nURL правильно закодирован, поэтому кавычки не нужны (но и не навредят)</li>\n<li><code>%fullurl%</code> - это URL-адрес полного изображения. Если IMU не может найти увеличенное изображение, оно будет таким же, как <code>%thumburl%</code></li>\n<li>Стили по умолчанию как <code>!important</code></li></ul>\n<p>Для стиля CSS кнопок, вы также можете настроить CSS для отдельных кнопок с помощью их идентификаторов. Например:</p>\n<pre>\n#closebtn {\n  background-color: red;\n  // -imu-text позволяет установить текст внутри кнопки\n  -imu-text: "Закрыть";\n  // -imu-title позволяет установить всплывающую подсказку при наведении курсора\n  -imu-title: "Закрыть всплывающее окно";\n}\n#galleryprevbtn, #gallerynextbtn {\n  border-radius: 100px;\n}\n</pre>',"zh-CN":'支持大多数有效的 CSS，但有下列差异：\n<ul><li>目前不支持多行注释（<code>/* ... */</code>）</li>\n<li>支持单行注释（<code>// ...</code>），但只能在行开头</li>\n<li><code>%thumburl%</code> 是缩略图的 URL，例如可以这样使用它：background-image: url(%thumburl%)</code><br />\nURL 被正确编码，所以没有必要使用引号（但使用也无害）</li>\n<li><code>%fullurl%</code> 是完整图像的 URL。如果 Image Max URL 不能找到一个更大的图像，将与 <code>%thumburl%</code> 相同</li>\n<li>样式默认 <code>!important</code></li></ul>\n<p>对于按钮 CSS 样式，您也可以通过 id 为单个按钮定制 CSS。例如：</p>\n<pre>\n#closebtn {\n  background-color: red;\n  // -imu-text 允许您设置按钮内的文本\n  -imu-text: "Close";\n  // -imu-title 允许您设置悬停时的工具提示\n  -imu-title: "Close the popup";\n}\n#galleryprevbtn, #gallerynextbtn {\n  border-radius: 100px;\n}\n</pre>'},"Enable popup fade":{ru:"Включить эффект затухания для всплывающего окна","zh-CN":"启用弹窗过渡动画"},"Enables a fade in/out effect when the popup is opened/closed":{ru:"Включает эффект затухания/появления при открытии/закрытии всплывающего окна.","zh-CN":"启用弹窗打开/关闭时的淡入/淡出效果"},"Enable zoom effect":{ru:"Включить эффект масштабирования","zh-CN":"启用缩放效果"},"Toggles whether the popup should 'zoom' when opened/closed":{ru:"Переключает, должно ли всплывающее окно 'масштабироваться' при открытии/закрытии.","zh-CN":"切换打开/关闭弹窗时是否有缩放效果"},"Move from thumbnail when zooming":{ru:"Перемещение от миниатюры при масштабировании","zh-CN":"从缩略图中跃出的缩放效果"},"Moves the popup from the thumbnail to the final location while zooming. The animation can be a little rough":{ru:"Перемещает всплывающее окно от миниатюр до окончательного местоположения во время масштабирования. Анимация может быть немного грубой.","zh-CN":"从缩略图变为弹窗时的缩放动画效果。动画可能有点粗糙"},"Popup animation time":{ru:"Время анимации всплывающего окна","zh-CN":"弹窗动画时长"},"Fade/zoom animation duration (in milliseconds) for the popup":{ru:"Уменьшение/увеличение продолжительности анимации (в миллисекундах) для всплывающего окна.","zh-CN":"弹窗的淡出/缩放动画持续时间（毫秒）"},"Enable background CSS":{ru:"Включить фон CSS","zh-CN":"启用背景 CSS"},"Toggles whether CSS styles for the background when the popup is active is enabled":{ru:"Переключает, включены ли стили CSS для фона, когда всплывающее окно активно.","zh-CN":"切换当弹出窗口处于活动状态时是否启用背景的 CSS 样式"},"On hold":{ru:"При удерживании","zh-CN":"保持现状"},No:{ru:"Нет","zh-CN":"不启用"},"Background CSS style":{ru:"Стиль CSS для фона","zh-CN":"背景 CSS 样式"},"CSS style for the background when the popup is active. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)":{ru:"Стиль CSS для фона, когда всплывающее окно активно. Дополнительные сведения смотрите в документации 'Стилизация CSS всплывающего окна' (здесь не поддерживаются переменные URL thumb/full).","zh-CN":"弹窗开启时用于背景的 CSS 样式。更多信息详见“弹窗 CSS 样式”文档（此处不支持 thumb/full URL 变量）"},"Background fade":{ru:"Затухание фона","zh-CN":"背景淡入/淡出"},"Fade in/out time (in milliseconds) for the page background, set to 0 to disable":{ru:"Время затухания/появления (в миллисекундах) для фона страницы. 0 - отключить","zh-CN":"页面背景的淡入/淡出时间（毫秒） ，设为 0 则禁用"},ms:{ru:"мс","zh-CN":"毫秒"},"Button CSS style":{ru:"Стиль CSS для кнопок","zh-CN":"按钮 CSS 样式"},"Custom CSS styles for the popup's UI buttons. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)":{ru:"Пользовательские стили CSS для кнопок пользовательского интерфейса всплывающего окна. Дополнительные сведения смотрите в документации 'Стилизация CSS всплывающего окна' (здесь не поддерживаются переменные URL thumb/full).","zh-CN":"为弹窗中界面的按钮自定义 CSS 样式。更多信息详见“弹窗 CSS 样式”文档（此处不支持 thumb/full URL 变量）"},"Don't popup blacklisted URLs":{ru:"Не открывать чёрные списки URL-адресов во всплывающем окне","zh-CN":"已列入黑名单的网址不要弹窗"},"This option popping up for source media with blacklisted URLs. If this is disabled, the popup will open if the end URL isn't blacklisted, regardless of whether the source is blacklisted.":{ru:"Этот параметр всплывает для оригинальных медиа с URL-адресами в чёрный список. Если этот параметр отключен, всплывающее окно откроется, если конечный URL-адрес не внесён в чёрный список, независимо от того, внесен ли источник в чёрный список.","zh-CN":"如果禁用此选项，即便源地址被列入黑名单，只要末端网址没有列入黑名单，就打开弹窗。"},"Apply blacklist for host websites":{ko:"호스트 웹 사이트에 블랙리스트 적용",ru:"Применять чёрный список для хост-сайтов","zh-CN":"对网站应用黑名单"},"This option prevents the script from opening any popups to host websites that are in the blacklist. For example, adding `twitter.com` to the blacklist would prevent any popup from opening on twitter.com. If disabled, this option only applies to image URLs (such as twimg.com), not host URLs":{ko:"이 옵션은 스크립트가 블랙리스트에 있는 호스트 웹 사이트에 팝업을 적용하는 것을 방지한다. 예를 들어 twitter.com을 블랙리스트에 추가하면 twitter.com에서 어떤 팝업도 열리지 않게 된다. 비활성화된 경우 이 옵션은 호스트 URL이 아닌 이미지 URL(예: twimg.com)에만 적용됨",ru:"Этот параметр не позволяет скрипту открывать любые всплывающие окна сайтам, которые находятся в чёрном списке. Например, добавление `twitter.com` в чёрный список предотвратит открытие всплывающих окон на twitter.com. Если этот параметр отключен, он применяется только к URL-адресам изображений (например, twimg.com), а не URL-адресам хостов.","zh-CN":"此选项决定是否不为黑名单中的网站打开任何弹窗。例如，将 twitter.com 添加到黑名单中可以避免在 twitter.com 上出现任何弹窗。如果禁用，黑名单仅应用于图像网址（如 twimg.com）而不针对网页网址"},"Don't popup different media type":{ru:"Нет всплывающих окон для других типов медиа","zh-CN":"不要弹出不同的媒体类型"},"This option prevents the popup from loading a video when the source was an image or vice-versa":{ru:"Этот параметр запрещает всплывающему окну загружать видео, если источником было изображение, или наоборот.","zh-CN":"此选项可避免源是图像时弹窗加载视频，反之亦然"},"Allow popup when fullscreen":{ru:"Всплывающие окна в полноэкранном режиме","zh-CN":"允许全屏时弹窗"},"Allows the popup to open if an element (such as a video player) is fullscreen.":{ru:"Позволяет открывать всплывающее окно, если элемент (например, видеоплеер) находится в полноэкранном режиме.","zh-CN":"允许存在全屏元素（如视频播放器）时打开弹窗。"},"Element finding mode":{ru:"Режим поиска элементов","zh-CN":"元素查找模式"},"How IMU should find the media element on the page.":{ru:"Как IMU будет искать медиа-элементы на странице.","zh-CN":"Image Max URL 应如何查找页面上的媒体元素。"},"This will result in a much higher CPU load for websites such as Facebook, and will occasionally return the wrong element.\nUse this option with caution.":{ru:"Это приведет к гораздо более высокой загрузке процессора для таких сайтов, как Facebook, и иногда будет возвращать неправильный элемент.\nИспользуйте этот параметр с осторожностью.","zh-CN":"对诸如 Facebook 等网站，这将导致很高的 CPU 负载，且偶尔会返回错误的元素。\n谨慎使用此选项。"},Full:{ru:"Полный","zh-CN":"全面"},"Manually looks through every element on the page to see if the cursor is above them. This will result in a higher CPU load for websites such as Facebook, and may return the wrong element":{ru:"Вручную просматривает каждый элемент на странице, чтобы увидеть, находится ли курсор над ними. Это приведет к более высокой загрузке процессора для таких сайтов, как Facebook, и может вернуть неправильный элемент.","zh-CN":"逐一检查页面上的每个元素，看鼠标指针是否在上面。这将导致很高的 CPU 负载，且偶尔会返回错误的元素"},Hybrid:{ru:"Гибридный","zh-CN":"混合"},"Looks manually through every child element of the last element found by `getElementsAtPoint`. Use this option if in doubt, it'll work on most sites":{ru:"Просматривает вручную каждый дочерний элемент последнего элемента, найденного с помощью `getElementsAtPoint`. Используйте этот вариант, если у вас есть сомнения. Он будет работать на большинстве сайтов.","zh-CN":"逐一检查用 `getElementsAtPoint` 找到的最后一个元素的每个子元素。如果不了解，使用此选项，它适用于绝大多数网站"},Simple:{ru:"Простой","zh-CN":"简易"},"This is the fastest option, which uses the value of `getElementsAtPoint` without modification. Works for sites that don't use pointer-events:none and shadow DOM":{ru:"Это самый быстрый вариант, который использует значение `getElementsAtPoint` без изменений. Работает для сайтов, которые не используют pointer-events:none и shadow DOM.","zh-CN":"这是最快的选项，它使用 `getElementsAtPoint` 的值而不做修改。适用于不使用 pointer-events:none 和 shadow DOM 的网站"},"Use cache":{ru:"Использовать кэш","zh-CN":"使用缓存"},"Allows use of a media cache for the popup. The cache is currently stored per-page and is not persistent across page reloads.":{ru:"Позволяет использовать медиа-кеш для всплывающего окна. Кэш в настоящее время хранится для каждой страницы и не сохраняется при перезагрузке страницы.","zh-CN":"允许弹窗缓存媒体。缓存目前不跨页共享，并且不会持久化（重新加载即失效）。"},"Cache duration":{ru:"Длительность кэша","zh-CN":"缓存持续时间"},"How long for media to remain cached. Set to `0` for unlimited.":{ru:"Как долго медиа будут оставаться в кэше. `0` - всегда.","zh-CN":"媒体被缓存多久。设为 0 则无限制。"},minutes:{ru:"мин.","zh-CN":"分钟"},"Cache item limit":{ru:"Ограничение элементов кэша","zh-CN":"缓存数量限制"},"Maximum number of individual media to remain cached. Set to `0` for unlimited.":{ru:"Максимальное количество отдельных медиа для сохранения в кэше. `0` - без ограничения.","zh-CN":"最多缓存多少个媒体。设为 0 则无限制。"},items:{ru:"эл.","zh-CN":"项"},"Resume videos":{ru:"Возобновлять видео","zh-CN":"继续视频"},"If a video popup was closed then reopened, the video will resume from where it left off":{ru:"Если всплывающее окно видео было закрыто, а затем снова открыто, видео возобновится с того места, где оно было остановлено.","zh-CN":"如果一个视频弹窗被关闭然后再次打开，该视频将从上次离开的进度继续播放"},"Use userscript":{fr:"Utiliser ce userscript",ko:"유저스크립트 사용하기",ru:"Использовать пользовательский скрипт","zh-CN":"使用用户脚本"},"Replaces the website's IMU instance with the userscript":{ru:"Заменяет сайт экземпляра IMU на пользовательский скрипт.","zh-CN":"使用用户脚本替换该网站的 Image Max URL 实例"},"Website image preview":{ko:"링크 붙인 후 이미지 미리보기",ru:"Предпросмотр изображения сайта","zh-CN":"网站图片预览"},"Enables a preview of the image on the Image Max URL website":{ru:"Включает предварительный просмотр изображения на сайте Image Max URL","zh-CN":"允许在 Image Max URL 网站上预览图片"},"IMU entry in context menu":{ru:"Добавить IMU в контекстное меню","zh-CN":"右键菜单中的 Image Max URL 项"},"Enables a custom entry for this extension in the right click/context menu":{ru:"Включает пользовательскую запись для этого расширения в контекстном меню (нажатие правой кнопкой мыши).","zh-CN":"右键菜单/上下文菜单中启用本扩展定义的菜单"},"Hot (re)load":{ru:"Горячая (пере)загрузка","zh-CN":"热重载"},"(Re)loads the extension on all existing pages when installing or updating":{ru:"(Пере)загружает расширение на всех существующих страницах при установке или обновлении.","zh-CN":"安装或更新后，热重载现有的全部页面上的本扩展"},"Custom XHR for libraries":{ru:"Пользовательский XHR для библиотек","zh-CN":"自定义程序库的 XHR"},"Allows the use of more powerful XHR (network requests) for 3rd-party libraries. This allows for certain DASH streams to work.":{ru:"Позволяет использовать более мощные XHR (сетевые запросы) для сторонних библиотек. Это позволяет работать определенным потокам DASH.","zh-CN":"允许第三方库使用更强大的 XHR（网络请求）。某些 DASH 流媒体需要这个。"},"Allows the use of more powerful XHR  (network requests) for 3rd-party libraries. This allows for certain DASH streams to work. Using this with the userscript version currently poses a potential security risk.":{ru:"Позволяет использовать более мощные XHR (сетевые запросы) для сторонних библиотек. Это позволяет работать определенным потокам DASH. Использование его в версии пользовательского скрипта в настоящее время представляет собой потенциальный риск для безопасности.","zh-CN":"允许第三方库使用更强大的 XHR（网络请求）。某些 DASH 流媒体需要这个。在目前的用户脚本版本中使用这种方法构成潜在的安全风险。"},Kakao:{ru:"Kakao","zh-CN":"Kakao"},YouTube:{ru:"YouTube","zh-CN":"YouTube"},"Instagram (downloading)":{ru:"Instagram (скачивание)","zh-CN":"Instagram (下载)"},"Use Web Archive for libraries":{ru:"Использовать веб-архив для библиотек","zh-CN":"为程序库使用 Web Archive 版本"},"Uses archive.org's web archive instead of github for libraries and other script internals (such as the options page).\nDon't enable this unless you need to.":{ru:"Использует веб-архив archive.org вместо github для библиотек и других внутренних компонентов скрипта (например, страницы параметров).\nНе включайте эту функцию, если в этом нет необходимости.","zh-CN":"为程序库和脚本内置的其他文件（如这个选项页面）使用 archive.org 的存档版本而非 github 版本。\n除非确实需要，否则无需启用。"},"Enable integrity checks":{ru:"Проверка целостности","zh-CN":"启用完整性检查"},"Runs integrity checks before loading 3rd-party libraries":{ru:"Запускает проверку целостности перед загрузкой сторонних библиотек.","zh-CN":"加载第三方库之前运行完整性检查"},"HLS/DASH maximum quality":{ru:"Максимальное качество HLS/DASH","zh-CN":"HLS/DASH 最高质量"},"Uses the maximum quality for HLS/DASH streams":{ru:"Использует максимальное качество для потоков HLS/DASH.","zh-CN":"对 HLS/DASH 流媒体使用最高质量"},"Maximum video quality":{ru:"Максимальное качество видео","zh-CN":"最高视频质量"},"Maximum quality for videos":{ru:"Максимальное качество для видео.","zh-CN":"视频的最高质量"},"(unlimited)":{ru:"(неограниченное)","zh-CN":"（无限制）"},"4K":{ru:"4K","zh-CN":"4K"},"1440p":{ru:"1440p","zh-CN":"1440p"},"1080p":{ru:"1080p","zh-CN":"1080p"},"720p":{ru:"720p","zh-CN":"720p"},"480p":{ru:"480p","zh-CN":"480p"},"Larger watermarked images":{ko:"더 크지만 워터마크 있는 이미지",ru:"Большие изображения с водяными знаками","zh-CN":"较大的带水印图像"},"Enables rules that return larger images that include watermarks":{ru:"Включает правила, возвращающие более крупные изображения с водяными знаками.","zh-CN":"启用规则：返回包含水印的较大图像"},"Stock photo websites":{ru:"Сайты со стоковыми фото","zh-CN":"“图库照片”网站"},"Smaller non-watermarked images":{ko:"더 작지만 워터마크 없는 이미지",ru:"Небольшие изображения без водяных знаков","zh-CN":"较小的无水印图像"},"Enables rules that return smaller images without watermarks":{ru:"Включает правила, возвращающие меньшие изображения без водяных знаков.","zh-CN":"启用规则：返回无水印的较小图像"},"Possibly different images":{fr:"Images possiblement différentes",ko:"다를 수 있는 이미지",ru:"Возможно, разные изображения","zh-CN":"可能不同的图像"},"Enables rules that return images that possibly differ, usually due to server-side caching":{ru:"Включает правила, возвращающие изображения, которые могут отличаться, как правило, из-за кэширования на стороне сервера.","zh-CN":"启用规则：返回可能有所不同的图像，不同通常由于服务器侧缓存"},"Possibly broken images":{fr:"Images possiblement brisée",ko:"손상될 수 있는 이미지",ru:"Возможно, сломанные изображения","zh-CN":"可能破损的图像"},"Enables rules that return images that are possibly broken":{ru:"Включает правила, возвращающие изображения, которые могут быть поломаны.","zh-CN":"启用规则：返回可能已损坏的图像"},"Possibly upscaled images":{ru:"Возможно, увеличенные изображения","zh-CN":"可能扩增尺寸的图像"},"Enables rules that return images that are possibly upscaled":{ru:"Включает правила, возвращающие изображения, которые могут быть увеличены.","zh-CN":"启用规则：返回可能已扩增尺寸的图像"},"Rules using 3rd-party websites":{fr:"Règles utilisant des sites 3rd-party",ko:"서드파티 사이트를 사용하는 규칙",ru:"Правила использования сторонних сайтов","zh-CN":"使用第三方网站的规则"},"Enables rules that use 3rd-party websites":{ru:"Включает правила, которые используют сторонние сайты.","zh-CN":"启用基于第三方网站的规则"},Newsen:{ko:"뉴스엔",ru:"Newsen","zh-CN":"Newsen"},"Rules using API calls":{ru:"Правила, использующие вызовы API","zh-CN":"基于 API 调用的规则"},"Enables rules that use API calls. Strongly recommended to keep this enabled":{ru:"Включает правила, использующие вызовы API. Настоятельно рекомендуется оставлять эту функцию включённой.","zh-CN":"启用基于 API 调用的规则。强烈建议保持此项启用"},Instagram:{ru:"Instagram","zh-CN":"Instagram"},Flickr:{ru:"Flickr","zh-CN":"Flickr"},"...":{ru:"...","zh-CN":"..."},"Allow 3rd-party libraries":{ru:"Сторонние библиотеки","zh-CN":"允许第三方库"},"Enables using 3rd-party libraries. This is both used in rules and as a prerequisite for certain functionality.":{ru:"Позволяет использовать сторонние библиотеки. Это используется как в правилах, так и в качестве предварительного условия для определённой функциональности.","zh-CN":"启用第三方库的调用。这可能用于规则和某些功能的先决条件。"},"Enables using 3rd-party libraries. This is both used in rules and as a prerequisite for certain functionality.\nThere is a possible (but unlikely) security risk for the userscript version.":{ru:"Позволяет использовать сторонние библиотеки. Это используется как в правилах, так и в качестве предварительного условия для определённой функциональности.\nСуществует возможный (но маловероятный) риск безопасности для версии пользовательского скрипта.","zh-CN":"启用第三方库的调用。这可能用于规则和某些功能的先决条件。\n这对于用户脚本版来说，有较低的潜在的安全风险。"},"Sites using testcookie (slowAES)":{ru:"Сайты, использующие testcookie (slowAES)","zh-CN":"使用 testcokie 的网站（慢AES）"},"Rules executing 3rd-party code":{ru:"Правила выполнения стороннего кода","zh-CN":"执行第三方代码的规则"},"Enables rules that execute arbitrary 3rd-party code stored on websites.":{ru:"Включает правила, которые выполняют произвольный сторонний код, хранящийся на сайтах.","zh-CN":"启用将执行存储在网站上的任意第三方代码的规则。"},"This could lead to security risks, please be careful when using this option!":{ru:"Это может привести к угрозам безопасности, будьте осторожны при использовании этого параметра!","zh-CN":"这可能导致安全风险，慎重使用此选项！"},"Rules using brute-force":{ru:"Правила, использующие грубую силу","zh-CN":"使用暴力破解的规则"},"Enables rules that require using brute force (through binary search) to find the original image":{ru:"Включает правила, требующие использования грубой силы (через бинарный поиск) для поиска оригинального изображения.","zh-CN":"启用需要凭借蛮力（二进制搜索）找到原始图像的规则"},Deezer:{ru:"Deezer","zh-CN":"Deezer"},"Use browser cookies":{ru:"Использовать куки браузера","zh-CN":"使用浏览器 Cookie"},"Uses the browser's cookies for API calls in order to access otherwise private data":{ru:"Использует файлы cookie браузера для вызовов API, чтобы получить доступ к конфиденциальным данным.","zh-CN":"允许 API 调用使用浏览器的 Cookie 来访问非公开数据"},"Private Flickr images":{ru:"Приватные изображения Flickr","zh-CN":"私人 Flickr 图像"},"DeviantART: Prefer size over original":{ru:"DeviantART: Предпочитать размер оригиналу","zh-CN":"DeviantART: 尺寸比原版更重要"},"Prefers a larger (but not upscaled) thumbnail image over a smaller original animated image":{ru:"Предпочитает больше (но не увеличенное) миниатюрное изображение меньшему оригинальному анимированному изображению.","zh-CN":"偏好尺寸较大（但非扩增）但非原始尺寸的缩略图图像，而不是原始尺寸但尺寸较小的动画图像"},"DeviantART: Use download links":{ru:"DeviantART: Использовать ссылки для скачивания","zh-CN":"DeviantART: 使用下载链接"},"Prefers using the download link (if available) by default. Note that this only works if you're logged in to DeviantART":{ru:"Предпочитает использовать ссылку для скачивания (если она доступна) по умолчанию. Обратите внимание, что это работает, только если вы вошли в свою учётную запись DeviantART.","zh-CN":"偏好默认使用下载链接（如果可用）。注意，仅在登录 DeviantART 后有效"},"E-Hentai: Use full image":{ru:"E-Hentai: Использовать полное изображение","zh-CN":"E-Hentai: 使用完整图像"},"Prefers using full/original images if available (logged in). This is more likely to get you rate limited":{ru:"Предпочитает использовать полные/оригинальные изображения, если таковые имеются. (требуется вход). Скорее всего, это ограничит вашу скорость.","zh-CN":"偏好使用全尺寸原版图像。需要已登录。使用它将更容易遭遇速率限制"},"Imgur: Use original filename":{ru:"Imgur: Использовать оригинальное имя файла","zh-CN":"Imgur: 使用原始文件名"},"If the original filename (the one used to upload the image) is found, use it instead of the image ID":{ru:"Если найдено оригинальное имя файла (используемое для скачивания изображения), используйте его вместо идентификатора изображения.","zh-CN":"如果找到原始文件名（上传图像时的文件名），使用它代替图像 ID"},"Imgur: Use source image":{ru:"Imgur: Использовать изображение источника","zh-CN":"Imgur: 使用源图像"},"If a source image is found for Imgur, try using it instead. Only works for old-style Imgur webpages (set `postpagebeta=0; postpagebetalogged=0` as cookies)":{ru:"Если для Imgur найдено изображение источника, попробуйте использовать его вместо этого. Работает только для веб-страниц Imgur старого стиля (установите `postpagebeta=0; postpagebetalogged=0` как cookie).","zh-CN":"如果找到 Imgur 的源图像，尝试使用它。仅适用于旧版 Imgur 网页（设置 Cookie `postpagebeta=0; postpagebetalogged=0`）"},"Instagram: Use native API":{ru:"Instagram: Использовать родной API","zh-CN":"Instagram: 使用原生 API"},"Uses Instagram's native API if possible, requires you to be logged into Instagram. This usually allows for higher resolution images (1440x*) to be returned.":{ru:"Использует родной API Instagram, если это возможно, требует, чтобы вы вошли в Instagram. Обычно это позволяет возвращать изображения с более высоким разрешением (1440x*).","zh-CN":"尽可能使用 Instagram 的原生 API，这需要您已登录 Instagram。通常能返回更高分辨率的图像（1440x*）。"},"Instagram: Don't use web API":{ru:"Instagram: Без использования веб-API","zh-CN":"Instagram: 不使用 Web API"},"Avoids using Instagram's web API if possible, which increases performance, but will occasionally sacrifice quality for videos":{ru:"Избегает использования веб-API Instagram, если это возможно, что повышает производительность, но иногда жертвует качеством видео.","zh-CN":"尽可能不使用 Instagram 的 Web API，这可以提升性能，但偶尔会牺牲视频品质"},"Instagram: Prefer quality over resolution":{ru:"Instagram: Предпочитать качество разрешению","zh-CN":"Instagram: 偏好高质量而不是分辨率"},"Prefers lower resolution videos that use a higher bitrate over higher resolution images. This adds a slight performance cost as it needs to fetch headers for multiple videos":{ru:"Предпочитает видео с более низким разрешением, которые используют более высокий битрейт по сравнению с изображениями с более высоким разрешением. Это добавляет небольшие затраты на производительность, так как это нуждается в получении заголовков для нескольких видео.","zh-CN":"偏好高比特率的低分辨率视频，而不是高分辨率图像。这轻微资源消耗，因为需要获取多个视频的头部"},"Instagram: Use albums for post thumbnails":{ru:"Instagram: Использовать альбомы для миниатюр постов","zh-CN":"Instagram: 为帖子缩略图使用相册"},"Queries Instagram for albums when using the popup on a post thumbnail":{ru:"Запросы к Instagram для альбомов при использовании всплывающего окна на миниатюре поста.","zh-CN":"为帖子缩略图使用弹窗时查询 Instagram 相册"},"Snapchat: Use original media without captions":{ru:"Snapchat: Использовать оригинальные медиа без подписей","zh-CN":"Snapchat: 使用没有标题的原始媒体"},"Prefers using original media instead of media with captions and tags overlayed":{ru:"Предпочитает использовать оригинальные медиа вместо медиа с наложенными подписями и тегами.","zh-CN":"倾向于使用原始媒体，而不是有标题和标签覆盖的媒体"},"TikTok: Don't use watermarked videos":{ru:"TikTok: Не использовать видео с водяными знаками","zh-CN":"TikTok: 不使用带水印的视频"},"Uses non-watermarked videos for TikTok if possible. This will introduce an extra delay when loading the video as two extra requests need to be performed. It will also fail for any videos uploaded after ~late July 2020":{ru:"По возможности использует видео без водяных знаков для TikTok. Это приведёт к дополнительной задержке при загрузке видео, так как необходимо выполнить два дополнительных запроса. Это не будет работать для любых видео, загруженных после ~конца июля 2020 года.","zh-CN":"如果可能，为 TikTok 使用无水印视频。加载视频时需执行两个额外的请求，这将增加延迟。对2020年7月左右之后上传的任何视频不起作用"},"TikTok: 3rd-party watermark removal":{ru:"TikTok: Удаление водяных знаков третьей стороной","zh-CN":"TikTok: 第三方水印去除"},"Uses a 3rd-party watermark removal site for TikTok.\nI do not endorse any of the sites supported. They may log your IP address and videos you submit. Use this option with caution.\n`LQ` = Low quality, `PL` = Public log":{ru:"Использует сторонний сайт удаления водяных знаков для TikTok.\nЯ не одобряю ни один из поддерживаемых сайтов. Они могут регистрировать ваш IP-адрес и видео, которые вы отправляете. Используйте этот параметр с осторожностью.\n`НК` = Низкое качество, `ПЛ` = Публичный лог","zh-CN":"使用一个适用于 TikTok 的第三方水印去除网站。\n这不代表对该网站的认可。该网站可能记录您的 IP 地址和提交的视频。谨慎使用。\n`LQ` = 低品质，`PL` = 公众日志"},"(none)":{ru:"(ничего)","zh-CN":"(无)"},"ttloader.com":{ru:"ttloader.com","zh-CN":"ttloader.com"},"onlinetik.com":{ru:"onlinetik.com","zh-CN":"onlinetik.com"},"tikdowns.com":{ru:"tikdowns.com","zh-CN":"tikdowns.com"},"ssstiktok.net":{ru:"ssstiktok.net","zh-CN":"ssstiktok.net"},"keeptiktok.com (LQ)":{ru:"keeptiktok.com (НК)","zh-CN":"keeptiktok.com (LQ)"},"ssstiktok.io (LQ)":{ru:"ssstiktok.io (НК)","zh-CN":"ssstiktok.io (LQ)"},"musicallydown.com (LQ/PL)":{ru:"musicallydown.com (НК/ПЖ)","zh-CN":"musicallydown.com (LQ/PL)"},"snaptik.app (LQ)":{ru:"snaptik.app (НК)","zh-CN":"snaptik.app (LQ)"},"tikmate.online (LQ)":{ru:"tikmate.online (НК)","zh-CN":"tikmate.online (LQ)"},"Tumblr: API key":{ru:"Tumblr: ключ API","zh-CN":"Tumblr: API 密钥"},"API key for finding larger images on Tumblr":{ru:"Ключ API для поиска больших изображений на Tumblr","zh-CN":"用于在 Tumblr 上查找更大图片的 API 密钥"},"Twitter: Use extension":{ru:"Twitter: Использовать расширение","zh-CN":"Twitter: 使用扩展名"},"Prefers `.jpg?name=orig` over `?format=jpg&name=orig`. This will possibly incur extra requests before succeeding. Note that there is no difference in image quality.":{ru:"Предпочитать `.jpg?name=orig` поверх `?format=jpg&name=orig`. Это, возможно, повлечет за собой дополнительные запросы, прежде чем добиться успеха. Обратите внимание, что нет никакой разницы в качестве изображения.","zh-CN":"首选 `.jpg?name=orig` 而不是 `?format=jpg&name=orig`。这可能在成功前产生额外的请求。注意，图像质量上没有差异。"},Blacklist:{ko:"블랙리스트",ru:"Чёрный список","zh-CN":"黑名单"},"A list of URLs (one per line) that are blacklisted from being processed":{ru:"Список URL-адресов (по одному на строку), которые занесены в чёрный список для обработки.","zh-CN":"处理过程的黑名单网址列表（每行一条）"},"The examples below are written for the simple (glob) engine, not the regex engine. The glob engine is generally based on the UNIX glob syntax.<br />\n<ul><br />\n<li><code>google.com</code> will block https://google.com/, https://www.google.com/, https://abcdef.google.com/, https://def.abc.google.com/, etc.</li>\n<li><code>abc.google.com</code> will block https://abc.google.com/, https://def.abc.google.com/, etc.</li>\n<li><code>*.google.com</code> will block https://www.google.com/, https://def.abc.google.com/, etc. but not https://google.com/</li>\n<li><code>google.*/</code> will block https://google.com/, https://www.google.co.uk, etc.</li>\n<li><code>http://google.com</code> will block http://google.com/, but not https://google.com/, http://www.google.com/, etc.</li>\n<li><code>google.com/test</code> will block https://google.com/test, https://www.google.com/test/abcdef, but not https://google.com/, etc.</li>\n<li><code>google.com/*/test</code> will block https://google.com/abc/test, but not https://google.com/test or https://google.com/abc/def/test</li>\n<li><code>google.com/**/test</code> will block https://google.com/abc/test, https://google.com/abc/def/test, https://google.com/abc/def/ghi/test, etc. but not https://google.com/test</li>\n<li><code>g??gle.com</code> will block https://google.com/, https://gaagle.com/, https://goagle.com/, etc.</li>\n<li><code>google.{com,co.uk}</code> will block https://google.com/ and https://google.co.uk/</li>\n<li><code>g[oau]ogle.com</code> will block https://google.com/, https://gaogle.com/, and http://www.guogle.com/</li>\n<li><code>g[0-9]ogle.com</code> will block https://g0ogle.com/, https://g1ogle.com/, etc. (up to https://g9ogle.com/)</li>\n</ul>":{ru:"Приведенные ниже примеры написаны для простого (glob) движка, а не для движка регулярных выражений. Механизм glob обычно основан на синтаксисе UNIX glob.<br />\n<ul><br />\n<li><code>google.com</code> будет блокировать https://google.com/, https://www.google.com/, https://abcdef.google.com/, https://def.abc.google.com/, и т.д.</li>\n<li><code>abc.google.com</code> будет блокировать https://abc.google.com/, https://def.abc.google.com/, и т.д.</li>\n<li><code>*.google.com</code> будет блокировать https://www.google.com/, https://def.abc.google.com/, и т.д., но не https://google.com/</li>\n<li><code>google.*/</code> будет блокировать https://google.com/, https://www.google.co.uk, и т.д.</li>\n<li><code>http://google.com</code> будет блокировать http://google.com/, но не https://google.com/, http://www.google.com/, и т.д.</li>\n<li><code>google.com/test</code> будет блокировать https://google.com/test, https://www.google.com/test/abcdef, но не https://google.com/, и т.д.</li>\n<li><code>google.com/*/test</code> будет блокировать https://google.com/abc/test, но не https://google.com/test или https://google.com/abc/def/test</li>\n<li><code>google.com/**/test</code> будет блокировать https://google.com/abc/test, https://google.com/abc/def/test, https://google.com/abc/def/ghi/test, и т.д., но не https://google.com/test</li>\n<li><code>g??gle.com</code> будет блокировать https://google.com/, https://gaagle.com/, https://goagle.com/, и т.д.</li>\n<li><code>google.{com,co.uk}</code> будет блокировать https://google.com/ и https://google.co.uk/</li>\n<li><code>g[oau]ogle.com</code> будет блокировать https://google.com/, https://gaogle.com/, и http://www.guogle.com/</li>\n<li><code>g[0-9]ogle.com</code> будет блокировать https://g0ogle.com/, https://g1ogle.com/, и т.д. (вплоть до https://g9ogle.com/)</li>\n</ul>","zh-CN":"下面的示例是为建议（glob）引擎编写，而非正则表达式引擎。Glob 引擎通常基于 UNIX glob 语法。<br />\n<ul><br />\n<li><code>google.com</code> 将屏蔽 https://google.com/, https://www.google.com/, https://abcdef.google.com/, https://def.abc.google.com/ 等。</li>\n<li><code>abc.google.com</code> 将屏蔽 https://abc.google.com/, https://def.abc.google.com/ 等。</li>\n<li><code>*.google.com</code> 将屏蔽 https://www.google.com/, https://def.abc.google.com/ 等。但不含 https://google.com/</li>\n<li><code>google.*/</code> 将屏蔽 https://google.com/, https://www.google.co.uk 等。</li>\n<li><code>http://google.com</code> 将屏蔽 http://google.com/, but not https://google.com/, http://www.google.com/ 等。</li>\n<li><code>google.com/test</code> 将屏蔽 https://google.com/test, https://www.google.com/test/abcdef, but not https://google.com/ 等。</li>\n<li><code>google.com/*/test</code> 将屏蔽 https://google.com/abc/test，但不含 https://google.com/test 或 https://google.com/abc/def/test</li>\n<li><code>google.com/**/test</code> 将屏蔽 https://google.com/abc/test, https://google.com/abc/def/test, https://google.com/abc/def/ghi/test 等。 but not https://google.com/test</li>\n<li><code>g??gle.com</code> 将屏蔽 https://google.com/, https://gaagle.com/, https://goagle.com/ 等。</li>\n<li><code>google.{com,co.uk}</code> 将屏蔽 https://google.com/ 和https://google.co.uk/</li>\n<li><code>g[oau]ogle.com</code> 将屏蔽 https://google.com/, https://gaogle.com/, 和http://www.guogle.com/</li>\n<li><code>g[0-9]ogle.com</code> 将屏蔽 https://g0ogle.com/, https://g1ogle.com/ 等。 (up to https://g9ogle.com/)</li>\n</ul>"},"Blacklist engine":{ko:"블랙리스트 엔진",ru:"Движок чёрного списка","zh-CN":"黑名单引擎"},"How the blacklist should be processed":{ru:"Как следует обрабатывать чёрный список.","zh-CN":"应如何处理黑名单"},"Simple (glob)":{ko:"단순 (glob)",ru:"Простой (glob)","zh-CN":"简易 (glob)"},Regex:{ko:"정규식",ru:"Регулярное выражение","zh-CN":"正则表达式"},"Filename format":{ru:"Формат имени файла","zh-CN":"文件名格式"},"Format string(s) for the filename":{ru:"Формат строк(и) для имени файла.","zh-CN":"文件名格式化要用到的字符串"},Documentation:{ru:"Документация","zh-CN":"文档"},"<p>Variables are specified between curly brackets (<code>{}</code>).</p>\n<p>Below is a list of valid variables:</p>\n<ul><br />\n<li><code>filename</code> - Original filename (with extension, if applicable)</li>\n<li><code>filename_noext</code> - Original filename (without extension, if applicable)</li>\n<li><code>ext</code> - Extension (with <code>.</code> prefixed)</li>\n<li><code>caption</code> - Popup caption</li>\n<li><code>author_username</code> - Author's username</li>\n<li><code>id</code> - Post ID</li>\n<li><code>host_title</code> - Title of the current tab/window</li>\n<li><code>host_url</code> - URL of the host webpage</li>\n<li><code>host_domain</code> - Domain of the host webpage</li>\n<li><code>host_domain_nosub</code> - Domain (without subdomains) of the host webpage</li>\n<li><code>url</code> - URL of the media</li>\n<li><code>domain</code> - Domain of the media</li>\n<li><code>domain_nosub</code> - Domain (without subdomains) of the media</li>\n<li><code>is_screenshot</code> - Blank, the line will only be processed when screenshotting a video</li>\n<li><code>prefix</code>, <code>suffix</code> - Blank by default, these variables will be automatically prefixed/suffixed to the filename if set using <code>:=</code></li>\n<li><code>created_...</code> - Created date (see note on Date objects below)</li>\n<li><code>updated_...</code> - Updated date, this will use the <code>Last-Modified</code> header if not otherwise specified by the rule (see note on Date objects below)</li>\n<li><code>download_...</code> - Download date (see note on Date objects below)</li>\n<li><code>date_...</code> - Created/updated date (see note on Date objects below)</li>\n</ul><br />\n<p>You can truncate the value of a variable by adding <code>:(number)</code> before the end bracket (<code>}</code>). For example:</p>\n<ul><br />\n<li><code>{caption:10}</code> - Truncates the caption to be at most 10 characters long</li>\n<li><code>{caption:10.}</code> - Same, but will add an ellipsis (…) if the caption was truncated</li>\n</ul><br />\n<p>If a variable doesn't exist, by default it will ignore the current format string and use the one on the next line, unless <code>?</code> is added before the end bracket. For example:</p>\n<ul><br />\n<li><code>{ext?}</code> - Will be replaced with nothing if <code>ext</code> doesn't exist</li>\n<li><code>{caption?no caption}</code> - Will be replaced with <code>no caption</code> if <code>caption</code> doesn't exist</li>\n</ul><br />\n<p>You can check for equality and inequality with <code>==</code> and <code>!=</code> operators respectively. For example:</p>\n<ul><br />\n<li><code>{domain_nosub==cdninstagram.com}{author_username} {id}</code> - Will only run the current format (<code>{author_username} {id}</code> in this case) if the domain is cdninstagram.com</li>\n</ul><br />\n<p>You can check if a variable contains a string with <code>/=</code> (<code>!/=</code> for the opposite). It also supports two flags, <code>r</code> (regex) and <code>c</code> (case-sensitive), if added between <code>/</code> and <code>=</code>. For example:</p>\n<ul><br />\n<li><code>{domain/=instagram}{id}</code> - Will only run the current format (<code>{id}</code>) if the domain contains <code>instagram</code></li>\n<li><code>{domain!/=instagram}{id}</code> - Likewise, but only if the domain does not contain <code>instagram</code></li>\n<li><code>{domain/r=inst.*ram}{id}</code> - Likewise, but only if the domain matches the regex <code>inst.*ram</code></li>\n<li><code>{window_title/c=Instagram}{id}</code> - Likewise, but only if the window's title contains <code>Instagram</code> (case-sensitively)</li>\n<li><code>{window_title!/rc=Inst.*ram}{id}</code> - Likewise, but only if the window's title does not match the case-sensitive regex <code>Inst.*ram</code></li>\n</ul><br />\n<p>You can set a custom variable with <code>:=</code>. For example:</p>\n<ul><br />\n<li><code>{domain_nosub==cdninstagram.com}{foo:=bar}</code> - Sets the variable <code>foo</code> to <code>bar</code> if the domain is <code>cdninstagram.com</code>. The variable can then be accessed with e.g. <code>{foo}</code></li>\n</ul><br />\n<p>Date objects are accessible through a number of properties. Each property can be suffixed with <code>_utc</code> to get the UTC/GMT equivalent.</p>\n<ul><br />\n<li><code>..._iso</code> - Date in ISO format (e.g. <code>2019-12-31T23-30-56</code>). Note that <code>:</code> is replaced with <code>-</code> to avoid issues with paths under NTFS.</li>\n<li><code>..._ago</code> - Human-readable representation of the time elapsed since the date (e.g. <code>1 year and 10 months ago</code>, <code>5 months and 20 days ago</code>)</li>\n<li><code>..._unix</code> - Unix timestamp (e.g. <code>1577912345</code>)</li>\n<li><code>..._unix_ms</code> - Unix timestamp with millisecond accuracy (e.g. <code>1577912345678</code>)</li>\n<li><code>..._yyyymmdd</code> - Date in YYYYMMDD format (e.g. <code>20191230</code>)</li>\n<li><code>..._hhmmss</code> - Time in HHMMSS format (e.g. <code>233056</code>)</li>\n<li><code>..._year</code> - Full year (e.g. <code>2019</code>)</li>\n<li><code>..._month</code> - Zero-padded month (e.g. <code>12</code>)</li>\n<li><code>..._day</code> - Zero-padded day (e.g. <code>31</code>)</li>\n<li><code>..._hours</code> - Zero-padded hours in military/24-hour format (e.g. <code>23</code>)</li>\n<li><code>..._minutes</code> - Zero-padded minutes (e.g. <code>30</code>)</li>\n<li><code>..._seconds</code> - Zero-padded seconds (e.g. <code>56</code>)</li>\n</ul>":{ru:"<p>Переменные указываются между фигурными скобками (<code>{}</code>).</p>\n<p>Ниже приведен список допустимых переменных:</p>\n<ul><br />\n<li><code>filename</code> - Оригинальное имя файла (с расширением, если применимо)</li>\n<li><code>filename_noext</code> - Оригинальное имя файла (без расширения, если применимо)</li>\n<li><code>ext</code> - Расширение (с префиксом <code>.</code>)</li>\n<li><code>caption</code> - Заголовок всплывающего окна</li>\n<li><code>author_username</code> - Имя пользователя автора</li>\n<li><code>id</code> - ID записи</li>\n<li><code>host_title</code> - Заголовок текущей вкладки/окна</li>\n<li><code>host_url</code> - URL-адрес веб-страницы хоста</li>\n<li><code>host_domain</code> - Домен главной веб-страницы</li>\n<li><code>host_domain_nosub</code> - Домен (без субдоменов) главной веб-страницы</li>\n<li><code>url</code> - URL-адрес медиа</li>\n<li><code>domain</code> - Домен медиа</li>\n<li><code>domain_nosub</code> - Домен (без субдоменов) медиа</li>\n<li><code>is_screenshot</code> - Пусто, строка будет обрабатываться только при скриншоте видео.</li>\n<li><code>prefix</code>, <code>suffix</code> - По умолчанию пустые, эти переменные будут автоматически приставляться к имени файла, если они заданы с помощью <code>:=</code></li>\n<li><code>created_...</code> - Дата создания (см. примечание к объектам Date ниже)</li>\n<li><code>updated_...</code> - Дата обновления, при этом будет использоваться заголовок <code>Last-Modified,</code> если правило не указано иным образом (см. примечание к объектам Date ниже)</li>\n<li><code>download_...</code> - Дата скачивания (см. примечание об объектах Date ниже)</li>\n<li><code>date_...</code> - Дата создания/обновления (см. примечание об объектах Date ниже)</li>\n</ul><br />\n<p>Вы можете усечь значение переменной, добавив <code>:(number)</code> перед закрывающей скобкой (<code>}</code>). Например:</p>\n<ul><br />\n<li><code>{caption:10}</code> - Обрезает заголовок до 10 символов</li>\n<li><code>{caption:10.}</code> - То же самое, но с добавлением многоточия (…), если заголовок был обрезан</li>\n</ul><br />\n<p>Если переменная не существует, по умолчанию она будет игнорировать текущую строку формата и использовать ту, которая находится в следующей строке, если только <code>?</code> не добавлена перед закрывающей скобкой. Например:</p>\n<ul><br />\n<li><code>{ext?}</code> - Будет заменен ничем, если <code>ext</code> не существует</li>\n<li><code>{caption?no caption}</code> - Будет заменено на <code>no caption</code>, если <code>caption</code> не существует</li>\n</ul><br />\n<p>Вы можете проверить равенство и неравенство с помощью операторов <code>==</code> и <code>!=</code> соответственно. Например:</p>\n<ul><br />\n<li><code>{domain_nosub==cdninstagram.com}{author_username} {id}</code> - Будет работать только в текущем формате (в данном случае <code>{author_username} {id}</code>), если домен cdninstagram.com</li>\n</ul><br />\n<p>Вы можете проверить, содержит ли переменная строку с <code>/=</code> (<code>!/=</code> для противоположного). Он также поддерживает два флага, <code>r</code> (regex) и <code>c</code> (чувствительный к регистру), если добавлен между <code>/</code> и <code>=</code>. Например:</p>\n<ul><br />\n<li><code>{domain/=instagram}{id}</code> - Будет работать только в текущем формате (<code>{id}),</code> если домен содержит <code>instagram</code></li>\n<li><code>{domain!/=instagram}{id}</code> - Аналогично, но только если домен не содержит <code>instagram</code></li>\n<li><code>{domain/r=inst.*ram}{id}</code> - Аналогично, но только в том случае, если домен соответствует regex <code>inst.*ram</code></li>\n<li><code>{window_title/c=Instagram}{id}</code> - Аналогично, но только если заголовок окна содержит <code>Instagram</code> (с учётом регистра)</li>\n<li><code>{window_title!/rc=Inst.*ram}{id}</code> - Аналогично, но только в том случае, если заголовок окна не соответствует regex <code>Inst.*ram</code> с учётом регистра</li>\n</ul><br />\n<p>Пользовательскую переменную можно задать с помощью <code>:=</code>. Например:</p>\n<ul><br />\n<li><code>{domain_nosub==cdninstagram.com}{foo:=bar}</code> - Устанавливает для переменной <code>foo</code> значение <code>bar</code>, если доменом является <code>cdninstagram.com</code>. Затем к переменной можно получить доступ, например <code>{foo}</code></li>\n</ul><br />\n<p>Объекты Date доступны через ряд свойств. Каждое свойство может быть суффиксировано с <code>_utc</code>, чтобы получить эквивалент UTC/GMT.</p>\n<ul><br />\n<li><code>..._iso</code> - Дата в формате ISO (например, <code>2019-12-31T23-30-56</code>). Обратите внимание, что <code>:</code> заменяется на <code>-</code> во избежание проблем с путями под NTFS.</li>\n<li><code>..._ago</code> - Удобочитаемое представление времени, прошедшего с даты (например, <code>1 год и 10 месяцев назад</code>, <code>5 месяцев и 20 дней назад</code>)</li>\n<li><code>..._unix</code> - Отметка времени Unix (например <code>1577912345</code>)</li>\n<li><code>..._unix_ms</code> - Отметка времени Unix с точностью до миллисекунды (например <code>1577912345678</code>)</li>\n<li><code>..._yyyymmdd</code> - Дата в формате YYYYMMDD (например <code>20191230</code>)</li>\n<li><code>..._hhmmss</code> - Время в формате HHMMSS (например <code>233056</code>)</li>\n<li><code>..._year</code> - Полный год (например <code>2019</code>)</li>\n<li><code>..._month</code> - Месяц с добавлением нуля (например <code>12</code>)</li>\n<li><code>..._day</code> - День с добавление нуля (например <code>31</code>)</li>\n<li><code>..._hours</code> - Часы с добавлением нуля в военном/24-часовом формате (например <code>23</code>)</li>\n<li><code>..._minutes</code> - Минуты с добавлением нуля (например <code>30</code>)</li>\n<li><code>..._seconds</code> - Секунды с добавлением нуля (например <code>56</code>)</li>\n</ul>","zh-CN":"<p>大括号间可使用的变量（<code>{}</code>）。</p>\n<p>下述为有效变量列表：</p>\n<ul><br />\n<li><code>filename</code> - 原始文件名（含扩展名，如适用）</li>\n<li><code>filename_noext</code> - 原始文件名（无扩展名，如适用）</li>\n<li><code>ext</code> - 扩展名（含 <code>.</code> 前缀）</li>\n<li><code>caption</code> - 弹窗的标题</li>\n<li><code>author_username</code> - 作者的用户名</li>\n<li><code>id</code> - 帖子 ID</li>\n<li><code>host_title</code> - 当前标签页/窗口的标题</li>\n<li><code>host_url</code> - 托管网页的网址</li>\n<li><code>host_domain</code> - 托管网页的域名</li>\n<li><code>host_domain_nosub</code> - 托管网页的域名（不含子域名）</li>\n<li><code>url</code> - 媒体（文件）的网址</li>\n<li><code>domain</code> - 媒体（文件）的域名</li>\n<li><code>domain_nosub</code> - 媒体的域名（不含子域名）</li>\n<li><code>is_screenshot</code> - 空白，此行仅在对视频截图时处理</li>\n<li><code>prefix</code>, <code>suffix</code> - 默认空白，这些变量在使用 <code>:=</code> 时自动作为文件名的前缀/后缀</li>\n<li><code>created_...</code> - 创建日期（详见下文“日期”对象）</li>\n<li><code>updated_...</code> - 更新日期，规则未另行指定时将使用 <code>Last-Modified</code> 头（详见下文“日期”对象）</li>\n<li><code>download_...</code> - 下载日期（详见下文“日期”对象）</li>\n<li><code>date_...</code> - 创建/更新日期（详见下文“日期”对象）</li>\n</ul><br />\n<p>您可以在变量的右括号（<code>}</code>）前添加 <code>:(number)</code> 来截断值。例如：</p>\n<ul><br />\n<li><code>{caption:10}</code> - 将标题截断为最多 10 个字符</li>\n<li><code>{caption:10.}</code> - 同上，但当标题被截断时追加一个省略号（…）</li>\n</ul><br />\n<p>如果变量不存在，默认将忽略当前的格式化字符串，并使用下一行，除非右括号前添加了 <code>?</code>。例如：</p>\n<ul><br />\n<li><code>{ext?}</code> - 在 <code>ext</code> 不存在时变为空</li>\n<li><code>{caption?无标题}</code> - <code>caption</code> 不存在时变为 <code>无标题</code></li>\n</ul><br />\n<p>可以分别使用 <code>==</code> 和 <code>!=</code> 操作符检查相等和不等式。例如：</p>\n<ul><br />\n<li><code>{domain_nosub==cdninstagram.com}{author_username} {id}</code> - 仅在域名为 cdninstagram.com 时采用这条格式（<code>{author_username} {id}</code>）</li>\n</ul><br />\n<p>可以用 <code>/=</code> 检查变量是否包含指定字符串（<code>!/=</code> 检查是否不包含）。它还支持两个标志，<code>r</code>（正则表达式）和 <code>c</code>（区分大小写），加在 <code>/</code> 与 <code>=</code> 之间。例如：</p>\n<ul><br />\n<li><code>{domain/=instagram}{id}</code> - 仅在域名包含 <code>instagram</code> 时采用格式（<code>{id}</code>）</li>\n<li><code>{domain!/=instagram}{id}</code> - 仅在域名不包含 <code>instagram</code> 时</li>\n<li><code>{domain/r=inst.*ram}{id}</code> - 仅在域名匹配正则表达式 <code>inst.*ram</code> 时</li>\n<li><code>{window_title/c=Instagram}{id}</code> - 仅在窗口标题包含 <code>Instagram</code> 时（区分大小写）</li>\n<li><code>{window_title!/rc=Inst.*ram}{id}</code> - 仅在窗口标题不匹配区分大小写的正则表达式 <code>Inst.*ram</code> 时</li>\n</ul><br />\n<p>可以用 <code>:=</code> 设置一个自定义变量。例如：</p>\n<ul><br />\n<li><code>{domain_nosub==cdninstagram.com}{foo:=bar}</code> - 如果域名是 <code>cdninstagram.com</code>，设置变量 <code>foo</code> 为 <code>bar</code>。变量的访问方式如 <code>{foo}</code></li>\n</ul><br />\n<p>日期对象可通过众多属性访问。每个属性都可以后缀 <code>_utc</code> 来获取等效的 UTC/GMT 时间。</p>\n<ul><br />\n<li><code>..._iso</code> - ISO 格式的日期（例如 <code>2019-12-31T23-30-56</code>）。注意，<code>:</code> 被替换为 <code>-</code> 以避免违反 NTFS 路径约束。</li>\n<li><code>..._ago</code> - 易于阅读的已经过时间（例如 <code>1 year and 10 months ago</code>、<code>5 months and 20 days ago</code>）</li>\n<li><code>..._unix</code> - Unix 时间戳（例如 <code>1577912345</code>）</li>\n<li><code>..._unix_ms</code> - Unix 时间戳，毫秒精度（例如 <code>1577912345678</code>）</li>\n<li><code>..._yyyymmdd</code> - YYYYMMDD 格式日期（例如 <code>20191230</code>）</li>\n<li><code>..._hhmmss</code> - HHMMSS 格式时间（例如 <code>233056</code>）</li>\n<li><code>..._year</code> - 完整年份（例如 <code>2019</code>）</li>\n<li><code>..._month</code> - 补零月份（例如 <code>12</code>）</li>\n<li><code>..._day</code> - 补零的日（例如 <code>31</code>）</li>\n<li><code>..._hours</code> - 补零的小时，24小时制（例如 <code>23</code>）</li>\n<li><code>..._minutes</code> - 补零的分钟（例如 <code>30</code>）</li>\n<li><code>..._seconds</code> - 补零的秒（例如 <code>56</code>）</li>\n</ul>"},"Replace special characters with underscores":{ru:"Замена спецсимволов подчёркиванием","zh-CN":"用下划线替换特殊字符"},'Replaces characters such as `/` or `"` with `_` when downloading. Note that browsers will usually do this automatically, this is just to ensure consistent behavior.':{ru:'Заменяет такие символы, как `/` или `"` на `_` при скачивании. Обратите внимание, что браузеры обычно делают это автоматически, это просто для обеспечения согласованного поведения.',"zh-CN":'下载时将诸如 `/`、`"` 等字符替换为 `_` 。浏览器通常会自动这样做，这只是为了确保一致的行为。'},"Trigger keybinding that will run the Replace Images function":{ru:"Вызывает привязку клавиш, которая запустит функцию замены изображений.","zh-CN":"运行“替换图像”功能的触发键"},"Automatically replace images":{ru:"Автозамена изображений","zh-CN":"自动替换图像"},"Automatically replace images to larger versions on pages you view":{ru:"Автозамена изображений на более крупные версии на просматриваемых страницах.","zh-CN":"在您查看的页面上自动将图像替换为较大版本"},"This could lead to rate limiting or IP bans":{ru:"Это может привести к ограничению скорости или блокировке IP-адреса.","zh-CN":"这可能导致速率限制和封禁 IP"},"Use data URLs":{ru:"Использовать data URL","zh-CN":"使用 data URL"},"Uses data:// URLs instead of image links. Disabling this may improve compatibility with some bulk image downloader extensions":{ru:"Использует data:// URL вместо ссылок на изображения. Отключение этого параметра может улучшить совместимость с некоторыми расширениями массового скачивания изображений.","zh-CN":"使用 data:// URL 代替图像链接。禁用此功能可能改善与批量下载图片的扩展的兼容性"},"Wait until image is fully loaded":{ru:"Ждать полную загрузку изображения","zh-CN":"等待至图像完全加载"},"Waits until the image being replaced is fully loaded before moving on to the next image":{ru:"Ждёт пока заменяемое изображение не будет полностью загружено прежде чем перейти к следующему изображению.","zh-CN":"移动到下一个图像之前，等待被替换的图像完全加载"},"Max images to process at once":{ru:"Максимально изображений для одновременной обработки","zh-CN":"一次最多处理图像"},"The maximum amount of images to process at once":{ru:"Максимальное количество изображений для обработки одновременно.","zh-CN":"一次最多处理多少个图像"},"Max images per domain at once":{ru:"Максимально изображений на домен одновременно","zh-CN":"每个域一次最多图像"},"The maximum amount of images per domain to process at once":{ru:"Максимальное количество изображений на домен для одновременной обработки.","zh-CN":"每个域（名）一次最多处理多少个图像"},images:{es:"imágenes",ko:"이미지",ru:"Изображения","zh-CN":"个图像"},"Delay between same-domain images":{ru:"Задержка между однодоменными изображениями.","zh-CN":"同域图像之间延迟"},"New requests for images in the same domain will be delayed by this amount of seconds. Useful for avoiding rate limits.":{ru:"Новые запросы на изображения в том же домене будут задерживаться на это количество секунд. Полезно для избежания ограничений скорости.","zh-CN":"对同域图像的新请求将延迟此秒数。有助避免触发频率限制。"},seconds:{es:"segundos",ko:"초",ru:"сек.","zh-CN":"秒"},"Replace images":{ru:"Заменять изображения","zh-CN":"替换图片"},"Replaces images to their larger versions when the button is pressed":{ru:"Заменяет изображения на их более крупные версии при нажатии кнопки.","zh-CN":"按下按钮时，将图像替换为较大的版本"},"Add links":{ru:"Добавлять ссылки","zh-CN":"添加链接"},"Adds links around replaced media if a link doesn't already exist":{ru:"Добавляет ссылки вокруг заменённых медиа, если ссылки ещё не существует.","zh-CN":"在已替换媒体旁添加链接（如果尚无）"},"Replace links":{ru:"Заменять ссылки","zh-CN":"替换链接"},"Replaces links if they already exist":{ru:"Заменяет ссылки, если они уже существуют.","zh-CN":"替换已经存在的链接"},"Plain hyperlinks":{ru:"Простые гиперссылки","zh-CN":"纯粹超链接"},"How to treat plain (non-media) hyperlinks that link to potential media":{ru:"Как обращаться с простыми (немедийными) гиперссылками, которые ссылаются на потенциальные медиа.","zh-CN":"如何处理链接到潜在媒体的纯粹超链接"},"Replace link+text":{ru:"Заменять ссылку+текст","zh-CN":"替换链接和文本"},"Replace media":{ru:"Заменять медиа","zh-CN":"替换媒体"},"Links open in new tab":{ru:"Открывать ссылки в новой вкладке","zh-CN":"在新标签页中打开链接"},"Clicking on a replaced link will open the media in a new tab":{ru:"Нажатие на заменённую ссылку откроет медиа в новой вкладке.","zh-CN":"单击已替换的链接将在新标签页中打开媒体"},"Size constraints":{ru:"Ограничения по размеру","zh-CN":"大小限制"},"Removes or enforces height/width specifiers for replaced media":{ru:"Удаляет или применяет спецификаторы высоты/ширины для замененных медиа","zh-CN":"移除或强制应用被替换媒体的高度/宽度说明符"},Ignore:{ru:"Игнорировать","zh-CN":"忽略"},Remove:{ru:"Удалить","zh-CN":"移除"},Force:{ru:"Принудительно","zh-CN":"强制"},"Replacement CSS":{ru:"Замена CSS","zh-CN":"替换 CSS"},"CSS styles to apply to replaced media. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't yet supported here)":{ru:"Стили CSS для применения к заменяемым медиа. Дополнительные сведения смотрите в документации 'Стилизация CSS всплывающего окна' (здесь не поддерживаются переменные URL thumb/full).","zh-CN":"应用到已替换媒体的 CSS 样式。更多信息详见“弹窗 CSS 样式”文档（此处不支持 thumb/full URL 变量）"},"Simple progress":{ru:"Простой прогресс","zh-CN":"简单进度条"},"Uses a simpler progress bar that has a fixed size for all media. This is useful to see how many images are replaced, rather than the ETA":{ru:"Использует более простую шкалу прогресса, которая имеет фиксированный размер для всех медиа. Это полезно для того, чтобы увидеть, сколько изображений заменено, а не ждать.","zh-CN":"对所有媒体使用固定大小的简单进度条。这能看到有多少图像已替换，而不是只有剩余时间"},"Enable trigger key":{ru:"Включить клавишу действия","zh-CN":"启用触发键"},"Enables the use of the trigger key to run it without needing to use the menu":{ru:"Позволяет использовать клавишу действия для запуска без необходимости использования меню.","zh-CN":"允许使用触发键来运行，无需使用菜单"},"Trigger key":{ru:"Клавиша действия","zh-CN":"触发键"},"Trigger keybinding that will run the Highlight Images function":{ru:"Привязка клавиши действия, которое будет запускать функцию подсветки изображений.","zh-CN":"用来运行“高亮图像”功能的触发键"},"Enable button":{ru:"Включить кнопку","zh-CN":"启用按钮"},"Enables the 'Highlight Images' button":{ru:"Включает кнопку 'Подсветить изображения'.","zh-CN":"启用“高亮图像”按钮"},"Automatically highlight images":{ru:"Автоподсвечивать изображения","zh-CN":"自动高亮图片"},"Automatically highlights images as you view pages":{ru:"Автоматически подсвечивает изображения при просмотре страниц.","zh-CN":"查看页面时自动突出图像"},Always:{ru:"Постоянно","zh-CN":"总是"},Hover:{ru:"Наведение","zh-CN":"悬停"},"When hovering over an image":{ru:"При наведении курсора на изображение.","zh-CN":"鼠标在图片上悬停时"},Never:{ru:"Никогда","zh-CN":"从不"},"Only explicitly supported images":{ru:"Только явно поддерживаемые изображения","zh-CN":"仅限明确支持的图像"},"Only highlights images that can be made larger or the original version can be found":{ru:"Подсвечивает только изображения, которые могут быть увеличены или можно найти их оригинальную версию.","zh-CN":"仅突出可以换成更大尺寸的图像"},"Highlight CSS":{ru:"CSS подсветка","zh-CN":"高亮 CSS"},"CSS style to apply for highlight. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)":{ru:"Стилизация CSS, для применения к подсветке. Дополнительные сведения смотрите в документации 'Стилизация CSS всплывающего окна' (здесь не поддерживаются переменные URL thumb/full).","zh-CN":"高亮时使用的 CSS 样式。更多信息详见“弹窗 CSS 样式”文档（此处不支持 thumb/full URL 变量）"},"Mouseover popup action":{en:"Popup action",es:"Acción del popup",ko:"이미지 팝업 작업",ru:"Действие всплывающего окна при наведение курсора","zh-CN":"移动时弹窗的动作"},"Determines how the mouseover popup will open":{ko:"마우스오버 팝업이 열리는 방식",ru:"Определяет, как откроётся всплывающее окно при наведении курсора мыши.","zh-CN":"决定鼠标悬停弹窗将打开"},Popup:{ko:"팝업",ru:"Всплывающее окно","zh-CN":"弹窗"},"New tab":{es:"Nueva pestaña",fr:"Nouvel onglet",ko:"새 탭",ru:"Новая вкладка","zh-CN":"新标签页"},"New background tab":{ru:"Новая фоновая вкладка","zh-CN":"新后台标签页"},Download:{ru:"Скачать","zh-CN":"下载"},"Copy link":{ru:"Копировать ссылку","zh-CN":"复制链接"},Replace:{ru:"Заменить","zh-CN":"替换"},"Enable videos":{ru:"Включить видео","zh-CN":"支持视频"},"Allows videos to be popped up":{ru:"Позволяет открывать всплывающеее окно для видео","zh-CN":"允许视频弹窗"},"Enable audio":{ru:"Включить аудио","zh-CN":"启用音频"},"Allows audio to be popped up. Currently experimental.\nThis only applies to audio files. Videos that contains audio are supported regardless of this setting.":{ru:"Позволяет открывать всплывающее окно для аудио. В настоящее время экспериментальный.\nЭто относится только к аудиофайлам. Видео, содержащие аудио, поддерживаются независимо от этой настройки.","zh-CN":"允许音频弹窗。目前处于实验阶段。\n这仅适用于音频文件。包含音频的视频无关此设置。"},"Allow HLS/DASH streams":{ru:"Разрешить потоки HLS/DASH","zh-CN":"允许 HLS/DASH 流"},"Allows playback of HLS/DASH streams":{ru:"Позволяет воспроизводить потоки HLS/DASH.","zh-CN":"允许播放 HLS/DASH 流"},Dailymotion:{ru:"Ежедневноедвижение","zh-CN":"Dailymotion"},"Instagram (higher quality)":{ru:"Instagram (качество выше)","zh-CN":"Instagram（更高质量）"},Reddit:{ru:"Reddit","zh-CN":"Reddit"},"YouTube (higher quality)":{ru:"YouTube (качество выше)","zh-CN":"YouTube（更高质量）"}},Fe=function(e){var t=[e],o=e.replace(/-.*/,"");return o!==e&&t.push(o),t};function li(e){for(var t=1;t<arguments.length;t++)t-1,0;if("string"!=typeof e)return e;var o=Fe(ui.language);if(e in $e){for(var r=!1,i=0;i<o.length;i++){var n=o[i];if(n in $e[e]){e=$e[e][n],r=!0;break}}!r&&"en"!==n&&"en"in $e[e]&&(e=$e[e].en)}if(Wr(e,"%")<0)return e;for(var a=[],s="",i=0;i<e.length;i++){if("%"==e[i]&&i+2<e.length&&"%"==e[i+1]){var l=Qr(e[i+2]);if(!isNaN(l)){a.push(s),s="",a.push(arguments[l]),i+=2;continue}}s+=e[i]}return a.push(s),a.join("")}var Oe,Ge=["mouseover_trigger","mouseover_use_fully_loaded_video","mouseover_use_fully_loaded_image","mouseover_close_on_leave_el","mouseover_scroll_behavior","mouseover_mask_styles","mouseover_video_seek_vertical_scroll","mouseover_video_seek_horizontal_scroll","mouseover_support_pointerevents_none","mouseover_enable_mask_styles","allow_video","allow_audio","replaceimgs_remove_size_constraints"],ui={imu_enabled:!0,language:He,check_updates:!0,check_update_interval:24,check_update_notify:!1,dark_mode:!1,settings_tabs:!0,settings_alphabetical_order:!1,settings_visible_description:!0,settings_show_disabled:!0,settings_show_disabled_profiles:!1,settings_show_requirements:!0,advanced_options:!1,allow_browser_request:!0,retry_503_times:3,retry_503_ms:2e3,use_blob_over_arraybuffer:!1,allow_live_settings_reload:!0,allow_remote:!0,disable_keybind_when_editing:!0,enable_gm_download:!0,gm_download_max:15,enable_webextension_download:!1,enable_console_logging:!0,write_to_clipboard:!1,redirect:!0,redirect_video:!0,redirect_audio:!1,redirect_history:!0,redirect_extension:!0,canhead_get:!0,redirect_force_page:!1,redirect_enable_infobox:!0,redirect_infobox_url:!1,redirect_infobox_timeout:7,print_imu_obj:!1,redirect_disable_for_responseheader:!1,redirect_to_no_infobox:!1,redirect_host_html:!1,mouseover:!0,mouseover_open_behavior:"popup",mouseover_trigger_behavior:"keyboard",mouseover_trigger_key:["shift","alt","i"],mouseover_trigger_key_t2:[],mouseover_trigger_key_t3:[],mouseover_trigger_delay:1,mouseover_trigger_mouseover:!1,mouseover_trigger_enabledisable_toggle:"disable",mouseover_trigger_prevent_key:["shift"],mouseover_close_behavior:"esc",mouseover_close_need_mouseout:!0,mouseover_jitter_threshold:30,mouseover_cancel_popup_when_elout:!0,mouseover_cancel_popup_with_esc:!0,mouseover_cancel_popup_when_release:!0,mouseover_auto_close_popup:!1,mouseover_auto_close_popup_time:5,mouseover_hold_key:["i"],mouseover_hold_position_center:!1,popup_hold_zoom:"none",mouseover_hold_close_unhold:!1,mouseover_hold_unclickthrough:!0,mouseover_close_el_policy:"both",mouseover_close_click_outside:!1,mouseover_allow_partial:Pr?"media":"video",mouseover_partial_avoid_head:!1,mouseover_use_blob_over_data:!1,popup_use_anonymous_crossorigin:!1,mouseover_enable_notallowed:!0,mouseover_enable_notallowed_cant_load:!0,mouseover_notallowed_duration:300,mouseover_minimum_size:20,popup_maximum_source_size:0,mouseover_exclude_backgroundimages:!1,mouseover_exclude_page_bg:!0,mouseover_exclude_imagemaps:!0,mouseover_only_links:!1,mouseover_linked_image:!1,mouseover_exclude_sameimage:!1,mouseover_exclude_imagetab:!0,mouseover_allow_video:!0,mouseover_allow_audio:!1,mouseover_allow_hlsdash:!0,enable_stream_download:!1,stream_mux_mp4_over_mkv:!1,hls_dash_use_max:!0,max_video_quality:null,mouseover_video_autoplay:!0,mouseover_video_controls:!1,mouseover_video_controls_key:["c"],mouseover_video_loop:!0,mouseover_video_autoloop_max:0,mouseover_video_playpause_key:["space"],mouseover_video_muted:!1,mouseover_video_mute_key:["m"],mouseover_video_volume:100,mouseover_video_volume_down_key:["9"],mouseover_video_volume_up_key:["0"],mouseover_video_volume_change_amt:5,mouseover_video_resume_from_source:!1,mouseover_video_resume_if_different:!1,mouseover_video_pause_source:!0,mouseover_video_seek_amount:10,mouseover_video_seek_left_key:["shift","left"],mouseover_video_seek_right_key:["shift","right"],mouseover_video_frame_prev_key:[","],mouseover_video_frame_next_key:["."],mouseover_video_framerate:25,mouseover_video_speed_down_key:["["],mouseover_video_speed_up_key:["]"],mouseover_video_speed_amount:.25,mouseover_video_reset_speed_key:["backspace"],mouseover_video_screenshot_key:["shift","s"],popup_video_screenshot_format:"png",mouseover_ui:!0,mouseover_ui_toggle_key:["u"],mouseover_ui_opacity:80,mouseover_ui_use_safe_glyphs:!1,mouseover_ui_imagesize:!0,mouseover_ui_zoomlevel:!0,mouseover_ui_filesize:!1,mouseover_ui_gallerycounter:!0,mouseover_ui_gallerymax:50,mouseover_ui_gallerybtns:!0,mouseover_ui_closebtn:!0,mouseover_ui_optionsbtn:!!_e,mouseover_ui_downloadbtn:!1,mouseover_ui_rotationbtns:!1,mouseover_ui_caption:!0,mouseover_ui_wrap_caption:!0,mouseover_ui_caption_link_page:!0,mouseover_ui_link_underline:!0,mouseover_use_remote:!1,mouseover_zoom_behavior:"fit",mouseover_zoom_custom_percent:100,mouseover_zoom_use_last:"gallery",mouseover_zoom_max_width:0,mouseover_zoom_max_height:0,mouseover_pan_behavior:"drag",mouseover_movement_inverted:!0,mouseover_drag_min:5,mouseover_scrolly_behavior:"zoom",mouseover_scrolly_hold_behavior:"default",mouseover_scrollx_behavior:"gallery",mouseover_scrollx_hold_behavior:"default",mouseover_scrolly_video_behavior:"default",mouseover_scrolly_video_invert:!1,mouseover_scrollx_video_behavior:"default",scroll_override_page:!1,scroll_zoom_origin:"cursor",scroll_zoomout_pagemiddle:"never",scroll_zoom_behavior:"fitfull",scroll_incremental_mult:1.25,mouseover_move_with_cursor:!1,mouseover_move_within_page:!0,zoom_out_to_close:!1,scroll_past_gallery_end_to_close:!1,mouseover_position:"cursor",mouseover_prevent_cursor_overlap:!0,mouseover_overflow_position_center:!1,mouseover_overflow_origin:"a11",mouseover_add_link:!0,mouseover_add_video_link:!1,mouseover_click_image_close:!1,mouseover_click_video_close:!1,mouseover_download:!1,mouseover_hide_cursor:!1,mouseover_hide_cursor_after:0,mouseover_mouse_inactivity_jitter:5,mouseover_clickthrough:!1,mouseover_mask_ignore_clicks:!1,mouseover_links:!0,mouseover_only_valid_links:!0,mouseover_allow_self_pagelink:!1,mouseover_allow_iframe_el:!1,mouseover_allow_canvas_el:!1,mouseover_allow_svg_el:!1,mouseover_enable_gallery:!0,mouseover_gallery_cycle:!1,mouseover_gallery_prev_key:["left"],mouseover_gallery_next_key:["right"],mouseover_gallery_move_after_video:!1,mouseover_gallery_download_key:["shift","d"],gallery_download_method:"zip",gallery_download_unchanged:!0,gallery_zip_filename_format:"{host_domain_nosub}-{items_amt}-{download_unix}\n{items_amt}-{download_unix}",gallery_jd_autostart:!1,gallery_jd_referer:"domain",gallery_zip_add_tld:!0,gallery_zip_add_info_file:!0,mouseover_styles:"",mouseover_enable_fade:!0,mouseover_enable_zoom_effect:!1,mouseover_zoom_effect_move:!1,mouseover_fade_time:100,mouseover_enable_mask_styles2:"never",mouseover_mask_styles2:"background-color: rgba(0, 0, 0, 0.5)",mouseover_mask_fade_time:100,mouseover_ui_styles:"",mouseover_wait_use_el:!1,mouseover_add_to_history:!1,mouseover_close_key:["esc"],mouseover_download_key:[["s"],["ctrl","s"]],mouseover_open_new_tab_key:["o"],mouseover_open_bg_tab_key:["shift","o"],mouseover_copy_link_key:["shift","c"],mouseover_open_options_key:["p"],mouseover_open_orig_page_key:["n"],mouseover_rotate_left_key:["e"],mouseover_rotate_right_key:["r"],mouseover_flip_horizontal_key:["h"],mouseover_flip_vertical_key:["v"],mouseover_zoom_in_key:[["+"],["="],["shift","="]],mouseover_zoom_out_key:[["-"]],mouseover_zoom_full_key:["1"],mouseover_zoom_fit_key:["2"],mouseover_fullscreen_key:["f"],mouseover_apply_blacklist:!0,apply_blacklist_host:!1,mouseover_matching_media_types:!1,mouseover_allow_popup_when_fullscreen:!1,mouseover_find_els_mode:"hybrid",popup_allow_cache:!0,popup_cache_duration:30,popup_cache_itemlimit:20,popup_cache_resume_video:!0,website_inject_imu:!0,website_image:!0,extension_contextmenu:!0,extension_hotreload:!0,allow_watermark:!1,allow_smaller:!1,allow_possibly_different:!1,allow_possibly_broken:!1,allow_possibly_upscaled:!1,allow_thirdparty:!1,allow_apicalls:!0,allow_thirdparty_libs:!_e,custom_xhr_for_lib:!!Pr,use_webarchive_for_lib:!1,lib_integrity_check:!0,allow_thirdparty_code:!1,allow_bruteforce:!1,process_format:{},browser_cookies:!0,deviantart_prefer_size:!1,deviantart_support_download:!0,ehentai_full_image:!0,imgur_filename:!1,imgur_source:!1,instagram_use_app_api:!1,instagram_dont_use_web:!1,instagram_prefer_video_quality:!0,instagram_gallery_postlink:!1,snapchat_orig_media:!0,teddit_redirect_reddit:!0,tiktok_no_watermarks:!1,tiktok_thirdparty:null,tumblr_api_key:k("IHhyTXBMTThuMWVDZUwzb1JZU1pHN0NMQUx3NkVIaFlEZFU2V3E1ZUQxUGJNa2xkN1kx").substr(1),twitter_use_ext:!1,bigimage_blacklist:"",bigimage_blacklist_engine:"glob",filename_format:"{author_username} {filename}",filename_replace_special_underscores:!0,replaceimgs_enable_keybinding:!1,replaceimgs_keybinding:["shift","alt","r"],replaceimgs_auto:!1,replaceimgs_replaceimgs:!0,replaceimgs_addlinks:!1,replaceimgs_replacelinks:!1,replaceimgs_plainlinks:"none",replaceimgs_links_newtab:!1,replaceimgs_size_constraints:"none",replaceimgs_usedata:!!_e,replaceimgs_wait_fullyloaded:!0,replaceimgs_totallimit:8,replaceimgs_domainlimit:2,replaceimgs_delay:0,replaceimgs_css:"",replaceimgs_simple_progress:!0,highlightimgs_enable_keybinding:!1,highlightimgs_keybinding:["shift","alt","h"],highlightimgs_enable:!1,highlightimgs_auto:"never",highlightimgs_onlysupported:!0,highlightimgs_css:"outline: 4px solid yellow",last_update_check:0,last_update_version:null,last_update_url:null},Be=["tumblr_api_key"],We={},tn=2,ci={imu_enabled:{name:"Enable extension",description:"Globally enables or disables the extension",category:"general",extension_only:!0,imu_enabled_exempt:!0},language:{name:"Language",description:"Language for this extension",category:"general",options:{_type:"combo",en:{name:"English",name_gettext:!1},es:{name:"Español",name_gettext:!1},fr:{name:"Français",name_gettext:!1},it:{name:"Italiano",name_gettext:!1},ko:{name:"한국어",name_gettext:!1},ru:{name:"Русский",name_gettext:!1},"zh-CN":{name:"简体中文",name_gettext:!1}},onedit:function(){_n(tr)},imu_enabled_exempt:!0},dark_mode:{name:"Dark mode",description:"Changes the colors to have light text on a dark background",category:"general",onedit:Jo,onupdate:Jo,imu_enabled_exempt:!0},settings_visible_description:{name:"Description below options",description:"Shows the description below the options (otherwise the description is only shown when you hover over the option's name)",category:"general",subcategory:"settings",onedit:function(){_n(tr)},imu_enabled_exempt:!0},settings_show_disabled:{name:"Show disabled options",description:"If disabled, options that are disabled due to their requirements being unmet will not be displayed",category:"general",subcategory:"settings",onedit:function(){_n(tr)},imu_enabled_exempt:!0},settings_show_disabled_profiles:{name:"Show disabled trigger profiles",description:"If disabled, options for alternate trigger profiles (options with `(#2)` after them) will not be shown if the relevant trigger isn't active",category:"general",subcategory:"settings",requires:{settings_show_disabled:!0},onedit:function(){_n(tr)},imu_enabled_exempt:!0},settings_show_requirements:{name:"Requirements below disabled options",description:"If an option is disabled, the requirements to enable the option will be displayed below it",category:"general",subcategory:"settings",onedit:function(){_n(tr)},requires:{settings_show_disabled:!0},imu_enabled_exempt:!0},check_updates:{name:"Check for updates",description:"Periodically checks for updates. If a new update is available, it will be shown at the top of the options page",category:"general",subcategory:"update"},check_update_interval:{name:"Update check interval",description:"How often to check for updates",category:"general",subcategory:"update",requires:{check_updates:!0},type:"number",number_min:1,number_int:!0,number_unit:"hours"},check_update_notify:{name:"Notify when update is available",description:"Creates a browser notification when an update is available",category:"general",subcategory:"update",requires:{check_updates:!0},required_permission:"notifications"},advanced_options:{name:"Show advanced settings",description:"If disabled, settings that might be harder to understand will be hidden",category:"general",subcategory:"settings",onedit:function(){_n(tr)},imu_enabled_exempt:!0},settings_tabs:{name:"Use tabs",description:"If disabled, all settings will be shown on a single page",category:"general",subcategory:"settings",onedit:function(){_n(tr)},imu_enabled_exempt:!0},settings_alphabetical_order:{name:"Alphabetical order",description:"Lists options in alphabetical order",category:"general",subcategory:"settings",onedit:function(){_n(tr)},imu_enabled_exempt:!0},allow_browser_request:{name:"Allow using browser XHR",description:"This allows XHR requests to be run in the browser's context if they fail in the extension (e.g. when Tracking Protection is set to High)",category:"general",imu_enabled_exempt:!0,advanced:!0},retry_503_times:{name:"Retry requests with 503 errors",description:"Amount of times to retry a request when 503 (service unavailable) is returned by the server",category:"general",type:"number",number_min:0,number_int:!0,number_unit:"times",imu_enabled_exempt:!0,advanced:!0},retry_503_ms:{name:"Delay between 503 retries",description:"Time (in milliseconds) to delay between retrying requests that received 503",category:"general",type:"number",number_min:0,number_int:!0,number_unit:"ms",imu_enabled_exempt:!0,advanced:!0},use_blob_over_arraybuffer:{name:"Use `Blob` over `ArrayBuffer`",description:"Uses `Blob`s for XHRs instead of `ArrayBuffer`s. Keep this enabled unless your userscript manager doesn't support blob requests",category:"general",imu_enabled_exempt:!0,advanced:!0,hidden:!0},allow_live_settings_reload:{name:"Live settings reloading",description:"Enables/disables live settings reloading. There shouldn't be a reason to disable this unless you're experiencing issues with this feature",category:"general",hidden:_e&&"undefined"==typeof GM_addValueChangeListener,imu_enabled_exempt:!0,advanced:!0},disable_keybind_when_editing:{name:"Disable keybindings when editing text",description:"Disables shortcuts when key events are sent to an input area on the page",category:"keybinds",imu_enabled_exempt:!0,advanced:!0},enable_gm_download:{name:"Use `GM_download` if available",description:"Prefers using `GM_download` over simple browser-based downloads, if the function is available. Some userscript managers download the entire file before displaying a save dialog, which can be undesirable for large video files",category:"general",userscript_only:!0,imu_enabled_exempt:!0,advanced:!0},gm_download_max:{name:"Maximum size to `GM_download`",description:"If a file is larger than this size, use a simple browser-based download instead. Set to `0` for unlimited.",category:"general",userscript_only:!0,imu_enabled_exempt:!0,requires:{enable_gm_download:!0},type:"number",number_min:0,number_unit:"MB",advanced:!0},enable_webextension_download:{name:"Force save dialog when downloading",description:"Tries to ensure the 'save as' dialog displays when downloading. This requires the 'downloads' permission to work, and will sometimes not work when custom headers are required.",category:"general",extension_only:!0,imu_enabled_exempt:!0,required_permission:"downloads"},enable_console_logging:{name:"Enable logging to console",description:"Allows the script to log messages to the browser console.",category:"general",imu_enabled_exempt:!0,advanced:!0},write_to_clipboard:{name:"Enable writing to clipboard",description:"This option does nothing on its own, but enabling it allows other functionality that require writing to the clipboard to work",category:"general",imu_enabled_exempt:!0,required_permission:"clipboardWrite"},redirect:{name:"Enable redirection",description:"Automatically redirect media opened in their own tab to their larger/original versions",category:"redirection"},redirect_video:{name:"Allow video",description:"Allows redirecting from/to video",requires:{redirect:!0},category:"redirection"},redirect_audio:{name:"Allow audio",description:"Allows redirecting from/to audio",requires:{redirect:!0},category:"redirection"},redirect_history:{name:"Add to history",description:"Redirection will add a new entry to the browser's history",requires:{redirect:!0},category:"redirection"},redirect_extension:{name:"Do redirection in extension",description:"Performs the redirection in the extension instead of the content script. This is significantly faster and shouldn't cause issues in theory, but this option is kept in case of regressions",requires:{redirect:!0},extension_only:!0,advanced:!0,category:"redirection"},canhead_get:{name:"Use GET if HEAD is unsupported",description:"Use a GET request to check an image's availability, if the server does not support HEAD requests",requires:{redirect:!0},category:"redirection",advanced:!0},redirect_force_page:{name:"Try finding extra information",description:"Enables methods that use API calls for finding extra information, such as the original page, caption, or album information. Note that this option does not affect finding the original media.",example_websites:["Flickr","SmugMug","..."],category:"rules"},redirect_enable_infobox:{name:"Enable tooltip",description:"Enables the 'Mouseover popup is needed to display the original version' tooltip",category:"redirection",requires:{redirect:!0},userscript_only:!0},redirect_infobox_url:{name:"Show image URL in tooltip",description:"If the popup is needed to display the larger version of an image, display the image link in the tooltip",category:"redirection",requires:{redirect:!0},userscript_only:!0},redirect_infobox_timeout:{name:"Hide tooltip after",description:"Hides the tooltip after the specified number of seconds (or when the mouse clicks on it). Set to 0 to never hide automatically",requires:{redirect:!0},type:"number",number_min:0,number_unit:"seconds",category:"redirection",userscript_only:!0},print_imu_obj:{name:"Log info object to console",description:"Prints the full info object to the console whenever a popup/redirect is found",category:"rules",requires:{enable_console_logging:!0},advanced:!0},redirect_disable_for_responseheader:{name:"Disable when response headers need modifying",description:"This option works around Chrome's migration to manifest v3, redirecting some images to being force-downloaded",extension_only:!0,hidden:!0,category:"redirection",advanced:!0},redirect_to_no_infobox:{name:"Redirect to largest without issues",description:"Redirects to the largest image found that doesn't require custom headers or forces download",userscript_only:!0,category:"redirection"},redirect_host_html:{name:"Redirect for HTML pages too",description:"Tries redirection even if the host page is HTML. This option might be useful for dead links. However, this will also result in many normal pages being redirected to images/video, so please avoid enabling this by default!",warning:{true:"This will result in many pages being redirected to images/videos.\nI'd recommend only enabling this for the media you need it for, then disabling it after."},category:"redirection",advanced:!0},mouseover:{name:"Enable mouseover popup",description:"Show a popup with the larger image when you mouseover an image with the trigger key held (if applicable)",category:"popup"},mouseover_open_behavior:{name:"Mouseover popup action",description:"Determines how the mouseover popup will open",profiled:!0,hidden:_e&&xe===ni.nullfunc,options:{_type:"combo",popup:{name:"Popup"},newtab:{name:"New tab"},newtab_bg:{name:"New background tab"},download:{name:"Download"},copylink:{name:"Copy link"},replace:{name:"Replace"}},requires:{mouseover:!0},category:"popup",subcategory:"open_behavior"},mouseover_trigger:{name:"Popup trigger",description:"Trigger key that, when held, will show the popup",options:{_type:"and",_group1:{_type:"and",ctrl:{name:"Ctrl"},shift:{name:"Shift"},alt:{name:"Alt"}},_group2:{_type:"or",delay_1:{name:"Delay 1s"},delay_3:{name:"Delay 3s"}}},requires:{mouseover:!0},category:"popup",subcategory:"trigger"},mouseover_trigger_behavior:{name:"Mouseover popup trigger",description:"How the popup will get triggered",options:{_group1:{mouse:{name:"Mouseover",description:"Triggers when your mouse is over the image"}},_group2:{keyboard:{name:"Key trigger",description:"Triggers when you press a key sequence when your mouse is over an image"}},_group3:{none:{name:"None",description:"Disables the popup from being triggered (useful if you only want to use the context menu item)",extension_only:!0}}},requires:{mouseover:!0},category:"popup",subcategory:"trigger"},mouseover_trigger_key:{name:"Popup trigger key",description:"Key sequence to trigger the popup",type:"keysequence",requires:{mouseover:!0,mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"trigger"},mouseover_trigger_key_t2:{name:"Popup trigger key (#2)",description:"Key sequence to trigger the popup with alternate options. Search for `(#2)` to find the relevant options",type:"keysequence",keyseq_allow_none:!0,requires:{mouseover:!0,mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"trigger"},mouseover_trigger_key_t3:{name:"Popup trigger key (#3)",description:"Key sequence to trigger the popup with alternate options. Search for `(#3)` to find the relevant options",type:"keysequence",keyseq_allow_none:!0,requires:{mouseover:!0,mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"trigger"},mouseover_trigger_delay:{name:"Popup trigger delay",description:"Delay (in seconds) before the popup shows",requires:{mouseover:!0,mouseover_trigger_behavior:"mouse"},type:"number",number_min:0,number_unit:"seconds",category:"popup",subcategory:"trigger"},mouseover_trigger_mouseover:{name:"Use mouseover event",description:"Uses the mouseover event instead of mousemove to figure out where to trigger the popup. This more closely matches the way other image popup addons work, at the cost of configurability",requires:{mouseover_trigger_behavior:"mouse"},advanced:!0,category:"popup",subcategory:"trigger"},mouseover_trigger_enabledisable_toggle:{name:"Enable/disable toggle",description:"Controls whether the 'Popup enable/disable key' will enable or disable the popup from opening",options:{enable:{name:"Enable"},disable:{name:"Disable"}},requires:{mouseover_trigger_behavior:"mouse"},category:"popup",subcategory:"trigger"},mouseover_trigger_prevent_key:{name:"Popup enable/disable key",description:"Holding down this key will enable or disable the popup from being opened, depending on the 'Enable/disable toggle' setting",requires:{mouseover:!0,mouseover_trigger_behavior:"mouse"},type:"keysequence",category:"popup",subcategory:"trigger"},mouseover_allow_partial:{name:"Allow showing partially loaded",description:"This will allow the popup to open for partially loaded media.\nPartially loaded media will contain the source URL directly (where possible), whereas fully loaded media will use a blob or data URL.",description_userscript:"This will allow the popup to open for partially loaded media, but this might break images that require custom headers to display properly.\nPartially loaded media will contain the source URL directly (where possible), whereas fully loaded media will use a blob or data URL.",requires:"action:popup",options:{_type:"or",video:{name:"Streams",description:"Audio and video"},media:{name:"Media",description:"Images, audio, and video"},none:{name:"None"}},category:"popup",subcategory:"open_behavior"},mouseover_partial_avoid_head:{name:"Avoid HEAD request for partially loaded media",description:"Avoids a possibly unnecessary HEAD request before displaying partially loaded images, which further decreases the delay before opening the popup. This can cause issues if the server returns an error, but still returns an image",requires:[{mouseover_allow_partial:"video"},{mouseover_allow_partial:"media"}],category:"popup",subcategory:"open_behavior",advanced:!0},mouseover_use_blob_over_data:{name:"Use `blob:` over `data:` URLs",description:"Blob URLs are more efficient, but aren't supported by earlier browsers. Some websites also block `blob:` URLs",requires:"action:popup",category:"popup",subcategory:"open_behavior",advanced:!0},popup_use_anonymous_crossorigin:{name:"Load media anonymously",description:"Loads the media without sending any cookies or other forms of credentials. This is required to screenshot videos from other sources",requires:"action:popup",category:"popup",subcategory:"open_behavior",advanced:!0},mouseover_use_fully_loaded_image:{name:"Wait until image is fully loaded",description:"Wait until the image has fully loaded before displaying it",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_use_fully_loaded_video:{name:"Wait until video is fully loaded",description:"Wait until the video has fully loaded before displaying it (this may significantly increase memory usage with larger videos)",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_enable_notallowed:{name:"Use `not-allowed` cursor when unsupported",description:"If the image isn't supported, the mouse cursor will change to a `not-allowed` cursor for a brief duration",requires:{mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"open_behavior"},mouseover_enable_notallowed_cant_load:{name:"Use `not-allowed` cursor when unable to load",description:"If the image fails to load, the mouse cursor will change to a `not-allowed` cursor for a brief duration",category:"popup",subcategory:"open_behavior"},mouseover_notallowed_duration:{name:"`not-allowed` cursor duration",description:"How long the `not-allowed` cursor should last",requires:[{mouseover_enable_notallowed:!0},{mouseover_enable_notallowed_cant_load:!0}],type:"number",number_min:0,number_int:!0,number_unit:"ms",advanced:!0,category:"popup",subcategory:"open_behavior"},mouseover_exclude_page_bg:{name:"Exclude page background",description:"Excludes the page background for the popup",requires:{mouseover:!0,mouseover_exclude_backgroundimages:!1},category:"popup",subcategory:"source"},mouseover_minimum_size:{name:"Minimum size",description:"Smallest size acceptable for the popup to open (this option is ignored for background images). This refers to the size of the media to be popped up, which may differ from the source media.",requires:{mouseover:!0},type:"number",number_min:0,number_unit:"pixels",category:"popup",subcategory:"source"},popup_maximum_source_size:{name:"Maximum source size",description:"Maximum size (width/height) for the source media to allow popping up (this option is ignored for background images). Set to `0` for any size.",requires:{mouseover:!0},type:"number",number_min:0,number_unit:"pixels",category:"popup",subcategory:"source"},mouseover_exclude_backgroundimages:{name:"Exclude `background-image`s",description:"Excludes `background-image`s for the popup. Might prevent the popup from working on many images",requires:{mouseover:!0},disabled_if:{mouseover_trigger_mouseover:!0},category:"popup",subcategory:"source"},mouseover_exclude_imagetab:{name:"Exclude image tabs",description:"Excludes images that are opened in their own tabs",requires:{mouseover:!0,mouseover_trigger_behavior:"mouse"},category:"popup",subcategory:"source"},mouseover_exclude_sameimage:{name:"Exclude if media URL is unchanged",description:"Don't pop up if the new URL is the same as the source",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_only_links:{name:"Only popup for linked media",description:"Don't pop up if the media isn't hyperlinked",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_linked_image:{name:"Popup link for linked media",description:"If the linked media cannot be made larger, pop up for the link instead of the media",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_exclude_imagemaps:{name:"Exclude image maps",description:"Don't pop up if the image is an image map (image with multiple clickable areas)",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_video_autoplay:{name:"Autoplay",description:"Play automatically once the popup is opened",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_controls:{name:"Show video controls",description:"Shows native video controls. Note that this prevents dragging under Firefox",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_controls_key:{name:"Toggle video controls",description:"Key to toggle whether the video controls are shown",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_loop:{name:"Loop",description:"Allows the media to automatically restart to the beginning after finishing playing",requires:{_condition:"action:popup",mouseover_allow_video:!0},disabled_if:{mouseover_gallery_move_after_video:!0},category:"popup",subcategory:"video"},mouseover_video_autoloop_max:{name:"Max duration for looping",description:"Media longer than the specified duration will not be automatically looped. Setting this to `0` will always enable looping, regardless of duration.",requires:{mouseover_video_loop:!0},type:"number",number_min:0,number_unit:"seconds",category:"popup",subcategory:"video"},mouseover_video_playpause_key:{name:"Play/pause key",description:"Key to toggle whether the media is playing or paused",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_muted:{name:"Mute",description:"Mutes the media by default",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_mute_key:{name:"Toggle mute key",description:"Key to toggle mute",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_volume:{name:"Default volume",description:"Default volume for the media",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_max:100,number_int:!0,number_unit:"%",category:"popup",subcategory:"video"},mouseover_video_volume_up_key:{name:"Volume up key",description:"Key to increase the volume",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_volume_down_key:{name:"Volume down key",description:"Key to decrease the volume",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_volume_change_amt:{name:"Volume change amount",description:"Percent for volume to increase/decrease when using the volume up/down keys",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_max:100,number_int:!0,number_unit:"%",category:"popup",subcategory:"video"},mouseover_video_resume_from_source:{name:"Resume playback from source",description:"If enabled, playback will resume from where the source left off",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_resume_if_different:{name:"Resume if different length",description:"If disabled, it will not resume if the source has a different length from the media in the popup (e.g. from a preview video to a full one)",requires:{mouseover_video_resume_from_source:!0},category:"popup",subcategory:"video"},mouseover_video_pause_source:{name:"Pause source",description:"Pauses the source once the popup has opened",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_seek_amount:{name:"Seek amount",description:"Amount of time to seek forward/back when using the seek keys",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_unit:"seconds",category:"popup",subcategory:"video"},mouseover_video_seek_left_key:{name:"Seek left key",description:"Key to seek backwards by the specified amount",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_seek_right_key:{name:"Seek right key",description:"Key to seek forwards by the specified amount",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_seek_vertical_scroll:{name:"Vertical scroll seeks",description:"Scrolling vertically will seek forward/backward",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_seek_horizontal_scroll:{name:"Horizontal scroll seeks",description:"Scrolling horizontally will seek forward/backward",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"video"},mouseover_video_frame_prev_key:{name:"Previous frame key",description:'Rewinds the video one "frame" backward. Due to current limitations, the frame size is static (but configurable), and might not match the video\'s framerate',requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_frame_next_key:{name:"Next frame key",description:'Advances the video one "frame" forward. Due to current limitations, the frame size is static (but configurable), and might not match the video\'s framerate',requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_framerate:{name:"Frame rate",description:"Frame rate for videos to seek forward/back with the next/previous frame keys",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_unit:"FPS",category:"popup",subcategory:"video"},mouseover_video_speed_down_key:{name:"Speed down key",description:"Key to decrease playback rate by a specified amount",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_speed_up_key:{name:"Speed up key",description:"Key to increase playback rate by a specified amount",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_speed_amount:{name:"Speed up/down amount",description:"How much to increase/decrease the playback rate",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"number",number_min:0,number_unit:"x",category:"popup",subcategory:"video"},mouseover_video_reset_speed_key:{name:"Reset speed key",description:"Resets the playback rate to normal speed",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},mouseover_video_screenshot_key:{name:"Screenshot key",description:"Screenshots the current frame in the video",requires:{_condition:"action:popup",mouseover_allow_video:!0},type:"keysequence",category:"keybinds",subcategory:"video"},popup_video_screenshot_format:{name:"Screenshot format",description:"File format to save the screenshot in",requires:{_condition:"action:popup",mouseover_allow_video:!0},options:{_type:"or",png:{name:"PNG"},jpg:{name:"JPG"}},category:"popup",subcategory:"video"},mouseover_ui:{name:"Popup UI",description:"Enables a UI on top of the popup",requires:"action:popup",category:"popup",subcategory:"ui"},mouseover_ui_toggle_key:{name:"UI Toggle key",description:"Toggles the display of the UI",type:"keysequence",requires:"action:popup",category:"keybinds",subcategory:"popup"},mouseover_ui_opacity:{name:"Opacity",description:"Opacity of the UI on top of the popup",requires:{mouseover_ui:!0},type:"number",number_unit:"%",number_max:100,number_min:0,number_int:!0,category:"popup",subcategory:"ui"},mouseover_ui_use_safe_glyphs:{name:"Use safe glyphs",description:"Uses glyphs that are more likely to be available on all fonts. Enable this option if the following characters render as boxes: 🡇 🡐 🡒. The 'Noto Sans Symbols2' font contains these characters.",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_imagesize:{name:"Media resolution",description:"Displays the original media dimensions on top of the UI.\nCSS ID: `#sizeinfo`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_zoomlevel:{name:"Zoom percent",description:"Displays the current zoom level on top of the UI.\nCSS ID: `#sizeinfo`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_filesize:{name:"File size",description:"Displays the media's file size on top of the UI. For the moment, this will not work with partially loaded media if 'Avoid HEAD request for partially loaded media' is enabled.\nCSS ID: `#sizeinfo`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_gallerycounter:{name:"Gallery counter",description:"Enables a gallery counter on top of the UI.\nCSS ID: `#gallerycounter`",requires:{mouseover_ui:!0,mouseover_enable_gallery:!0},category:"popup",subcategory:"ui"},mouseover_ui_gallerymax:{name:"Gallery counter max",description:"Maximum amount of images to check in the counter (this can be slightly CPU-intensive)",requires:{mouseover_ui_gallerycounter:!0,mouseover_enable_gallery:!0},type:"number",number_min:0,number_unit:"images",category:"popup",subcategory:"ui"},mouseover_ui_gallerybtns:{name:"Gallery buttons",description:"Enables buttons to go left/right in the gallery.\nCSS IDs: `#galleryprevbtn`, `#gallerynextbtn`",requires:{mouseover_ui:!0,mouseover_enable_gallery:!0},category:"popup",subcategory:"ui"},mouseover_ui_closebtn:{name:"Close Button",description:"Enables a button to close the popup.\nCSS ID: `#closebtn`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_optionsbtn:{name:"Options Button",description:"Enables a button to go to this page.\nCSS ID: `#optionsbtn`",requires:{mouseover_ui:!0},userscript_only:!0,category:"popup",subcategory:"ui"},mouseover_ui_downloadbtn:{name:"Download Button",description:"Enables a button to download the image.\nCSS ID: `#downloadbtn`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_rotationbtns:{name:"Rotation Buttons",description:"Enables buttons on the UI to rotate the image by 90 degrees.\nCSS IDs: `#rotleftbtn`, `#rotrightbtn`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_caption:{name:"Caption",description:"Shows the image's caption (if available) at the top.\nCSS ID: `#caption`",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_ui_wrap_caption:{name:"Wrap caption text",description:"Wraps the caption if it's too long",requires:{mouseover_ui_caption:!0},category:"popup",subcategory:"ui"},mouseover_ui_caption_link_page:{name:"Link original page in caption",description:"Links the original page (if it exists) in the caption",requires:{mouseover_ui_caption:!0},category:"popup",subcategory:"ui"},mouseover_ui_link_underline:{name:"Underline links",description:"Adds an underline to links (such as the original page)",requires:{mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_close_behavior:{name:"Keep popup open until",description:"Closes the popup when the selected condition is met",options:{_type:"or",_group1:{any:{name:"Any trigger is released"}},_group2:{all:{name:"All triggers are released"}},_group3:{esc:{name:"ESC/Close is pressed"}}},requires:{_condition:"action:popup",mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"close_behavior"},mouseover_close_need_mouseout:{name:"Don't close until mouse leaves",description:"If true, this keeps the popup open even if all triggers are released if the mouse is still over the image",requires:[{mouseover_close_behavior:"any"},{mouseover_close_behavior:"all"}],category:"popup",subcategory:"close_behavior"},mouseover_jitter_threshold:{name:"Threshold to leave image",description:"How many pixels outside of the image before the cursor is considered to have left the image",requires:[{_condition:"action:popup",mouseover_close_need_mouseout:!0},{_condition:"action:popup",mouseover_trigger_behavior:"mouse"}],type:"number",number_unit:"pixels",category:"popup",subcategory:"close_behavior"},mouseover_cancel_popup_when_elout:{name:"Leaving thumbnail cancels loading",description:"Cancels the current popup loading when the cursor has left the thumbnail image",requires:{mouseover:!0,mouseover_trigger_behavior:"mouse"},category:"popup",subcategory:"close_behavior"},mouseover_cancel_popup_with_esc:{name:"ESC cancels loading",description:"Cancels the current popup loading if ESC is pressed",requires:{mouseover:!0},category:"popup",subcategory:"close_behavior"},mouseover_cancel_popup_when_release:{name:"Releasing triggers cancels loading",description:'Cancels the current popup loading if all/any triggers are released (as set by the "Keep popup open until" setting)',requires:[{mouseover_close_behavior:"any"},{mouseover_close_behavior:"all"}],category:"popup",subcategory:"close_behavior"},mouseover_auto_close_popup:{name:"Automatically close after timeout",description:"Closes the popup automatically after a specified period of time has elapsed",requires:"action:popup",category:"popup",subcategory:"close_behavior"},mouseover_auto_close_popup_time:{name:"Timeout to close popup",description:"Amount of time to elapse before automatically closing the popup",requires:{mouseover_auto_close_popup:!0},type:"number",number_min:0,number_unit:"seconds",category:"popup",subcategory:"close_behavior"},mouseover_use_hold_key:{name:"Use hold key",description:"Enables the use of a hold key that, when pressed, will keep the popup open",requires:[{_condition:"action:popup",mouseover_trigger_behavior:"mouse"},{_condition:"action:popup",mouseover_auto_close_popup:!0},{_condition:"action:popup",mouseover_close_need_mouseout:!0}],category:"popup",subcategory:"close_behavior"},mouseover_hold_key:{name:"Hold key",description:"Hold key that, when pressed, will keep the popup open",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_hold_position_center:{name:"Center popup on hold",description:"Centers the popup to the middle of the page when the popup is held",requires:"action:popup",category:"popup",subcategory:"close_behavior"},popup_hold_zoom:{name:"Override zoom on hold",description:"Overrides the zoom when the popup is held",options:{_type:"combo",none:{name:"None"},fit:{name:"Fit to screen"},fill:{name:"Fill screen"},full:{name:"Full size"}},requires:"action:popup",category:"popup",subcategory:"close_behavior"},mouseover_hold_close_unhold:{name:"Close popup on unhold",description:"Closes the popup when the hold key is pressed again, after having previously held the popup",requires:"action:popup",category:"popup",subcategory:"close_behavior"},mouseover_hold_unclickthrough:{name:"Enable pointer events on hold",description:"Enables previously disabled pointer events when the popup is held",requires:{_condition:"action:popup",mouseover_clickthrough:!0},category:"popup",subcategory:"close_behavior"},mouseover_close_on_leave_el:{name:"Close when leaving thumbnail",description:"Closes the popup when the mouse leaves the thumbnail element (won't close if the mouse instead moves to the popup)",requires:{_condition:"action:popup",mouseover_trigger_behavior:"mouse",mouseover_position:"beside_cursor"},category:"popup",subcategory:"close_behavior"},mouseover_close_click_outside:{name:"Clicking outside the popup closes",description:"Closes the popup when the mouse clicks outside of it",requires:"action:popup",category:"popup",subcategory:"close_behavior"},mouseover_close_el_policy:{name:"Close when leaving",description:"Closes the popup when the mouse leaves the thumbnail element, the popup, or both",requires:[{_condition:"action:popup",mouseover_trigger_behavior:"mouse"},{_condition:"action:popup",mouseover_trigger_behavior:"keyboard",mouseover_close_need_mouseout:!0}],options:{_type:"combo",thumbnail:{name:"Thumbnail"},popup:{name:"Popup"},both:{name:"Both"}},category:"popup",subcategory:"close_behavior"},mouseover_wait_use_el:{name:"Use invisible element when waiting",description:"Creates an invisible element under the cursor when waiting for the popup instead of a style element (can improve performance on websites with many elements, but prevents the cursor from clicking anything while loading the popup)",requires:{mouseover:!0},category:"popup",subcategory:"popup_other",advanced:!0},mouseover_add_to_history:{name:"Add popup link to history",description:"Adds the image/video link opened through the popup to the browser's history",requires:{mouseover:!0},category:"popup",subcategory:"popup_other",required_permission:"history",extension_only:!0},allow_remote:{name:"Allow inter-frame communication",description:"Allows communication between frames in windows, improving support for keybindings",description_userscript:"Allows communication between frames in windows, improving support for keybindings. Can pose a fingerprinting risk when used through the userscript",requires:{mouseover:!0},category:"general",advanced:!_e},mouseover_use_remote:{name:"Pop out of frames",description:"Opens the popup on the top frame instead of within iframes. This option is still experimental.",requires:{_condition:"action:popup",allow_remote:!0},category:"popup",subcategory:"open_behavior"},mouseover_zoom_behavior:{name:"Popup default zoom",description:"How the popup should be initially sized",options:{_type:"combo",fit:{name:"Fit to screen"},fill:{name:"Fill screen"},full:{name:"Full size"},custom:{name:"Custom size"}},requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_zoom_custom_percent:{name:"Custom zoom percent",description:"Custom percent to initially size the popup",type:"number",number_min:0,number_unit:"%",requires:{mouseover_zoom_behavior:"custom"},category:"popup",subcategory:"open_behavior"},mouseover_zoom_use_last:{name:"Use last zoom",description:"Use the last popup's zoom. Note that this is per-page.",options:{_type:"combo",always:{name:"Always"},gallery:{name:"Gallery"},never:{name:"Never"}},requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_zoom_max_width:{name:"Maximum width",description:"Maximum width for the initial popup size. Set to `0` for unlimited.",type:"number",number_min:0,number_unit:"px",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_zoom_max_height:{name:"Maximum height",description:"Maximum height for the initial popup size. Set to `0` for unlimited.",type:"number",number_min:0,number_unit:"px",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_pan_behavior:{name:"Popup panning method",description:"How the popup should be panned when larger than the screen",options:{_type:"or",movement:{name:"Movement",description:"The popup pans as you move your mouse"},drag:{name:"Drag",description:"Clicking and dragging pans the popup"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_movement_inverted:{name:"Invert movement",description:"Inverts the movement of the mouse. For example, if the mouse moves left, the popup moves right. If disabled, it feels more like the popup is being invisibly dragged.",requires:{mouseover_pan_behavior:"movement"},advanced:!0,category:"popup",subcategory:"behavior"},mouseover_drag_min:{name:"Minimum drag amount",description:"How many pixels the mouse should move to start a drag",type:"number",number_min:0,number_int:!0,number_unit:"pixels",requires:{mouseover_pan_behavior:"drag"},category:"popup",subcategory:"behavior"},mouseover_scrolly_behavior:{name:"Vertical scroll action",description:"How the popup reacts to a vertical scroll/mouse wheel event",options:{_type:"combo",zoom:{name:"Zoom"},pan:{name:"Pan"},gallery:{name:"Gallery",requires:[{mouseover_enable_gallery:!0}]},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrolly_hold_behavior:{name:"Vertical scroll action (hold)",description:"How the popup (when held) reacts to a vertical scroll/mouse wheel event",options:{_type:"combo",default:{name:"Default"},zoom:{name:"Zoom"},pan:{name:"Pan"},gallery:{name:"Gallery",requires:[{mouseover_enable_gallery:!0}]},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrollx_behavior:{name:"Horizontal scroll action",description:"How the popup reacts to a horizontal scroll/mouse wheel event",options:{_type:"combo",pan:{name:"Pan"},gallery:{name:"Gallery",requires:[{mouseover_enable_gallery:!0}]},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrollx_hold_behavior:{name:"Horizontal scroll action (hold)",description:"How the popup (when held) reacts to a horizontal scroll/mouse wheel event",options:{_type:"combo",default:{name:"Default"},pan:{name:"Pan"},gallery:{name:"Gallery",requires:[{mouseover_enable_gallery:!0}]},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrolly_video_behavior:{name:"Vertical video scroll action",description:"Overrides the vertical scroll action for videos. Set to `Default` to avoid overriding the behavior.",options:{_type:"combo",default:{name:"Default"},seek:{name:"Seek"},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_scrolly_video_invert:{name:"Invert vertical scroll seek",description:"Inverts the seek direction when scrolling vertically: Scrolling up will seek right, scrolling down will seek left.",requires:{mouseover_scrolly_video_behavior:"seek"},category:"popup",subcategory:"behavior"},mouseover_scrollx_video_behavior:{name:"Horizontal video scroll action",description:"Overrides the horizontal scroll action for videos. Set to `Default` to avoid overriding the behavior.",options:{_type:"combo",default:{name:"Default"},seek:{name:"Seek"},nothing:{name:"None"}},requires:"action:popup",category:"popup",subcategory:"behavior"},scroll_override_page:{name:"Override scroll outside of popup",description:"Scrolling outside of the popup will also be overriden by the script",requires:"action:popup",category:"popup",subcategory:"behavior"},scroll_zoom_origin:{name:"Zoom origin",description:"The point on the image it's zoomed in/out from",options:{_type:"or",cursor:{name:"Cursor"},center:{name:"Center"}},requires:[{mouseover_scrollx_behavior:"zoom"},{mouseover_scrollx_hold_behavior:"zoom"},{mouseover_scrolly_behavior:"zoom"},{mouseover_scrolly_hold_behavior:"zoom"}],category:"popup",subcategory:"behavior"},scroll_zoomout_pagemiddle:{name:"Zoom out towards page middle",description:'Sets the origin when zooming out to the page middle, overriding the "Zoom Origin" option above.',options:{_type:"combo",always:{name:"Always"},viewport:{name:"Within viewport"},never:{name:"Never"}},requires:[{mouseover_scrollx_behavior:"zoom"},{mouseover_scrollx_hold_behavior:"zoom"},{mouseover_scrolly_behavior:"zoom"},{mouseover_scrolly_hold_behavior:"zoom"}],category:"popup",subcategory:"behavior"},scroll_zoom_behavior:{name:"Zoom behavior",description:"How zooming should work",options:{_type:"or",fitfull:{name:"Fit/Full",description:"Toggles between the full size, and fit-to-screen"},incremental:{name:"Incremental"}},requires:[{mouseover_scrollx_behavior:"zoom"},{mouseover_scrollx_hold_behavior:"zoom"},{mouseover_scrolly_behavior:"zoom"},{mouseover_scrolly_hold_behavior:"zoom"}],category:"popup",subcategory:"behavior"},scroll_incremental_mult:{name:"Incremental zoom multiplier",description:"How much to zoom in/out by (for incremental zooming)",type:"number",number_min:1,number_unit:"x",category:"popup",subcategory:"behavior"},mouseover_move_with_cursor:{name:"Move with cursor",description:"Moves the popup as the cursor moves",requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_move_within_page:{name:"Move within page",description:"Ensures the popup doesn't leave the page",requires:{mouseover_move_with_cursor:!0},category:"popup",subcategory:"behavior"},zoom_out_to_close:{name:"Zoom out fully to close",description:"Closes the popup if you zoom out past the minimum zoom",requires:[{mouseover_scrollx_behavior:"zoom"},{mouseover_scrollx_hold_behavior:"zoom"},{mouseover_scrolly_behavior:"zoom"},{mouseover_scrolly_hold_behavior:"zoom"}],category:"popup",subcategory:"close_behavior"},scroll_past_gallery_end_to_close:{name:"Scroll past gallery end to close",description:"Closes the popup if you scroll past the end of the gallery",requires:[{mouseover_scrollx_behavior:"gallery"},{mouseover_scrollx_hold_behavior:"gallery"},{mouseover_scrolly_behavior:"gallery"},{mouseover_scrolly_hold_behavior:"gallery"}],category:"popup",subcategory:"close_behavior"},mouseover_position:{name:"Popup position",description:"Where the popup will appear",options:{_type:"or",_group1:{cursor:{name:"Cursor middle",description:"Underneath the mouse cursor"}},_group2:{beside_cursor:{name:"Beside cursor"}},_group3:{center:{name:"Page middle"}}},requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_prevent_cursor_overlap:{name:"Prevent cursor overlap",description:"Prevents the image from overlapping with the cursor",requires:{mouseover_position:"beside_cursor"},hidden:!0,category:"popup",subcategory:"open_behavior"},mouseover_overflow_position_center:{name:"Center popup on overflow",description:"Centers the popup if its initial size overflows",requires:"action:popup",category:"popup",subcategory:"open_behavior"},mouseover_overflow_origin:{name:"Overflow origin",description:"Where the popup will appear in the page if its initial size overflows",requires:[{mouseover_position:"center"},{mouseover_overflow_position_center:!0},{mouseover_hold_position_center:!0}],options:{_type:"or",_group1:{a00:{name:""},a10:{name:""},a20:{name:""}},_group2:{a01:{name:""},a11:{name:""},a21:{name:""}},_group3:{a02:{name:""},a12:{name:""},a22:{name:""}}},category:"popup",subcategory:"open_behavior"},mouseover_hide_cursor:{name:"Hide cursor over popup",description:"Hides the cursor when the mouse is over the popup",requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_hide_cursor_after:{name:"Hide cursor after",description:"Hides the cursor over the popup after a specified period of time (in milliseconds), 0 always hides the cursor",requires:{mouseover_hide_cursor:!0},type:"number",number_unit:"ms",number_int:!0,number_min:0,category:"popup",subcategory:"behavior"},mouseover_mouse_inactivity_jitter:{name:"Mouse jitter threshold",description:"Threshold for mouse movement before the mouse cursor is shown again, 0 always shows the cursor after any movement",requires:{mouseover_hide_cursor:!0},type:"number",number_unit:"px",number_int:!0,number_min:0,category:"popup",subcategory:"behavior"},mouseover_clickthrough:{name:"Disable pointer events",description:"Enabling this option will allow you to click on links underneath the popup",requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_mask_ignore_clicks:{name:"Ignore clicks outside popup",description:"Any mouse event outside the popup will be discarded with this option",requires:"action:popup",category:"popup",subcategory:"behavior"},enable_stream_download:{name:"Enable downloading HLS/DASH streams",description:"Downloads and muxes the contents of the streams rather than the stream information file.\nThis currently does not work under Firefox.",requires:{_condition:"action:popup",mouseover_allow_hlsdash:!0},hidden:!yi,category:"popup",subcategory:"video"},stream_mux_mp4_over_mkv:{name:"Prefer MP4 over MKV",description:"Tries to mux the video into mp4 instead of mkv when required. This may slightly slow down muxing as it currently needs to try muxing both.",requires:{enable_stream_download:!0},hidden:!yi,category:"popup",subcategory:"video"},mouseover_add_link:{name:"Link image",description:"Adds a link to the image in the popup",requires:"action:popup",category:"popup",subcategory:"behavior"},mouseover_add_video_link:{name:"Link video",description:"Adds a link to the video in the popup",requires:{_condition:"action:popup",mouseover_allow_video:!0},category:"popup",subcategory:"behavior"},mouseover_click_image_close:{name:"Clicking image closes",description:"Clicking the popup image closes the popup",requires:"action:popup",disabled_if:[{mouseover_add_link:!0},{mouseover_clickthrough:!0}],category:"popup",subcategory:"behavior"},mouseover_click_video_close:{name:"Clicking video closes",description:"Clicking the popup video closes the popup",requires:"action:popup",disabled_if:[{mouseover_add_video_link:!0},{mouseover_clickthrough:!0}],category:"popup",subcategory:"behavior"},mouseover_download:{name:"Clicking link downloads",description:"Instead of opening the link in a new tab, it will download the image/video instead",requires:[{_condition:"action:popup",mouseover_add_link:!0},{_condition:"action:popup",mouseover_add_video_link:!0}],category:"popup",subcategory:"behavior"},mouseover_close_key:{name:"Close key",description:"Closes the popup when this key is pressed. Currently, ESC will also close the popup regardless of the value of this setting.",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_download_key:{name:"Download key",description:"Downloads the image in the popup when this key is pressed",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_open_new_tab_key:{name:"Open in new tab key",description:"Opens the image in the popup in a new tab when this key is pressed",hidden:_e&&xe===ni.nullfunc,requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_open_bg_tab_key:{name:"Open in background tab key",description:"Opens the image in the popup in a new tab without switching to it when this key is pressed",hidden:_e&&xe===ni.nullfunc,requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_copy_link_key:{name:"Copy link key",description:"Copies the link of the media to the clipboard when this key is pressed",requires:{_condition:"action:popup",write_to_clipboard:!0},type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_open_options_key:{name:"Open options key",description:"Opens this page in a new tab when this key is pressed",hidden:_e&&xe===ni.nullfunc,requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_open_orig_page_key:{name:"Open original page key",description:"Opens the original page (if available) when this key is pressed",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_rotate_left_key:{name:"Rotate left key",description:"Rotates the popup 90 degrees to the left",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_rotate_right_key:{name:"Rotate right key",description:"Rotates the popup 90 degrees to the right",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_flip_horizontal_key:{name:"Horizontal flip key",description:"Flips the image horizontally",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_flip_vertical_key:{name:"Vertical flip key",description:"Flips the image vertically",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_zoom_in_key:{name:"Zoom in key",description:"Incrementally zooms into the image",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_zoom_out_key:{name:"Zoom out key",description:"Incrementally zooms out of the image",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_zoom_full_key:{name:"Full zoom key",description:"Sets the image to be at a 100% zoom, even if it overflows the screen",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_zoom_fit_key:{name:"Fit screen key",description:"Sets the image to either be at a 100% zoom, or to fit the screen, whichever is smaller",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_fullscreen_key:{name:"Toggle fullscreen key",description:"Toggles fullscreen mode for the image/video in the popup",requires:"action:popup",type:"keysequence",category:"keybinds",subcategory:"popup"},mouseover_links:{name:"Popup for plain hyperlinks",description:"Whether or not the popup should also open for plain hyperlinks",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_only_valid_links:{name:"Only for links that look valid",description:"Enabling this option will only allow links to be popped up if they look valid (such as if they have a known image/video extension, or are explicitly supported)",requires:{mouseover_links:!0},category:"popup",subcategory:"source"},mouseover_allow_video:{name:"Enable videos",description:"Allows videos to be popped up",profiled:!0,category:"popup",subcategory:"video"},mouseover_allow_audio:{name:"Enable audio",description:"Allows audio to be popped up. Currently experimental.\nThis only applies to audio files. Videos that contains audio are supported regardless of this setting.",profiled:!0,category:"popup",subcategory:"video"},mouseover_allow_hlsdash:{name:"Allow HLS/DASH streams",description:"Allows playback of HLS/DASH streams",example_websites:["Dailymotion","Instagram (higher quality)","Reddit","YouTube (higher quality)"],requires:[{mouseover_allow_audio:!0,allow_thirdparty_libs:!0},{mouseover_allow_video:!0,allow_thirdparty_libs:!0}],profiled:!0,category:"popup",subcategory:"video"},mouseover_allow_self_pagelink:{name:"Popup page URL",description:"If no element can be found, try the page URL. Only relevant for pagelink rules, such as image and video hosting websites",requires:{mouseover:!0,mouseover_trigger_behavior:"keyboard"},category:"popup",subcategory:"source"},mouseover_allow_iframe_el:{name:"Popup for `<iframe>`",description:"Allows `<iframe>` elements to be popped up as well. Storing images/videos in this way is rather uncommon, but it can allow embeds to be supported",requires:{mouseover_links:!0},category:"popup",subcategory:"source"},mouseover_allow_canvas_el:{name:"Popup for `<canvas>`",description:"Allows `<canvas>` elements to be popped up as well. This will likely cause popups with any kind of web-based games, so it's recommended to keep this disabled",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_allow_svg_el:{name:"Popup for `<svg>`",description:"Allows `<svg>` elements to be popped up as well. These are usually used for icons, and can occasionally cause problems for websites that overlay icons on top of images",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_enable_gallery:{name:"Enable gallery",description:"Toggles whether gallery detection support should be enabled",requires:"action:popup",category:"popup",subcategory:"gallery"},mouseover_gallery_cycle:{name:"Cycle gallery",description:"Going to the previous image for the first image will lead to the last image and vice-versa",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},category:"popup",subcategory:"gallery"},mouseover_gallery_prev_key:{name:"Previous gallery item",description:"Key to trigger the previous gallery item",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},type:"keysequence",category:"keybinds",subcategory:"gallery"},mouseover_gallery_next_key:{name:"Next gallery item",description:"Key to trigger the next gallery item",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},type:"keysequence",category:"keybinds",subcategory:"gallery"},mouseover_gallery_download_key:{name:"Gallery download key",description:"Key to download the current gallery",requires:{_condition:"action:popup",mouseover_enable_gallery:!0,allow_thirdparty_libs:!0},type:"keysequence",category:"keybinds",subcategory:"gallery"},gallery_download_method:{name:"Download method",description:"How the gallery should be downloaded",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},options:{_type:"combo",zip:{name:"Zip file"},jdownloader:{name:"JDownloader"}},category:"popup",subcategory:"gallery"},gallery_download_unchanged:{name:"Download unchanged media",description:"Includes gallery items that have not been changed. Useful to potentially avoid downloading thumbnails",requires:{_condition:"action:popup",mouseover_enable_gallery:!0},category:"popup",subcategory:"gallery"},gallery_zip_filename_format:{name:"Directory/zip filename format",description:["Format string(s) for the directory (package name for JDownloader) and zip filename (if applicable).",'Refer to "Filename format" under the Rules section for documentation. The variables are set from the first loaded media.',"An additional `items_amt` format variable is supported, which contains the number of items.","`.zip` will be automatically suffixed for zip filenames."].join("\n"),requires:{_condition:"action:popup",mouseover_enable_gallery:!0},type:"textarea",category:"popup",subcategory:"gallery"},gallery_zip_add_tld:{name:"Zip: Store in subdirectory",description:"Stores the files in a subdirectory with the same name as the .zip file (without the .zip extension)",requires:{_condition:"action:popup",mouseover_enable_gallery:!0,gallery_download_method:"zip"},category:"popup",subcategory:"gallery"},gallery_jd_autostart:{name:"JD: Autostart",description:"Autostarts the download when added to JDownloader",requires:{gallery_download_method:"jdownloader"},category:"popup",subcategory:"gallery"},gallery_jd_referer:{name:"JD: Referer policy",description:"Due to a current limitation in JDownloader's API, the `Referer` (sic) header can only be set on a per-package basis. This option allows working around it by submitting multiple packages with the same name using different Referer headers. This can result in JD spamming notifications due to the number of packages created.",requires:{gallery_download_method:"jdownloader"},options:{_type:"combo",never:{name:"Never"},domain:{name:"Per-domain"},always:{name:"Always"}},category:"popup",subcategory:"gallery"},gallery_zip_add_info_file:{name:"Zip: Store info file",description:"Stores a `info.txt` file in the .zip containing information about the downloaded files and host page.",requires:{_condition:"action:popup",mouseover_enable_gallery:!0,gallery_download_method:"zip"},category:"popup",subcategory:"gallery"},mouseover_gallery_move_after_video:{name:"Move to next when video finishes",description:"Moves to the next gallery item when a video finishes playing",requires:{_condition:"action:popup",mouseover_allow_video:!0,mouseover_enable_gallery:!0},category:"popup",subcategory:"gallery"},mouseover_styles:{name:"Popup CSS style",description:"Custom CSS styles for the popup",documentation:{title:"Documentation",value:["Most valid CSS is supported, with these differences:","<ul><li>Multiline comments (<code>/* ... */</code>) are currently not supported</li>","<li>Single comments (<code>// ...</code>) are supported, but only at the beginning of a line</li>","<li><code>%thumburl%</code> is the URL of the thumbnail image. For example, you could use it like this: <code>background-image: url(%thumburl%)</code><br />","The URL is properly encoded, so quotes are not necessary (but not harmful either)</li>","<li><code>%fullurl%</code> is the URL of the full image. If IMU fails to find a larger image, it will be the same as <code>%thumburl%</code></li>","<li>Styles are <code>!important</code> by default</li></ul>","<p>For Button CSS style, you can also customize the CSS for individual buttons through their IDs. For example:</p>","<pre>","#closebtn {","  background-color: red;","  // -imu-text allows you to set the text inside the button",'  -imu-text: "Close";',"  // -imu-title allows you to set the tooltip when hovering",'  -imu-title: "Close the popup";',"}","#galleryprevbtn, #gallerynextbtn {","  border-radius: 100px;","}","</pre>"].join("\n")},type:"textarea",requires:"action:popup",category:"popup",subcategory:"popup_other"},mouseover_enable_fade:{name:"Enable popup fade",description:"Enables a fade in/out effect when the popup is opened/closed",requires:"action:popup",category:"popup",subcategory:"popup_other"},mouseover_enable_zoom_effect:{name:"Enable zoom effect",description:"Toggles whether the popup should 'zoom' when opened/closed",requires:"action:popup",category:"popup",subcategory:"popup_other"},mouseover_zoom_effect_move:{name:"Move from thumbnail when zooming",description:"Moves the popup from the thumbnail to the final location while zooming. The animation can be a little rough",requires:{mouseover_enable_zoom_effect:!0},category:"popup",subcategory:"popup_other"},mouseover_fade_time:{name:"Popup animation time",description:"Fade/zoom animation duration (in milliseconds) for the popup",requires:[{mouseover_enable_fade:!0},{mouseover_enable_zoom_effect:!0}],type:"number",number_min:0,number_unit:"ms",category:"popup",subcategory:"popup_other"},mouseover_enable_mask_styles2:{name:"Enable background CSS",description:"Toggles whether CSS styles for the background when the popup is active is enabled",requires:"action:popup",options:{always:{name:"Always"},hold:{name:"On hold"},never:{name:"No"}},category:"popup",subcategory:"popup_other"},mouseover_mask_styles2:{name:"Background CSS style",description:"CSS style for the background when the popup is active. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)",requires:[{mouseover_enable_mask_styles2:"always"},{mouseover_enable_mask_styles2:"hold"}],type:"textarea",category:"popup",subcategory:"popup_other"},mouseover_mask_fade_time:{name:"Background fade",description:"Fade in/out time (in milliseconds) for the page background, set to 0 to disable",requires:[{mouseover_enable_mask_styles2:"always"},{mouseover_enable_mask_styles2:"hold"}],type:"number",number_min:0,number_unit:"ms",category:"popup",subcategory:"popup_other"},mouseover_ui_styles:{name:"Button CSS style",description:"Custom CSS styles for the popup's UI buttons. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)",type:"textarea",requires:{_condition:"action:popup",mouseover_ui:!0},category:"popup",subcategory:"ui"},mouseover_apply_blacklist:{name:"Don't popup blacklisted URLs",description:"This option popping up for source media with blacklisted URLs. If this is disabled, the popup will open if the end URL isn't blacklisted, regardless of whether the source is blacklisted.",requires:{mouseover:!0},category:"popup",subcategory:"source"},apply_blacklist_host:{name:"Apply blacklist for host websites",description:"This option prevents the script from opening any popups to host websites that are in the blacklist. For example, adding `twitter.com` to the blacklist would prevent any popup from opening on twitter.com. If disabled, this option only applies to image URLs (such as twimg.com), not host URLs",category:"popup",subcategory:"source"},mouseover_matching_media_types:{name:"Don't popup different media type",description:"This option prevents the popup from loading a video when the source was an image or vice-versa",requires:{mouseover:!0,mouseover_allow_video:!0},category:"popup",subcategory:"source"},mouseover_allow_popup_when_fullscreen:{name:"Allow popup when fullscreen",description:"Allows the popup to open if an element (such as a video player) is fullscreen.",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_support_pointerevents_none:{name:"Support `pointer-events:none`",description:"Manually looks through every element on the page to see if the cursor is beneath them. Supports more images, but also results in a higher CPU load for websites such as Facebook.",requires:{mouseover:!0},category:"popup",subcategory:"source"},mouseover_find_els_mode:{name:"Element finding mode",description:"How IMU should find the media element on the page.",requires:{mouseover:!0},options:{full:{name:"Full",description:"Manually looks through every element on the page to see if the cursor is above them. This will result in a higher CPU load for websites such as Facebook, and may return the wrong element"},hybrid:{name:"Hybrid",description:"Looks manually through every child element of the last element found by `getElementsAtPoint`. Use this option if in doubt, it'll work on most sites"},simple:{name:"Simple",description:"This is the fastest option, which uses the value of `getElementsAtPoint` without modification. Works for sites that don't use pointer-events:none and shadow DOM"}},warning:{full:"This will result in a much higher CPU load for websites such as Facebook, and will occasionally return the wrong element.\nUse this option with caution."},category:"popup",subcategory:"source"},popup_allow_cache:{name:"Use cache",description:"Allows use of a media cache for the popup. The cache is currently stored per-page and is not persistent across page reloads.",requires:"action:popup",category:"popup",subcategory:"cache"},popup_cache_duration:{name:"Cache duration",description:"How long for media to remain cached. Set to `0` for unlimited.",requires:{popup_allow_cache:!0},type:"number",number_min:0,number_unit:"minutes",category:"popup",subcategory:"cache"},popup_cache_itemlimit:{name:"Cache item limit",description:"Maximum number of individual media to remain cached. Set to `0` for unlimited.",requires:{popup_allow_cache:!0},type:"number",number_min:0,number_unit:"items",category:"popup",subcategory:"cache"},popup_cache_resume_video:{name:"Resume videos",description:"If a video popup was closed then reopened, the video will resume from where it left off",requires:{popup_allow_cache:!0},category:"popup",subcategory:"cache"},website_inject_imu:{name:"Use userscript",description:"Replaces the website's IMU instance with the userscript",userscript_only:!0,category:"website"},website_image:{name:"Website image preview",description:"Enables a preview of the image on the Image Max URL website",userscript_only:!0,requires:{website_inject_imu:!0},category:"website"},extension_contextmenu:{name:"IMU entry in context menu",description:"Enables a custom entry for this extension in the right click/context menu",extension_only:!0,category:"general",subcategory:"extension",imu_enabled_exempt:!0},extension_hotreload:{name:"Hot (re)load",description:"(Re)loads the extension on all existing pages when installing or updating",extension_only:!0,category:"general",subcategory:"extension",imu_enabled_exempt:!0},custom_xhr_for_lib:{name:"Custom XHR for libraries",description:"Allows the use of more powerful XHR (network requests) for 3rd-party libraries. This allows for certain DASH streams to work.",description_userscript:"Allows the use of more powerful XHR  (network requests) for 3rd-party libraries. This allows for certain DASH streams to work. Using this with the userscript version currently poses a potential security risk.",category:"general",subcategory:"libraries",example_websites:["Kakao","YouTube","Instagram (downloading)"],requires:{allow_thirdparty_libs:!0},needrefresh:!0},use_webarchive_for_lib:{name:"Use Web Archive for libraries",description:"Uses archive.org's web archive instead of github for libraries and other script internals (such as the options page).\nDon't enable this unless you need to.",userscript_only:!0,category:"general",subcategory:"libraries"},lib_integrity_check:{name:"Enable integrity checks",description:"Runs integrity checks before loading 3rd-party libraries",userscript_only:!0,category:"general",subcategory:"libraries"},hls_dash_use_max:{name:"HLS/DASH maximum quality",description:"Uses the maximum quality for HLS/DASH streams",requires:{mouseover_allow_hlsdash:!0},category:"popup",subcategory:"video"},max_video_quality:{name:"Maximum video quality",description:"Maximum quality for videos",requires:{mouseover_allow_hlsdash:!0},options:{_type:"combo",unlimited:{name:"(unlimited)",is_null:!0},h2160:{name:"4K"},h1440:{name:"1440p"},h1080:{name:"1080p"},h720:{name:"720p"},h480:{name:"480p"}},category:"popup",subcategory:"video"},allow_watermark:{name:"Larger watermarked images",description:"Enables rules that return larger images that include watermarks",category:"rules",example_websites:["Stock photo websites"],onupdate:e},allow_smaller:{name:"Smaller non-watermarked images",description:"Enables rules that return smaller images without watermarks",category:"rules",onupdate:e},allow_possibly_different:{name:"Possibly different images",description:"Enables rules that return images that possibly differ, usually due to server-side caching",category:"rules",onupdate:e},allow_possibly_broken:{name:"Possibly broken images",description:"Enables rules that return images that are possibly broken",category:"rules",hidden:!0,onupdate:e},allow_possibly_upscaled:{name:"Possibly upscaled images",description:"Enables rules that return images that are possibly upscaled",category:"rules",onupdate:e},allow_thirdparty:{name:"Rules using 3rd-party websites",description:"Enables rules that use 3rd-party websites",category:"rules",example_websites:["Newsen"],onupdate:e},allow_apicalls:{name:"Rules using API calls",description:"Enables rules that use API calls. Strongly recommended to keep this enabled",category:"rules",example_websites:["Instagram","Flickr","..."],onupdate:e},allow_thirdparty_libs:{name:"Allow 3rd-party libraries",description:"Enables using 3rd-party libraries. This is both used in rules and as a prerequisite for certain functionality.",description_userscript:"Enables using 3rd-party libraries. This is both used in rules and as a prerequisite for certain functionality.\nThere is a possible (but unlikely) security risk for the userscript version.",category:"general",subcategory:"libraries",example_websites:["Sites using testcookie (slowAES)"],onupdate:function(){e(),bt.clear()}},allow_thirdparty_code:{name:"Rules executing 3rd-party code",description:"Enables rules that execute arbitrary 3rd-party code stored on websites.",warning:{true:"This could lead to security risks, please be careful when using this option!"},category:"rules",onupdate:function(){e(),bt.clear()},hidden:!0},allow_bruteforce:{name:"Rules using brute-force",description:"Enables rules that require using brute force (through binary search) to find the original image",warning:{true:"This could lead to rate limiting or IP bans"},category:"rules",example_websites:["Deezer"],onupdate:e},browser_cookies:{name:"Use browser cookies",description:"Uses the browser's cookies for API calls in order to access otherwise private data",category:"rules",example_websites:["Private Flickr images"],extension_only:!0,hidden:!0,onupdate:e},deviantart_prefer_size:{name:"DeviantART: Prefer size over original",description:"Prefers a larger (but not upscaled) thumbnail image over a smaller original animated image",category:"rules",subcategory:"rule_specific",onupdate:e},deviantart_support_download:{name:"DeviantART: Use download links",description:"Prefers using the download link (if available) by default. Note that this only works if you're logged in to DeviantART",category:"rules",subcategory:"rule_specific",onupdate:e},ehentai_full_image:{name:"E-Hentai: Use full image",description:"Prefers using full/original images if available (logged in). This is more likely to get you rate limited",category:"rules",subcategory:"rule_specific",onupdate:e},imgur_filename:{name:"Imgur: Use original filename",description:"If the original filename (the one used to upload the image) is found, use it instead of the image ID",category:"rules",subcategory:"rule_specific",onupdate:e},imgur_source:{name:"Imgur: Use source image",description:"If a source image is found for Imgur, try using it instead. Only works for old-style Imgur webpages (set `postpagebeta=0; postpagebetalogged=0` as cookies)",category:"rules",subcategory:"rule_specific",onupdate:e},instagram_use_app_api:{name:"Instagram: Use native API",description:"Uses Instagram's native API if possible, requires you to be logged into Instagram. This usually allows for higher resolution images (1440x*) to be returned.",category:"rules",subcategory:"rule_specific",warning:{},onupdate:e},instagram_dont_use_web:{name:"Instagram: Don't use web API",description:"Avoids using Instagram's web API if possible, which increases performance, but will occasionally sacrifice quality for videos",requires:[{instagram_use_app_api:!0}],category:"rules",subcategory:"rule_specific",onupdate:e},instagram_prefer_video_quality:{name:"Instagram: Prefer quality over resolution",description:"Prefers lower resolution videos that use a higher bitrate over higher resolution images. This adds a slight performance cost as it needs to fetch headers for multiple videos",category:"rules",subcategory:"rule_specific",onupdate:e},instagram_gallery_postlink:{name:"Instagram: Use albums for post thumbnails",description:"Queries Instagram for albums when using the popup on a post thumbnail",category:"rules",subcategory:"rule_specific"},snapchat_orig_media:{name:"Snapchat: Use original media without captions",description:"Prefers using original media instead of media with captions and tags overlayed",category:"rules",subcategory:"rule_specific"},teddit_redirect_reddit:{name:"Teddit: Use Reddit for media",description:"Redirects media stored on Teddit to Reddit's servers. Disabling this may prevent finding original images because Teddit's image servers will only cache images fetched from posts, which are deleted after a few minutes.",category:"rules",subcategory:"rule_specific",onupdate:e},tiktok_no_watermarks:{name:"TikTok: Don't use watermarked videos",description:"Uses non-watermarked videos for TikTok if possible. This will introduce an extra delay when loading the video as two extra requests need to be performed. It will also fail for any videos uploaded after ~late July 2020",category:"rules",subcategory:"rule_specific",onupdate:e},tiktok_thirdparty:{name:"TikTok: 3rd-party watermark removal",description:"Uses a 3rd-party watermark removal site for TikTok.\nI do not endorse any of the sites supported. They may log your IP address and videos you submit. Use this option with caution.\n`LQ` = Low quality, `PL` = Public log",requires:[{allow_thirdparty:!0}],options:{_type:"combo",_randomize:!0,null:{name:"(none)",is_null:!0},"ttloader.com:ttt":{name:"ttloader.com"},"onlinetik.com:ttt":{name:"onlinetik.com"},"tikdowns.com:ttt":{name:"tikdowns.com"},"ssstiktok.net:ttt":{name:"ssstiktok.net"},"keeptiktok.com":{name:"keeptiktok.com (LQ)"},"ssstiktok.io:1":{name:"ssstiktok.io (LQ)"},"musicallydown.com:1":{name:"musicallydown.com (LQ/PL)"},"snaptik.app":{name:"snaptik.app (LQ)"},"tikmate.online":{name:"tikmate.online (LQ)"}},category:"rules",subcategory:"rule_specific",onupdate:e},tumblr_api_key:{name:"Tumblr: API key",description:"API key for finding larger images on Tumblr",category:"rules",subcategory:"rule_specific",type:"lineedit",onupdate:e},twitter_use_ext:{name:"Twitter: Use extension",description:"Prefers `.jpg?name=orig` over `?format=jpg&name=orig`. This will possibly incur extra requests before succeeding. Note that there is no difference in image quality.",category:"rules",subcategory:"rule_specific",onupdate:e},bigimage_blacklist:{name:"Blacklist",description:"A list of URLs (one per line) that are blacklisted from being processed",category:"rules",type:"textarea",onupdate:function(){e(),no()},onedit:function(){var e,t=no();try{(e=document.querySelector("#option_bigimage_blacklist .error")).innerText=""}catch(e){}if(t)for(var o=0;o<t.length;o++)e&&(e.innerText+=t[o].message+"\n"),console.error(t[o])},documentation:{title:"Documentation",value:["The examples below are written for the simple (glob) engine, not the regex engine. The glob engine is generally based on the UNIX glob syntax.<br />","<ul><br />","<li><code>google.com</code> will block https://google.com/, https://www.google.com/, https://abcdef.google.com/, https://def.abc.google.com/, etc.</li>","<li><code>abc.google.com</code> will block https://abc.google.com/, https://def.abc.google.com/, etc.</li>","<li><code>*.google.com</code> will block https://www.google.com/, https://def.abc.google.com/, etc. but not https://google.com/</li>","<li><code>google.*/</code> will block https://google.com/, https://www.google.co.uk, etc.</li>","<li><code>http://google.com</code> will block http://google.com/, but not https://google.com/, http://www.google.com/, etc.</li>","<li><code>google.com/test</code> will block https://google.com/test, https://www.google.com/test/abcdef, but not https://google.com/, etc.</li>","<li><code>google.com/*/test</code> will block https://google.com/abc/test, but not https://google.com/test or https://google.com/abc/def/test</li>","<li><code>google.com/**/test</code> will block https://google.com/abc/test, https://google.com/abc/def/test, https://google.com/abc/def/ghi/test, etc. but not https://google.com/test</li>","<li><code>g??gle.com</code> will block https://google.com/, https://gaagle.com/, https://goagle.com/, etc.</li>","<li><code>google.{com,co.uk}</code> will block https://google.com/ and https://google.co.uk/</li>","<li><code>g[oau]ogle.com</code> will block https://google.com/, https://gaogle.com/, and http://www.guogle.com/</li>","<li><code>g[0-9]ogle.com</code> will block https://g0ogle.com/, https://g1ogle.com/, etc. (up to https://g9ogle.com/)</li>","</ul>"].join("\n")}},bigimage_blacklist_engine:{name:"Blacklist engine",description:"How the blacklist should be processed",category:"rules",options:{glob:{name:"Simple (glob)"},regex:{name:"Regex"}}},filename_format:{name:"Filename format",description:"Format string(s) for the filename",type:"textarea",category:"rules",documentation:{title:"Documentation",value:["<p>Variables are specified between curly brackets (<code>{}</code>).</p>","<p>Below is a list of valid variables:</p>","<ul><br />","<li><code>filename</code> - Original filename (with extension, if applicable)</li>","<li><code>filename_noext</code> - Original filename (without extension, if applicable)</li>","<li><code>ext</code> - Extension (with <code>.</code> prefixed)</li>","<li><code>caption</code> - Popup caption</li>","<li><code>author_username</code> - Author's username</li>","<li><code>id</code> - Post ID</li>","<li><code>host_title</code> - Title of the current tab/window</li>","<li><code>host_url</code> - URL of the host webpage</li>","<li><code>host_domain</code> - Domain of the host webpage</li>","<li><code>host_domain_nosub</code> - Domain (without subdomains) of the host webpage</li>","<li><code>url</code> - URL of the media</li>","<li><code>domain</code> - Domain of the media</li>","<li><code>domain_nosub</code> - Domain (without subdomains) of the media</li>","<li><code>is_screenshot</code> - Blank, the line will only be processed when screenshotting a video</li>","<li><code>prefix</code>, <code>suffix</code> - Blank by default, these variables will be automatically prefixed/suffixed to the filename if set using <code>:=</code></li>","<li><code>created_...</code> - Created date (see note on Date objects below)</li>","<li><code>updated_...</code> - Updated date, this will use the <code>Last-Modified</code> header if not otherwise specified by the rule (see note on Date objects below)</li>","<li><code>download_...</code> - Download date (see note on Date objects below)</li>","<li><code>date_...</code> - Created/updated date (see note on Date objects below)</li>","</ul><br />","<p>You can truncate the value of a variable by adding <code>:(number)</code> before the end bracket (<code>}</code>). For example:</p>","<ul><br />","<li><code>{caption:10}</code> - Truncates the caption to be at most 10 characters long</li>","<li><code>{caption:10.}</code> - Same, but will add an ellipsis (…) if the caption was truncated</li>","</ul><br />","<p>If a variable doesn't exist, by default it will ignore the current format string and use the one on the next line, unless <code>?</code> is added before the end bracket. For example:</p>","<ul><br />","<li><code>{ext?}</code> - Will be replaced with nothing if <code>ext</code> doesn't exist</li>","<li><code>{caption?no caption}</code> - Will be replaced with <code>no caption</code> if <code>caption</code> doesn't exist</li>","</ul><br />","<p>You can check for equality and inequality with <code>==</code> and <code>!=</code> operators respectively. For example:</p>","<ul><br />","<li><code>{domain_nosub==cdninstagram.com}{author_username} {id}</code> - Will only run the current format (<code>{author_username} {id}</code> in this case) if the domain is cdninstagram.com</li>","</ul><br />","<p>You can check if a variable contains a string with <code>/=</code> (<code>!/=</code> for the opposite). It also supports two flags, <code>r</code> (regex) and <code>c</code> (case-sensitive), if added between <code>/</code> and <code>=</code>. For example:</p>","<ul><br />","<li><code>{domain/=instagram}{id}</code> - Will only run the current format (<code>{id}</code>) if the domain contains <code>instagram</code></li>","<li><code>{domain!/=instagram}{id}</code> - Likewise, but only if the domain does not contain <code>instagram</code></li>","<li><code>{domain/r=inst.*ram}{id}</code> - Likewise, but only if the domain matches the regex <code>inst.*ram</code></li>","<li><code>{window_title/c=Instagram}{id}</code> - Likewise, but only if the window's title contains <code>Instagram</code> (case-sensitively)</li>","<li><code>{window_title!/rc=Inst.*ram}{id}</code> - Likewise, but only if the window's title does not match the case-sensitive regex <code>Inst.*ram</code></li>","</ul><br />","<p>You can set a custom variable with <code>:=</code>. For example:</p>","<ul><br />","<li><code>{domain_nosub==cdninstagram.com}{foo:=bar}</code> - Sets the variable <code>foo</code> to <code>bar</code> if the domain is <code>cdninstagram.com</code>. The variable can then be accessed with e.g. <code>{foo}</code></li>","</ul><br />","<p>Date objects are accessible through a number of properties. Each property can be suffixed with <code>_utc</code> to get the UTC/GMT equivalent.</p>","<ul><br />","<li><code>..._iso</code> - Date in ISO format (e.g. <code>2019-12-31T23-30-56</code>). Note that <code>:</code> is replaced with <code>-</code> to avoid issues with paths under NTFS.</li>","<li><code>..._ago</code> - Human-readable representation of the time elapsed since the date (e.g. <code>1 year and 10 months ago</code>, <code>5 months and 20 days ago</code>)</li>","<li><code>..._unix</code> - Unix timestamp (e.g. <code>1577912345</code>)</li>","<li><code>..._unix_ms</code> - Unix timestamp with millisecond accuracy (e.g. <code>1577912345678</code>)</li>","<li><code>..._yyyymmdd</code> - Date in YYYYMMDD format (e.g. <code>20191230</code>)</li>","<li><code>..._hhmmss</code> - Time in HHMMSS format (e.g. <code>233056</code>)</li>","<li><code>..._year</code> - Full year (e.g. <code>2019</code>)</li>","<li><code>..._month</code> - Zero-padded month (e.g. <code>12</code>)</li>","<li><code>..._day</code> - Zero-padded day (e.g. <code>31</code>)</li>","<li><code>..._hours</code> - Zero-padded hours in military/24-hour format (e.g. <code>23</code>)</li>","<li><code>..._minutes</code> - Zero-padded minutes (e.g. <code>30</code>)</li>","<li><code>..._seconds</code> - Zero-padded seconds (e.g. <code>56</code>)</li>","</ul>"].join("\n")}},filename_replace_special_underscores:{name:"Replace special characters with underscores",description:'Replaces characters such as `/` or `"` with `_` when downloading. Note that browsers will usually do this automatically, this is just to ensure consistent behavior.',category:"rules"},replaceimgs_enable_keybinding:{name:"Enable trigger key",description:"Enables the use of the trigger key to run it without needing to use the menu",category:"extra",subcategory:"replaceimages"},replaceimgs_keybinding:{name:"Trigger key",description:"Trigger keybinding that will run the Replace Images function",requires:{replaceimgs_enable_keybinding:!0},type:"keysequence",category:"extra",subcategory:"replaceimages"},replaceimgs_auto:{name:"Automatically replace images",description:"Automatically replace images to larger versions on pages you view",warning:{true:"This could lead to rate limiting or IP bans"},needrefresh:!0,category:"extra",subcategory:"replaceimages"},replaceimgs_usedata:{name:"Use data URLs",description:"Uses data:// URLs instead of image links. Disabling this may improve compatibility with some bulk image downloader extensions",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_wait_fullyloaded:{name:"Wait until image is fully loaded",description:"Waits until the image being replaced is fully loaded before moving on to the next image",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_usedata:!1},imu_enabled_exempt:!0},replaceimgs_totallimit:{name:"Max images to process at once",description:"The maximum amount of images to process at once",type:"number",number_min:1,number_int:!0,number_unit:"images",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_domainlimit:{name:"Max images per domain at once",description:"The maximum amount of images per domain to process at once",type:"number",number_min:1,number_int:!0,number_unit:"images",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_delay:{name:"Delay between same-domain images",description:"New requests for images in the same domain will be delayed by this amount of seconds. Useful for avoiding rate limits.",type:"number",number_min:0,number_unit:"seconds",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_replaceimgs:{name:"Replace images",description:"Replaces images to their larger versions when the button is pressed",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_addlinks:{name:"Add links",description:"Adds links around replaced media if a link doesn't already exist",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},replaceimgs_replacelinks:{name:"Replace links",description:"Replaces links if they already exist",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_addlinks:!0},imu_enabled_exempt:!0},replaceimgs_plainlinks:{name:"Plain hyperlinks",description:"How to treat plain (non-media) hyperlinks that link to potential media",category:"extra",subcategory:"replaceimages",options:{_type:"combo",none:{name:"Ignore"},replace_link_text:{name:"Replace link+text"},replace_media:{name:"Replace media"}},requires:{replaceimgs_replaceimgs:!0},imu_enabled_exempt:!0},replaceimgs_links_newtab:{name:"Links open in new tab",description:"Clicking on a replaced link will open the media in a new tab",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_addlinks:!0},imu_enabled_exempt:!0},replaceimgs_remove_size_constraints:{name:"Remove size constraints",description:"Removes height/width specifiers for replaced media",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_replaceimgs:!0},imu_enabled_exempt:!0},replaceimgs_size_constraints:{name:"Size constraints",description:"Removes or enforces height/width specifiers for replaced media",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_replaceimgs:!0},options:{_type:"combo",none:{name:"Ignore"},remove:{name:"Remove"},force:{name:"Force"}},imu_enabled_exempt:!0},replaceimgs_css:{name:"Replacement CSS",description:"CSS styles to apply to replaced media. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't yet supported here)",type:"textarea",category:"extra",subcategory:"replaceimages",requires:{replaceimgs_replaceimgs:!0},imu_enabled_exempt:!0},replaceimgs_simple_progress:{name:"Simple progress",description:"Uses a simpler progress bar that has a fixed size for all media. This is useful to see how many images are replaced, rather than the ETA",category:"extra",subcategory:"replaceimages",imu_enabled_exempt:!0},highlightimgs_enable_keybinding:{name:"Enable trigger key",description:"Enables the use of the trigger key to run it without needing to use the menu",category:"extra",subcategory:"highlightimages"},highlightimgs_keybinding:{name:"Trigger key",description:"Trigger keybinding that will run the Highlight Images function",requires:{highlightimgs_enable_keybinding:!0},type:"keysequence",category:"extra",subcategory:"highlightimages"},highlightimgs_enable:{name:"Enable button",description:"Enables the 'Highlight Images' button",category:"extra",subcategory:"highlightimages",imu_enabled_exempt:!0},highlightimgs_auto:{name:"Automatically highlight images",description:"Automatically highlights images as you view pages",options:{_type:"or",always:{name:"Always"},hover:{name:"Hover",description:"When hovering over an image"},never:{name:"Never"}},category:"extra",subcategory:"highlightimages"},highlightimgs_onlysupported:{name:"Only explicitly supported images",description:"Only highlights images that can be made larger or the original version can be found",requires:[{highlightimgs_enable:!0},{highlightimgs_auto:"always"},{highlightimgs_auto:"hover"}],category:"extra",subcategory:"highlightimages"},highlightimgs_css:{name:"Highlight CSS",description:"CSS style to apply for highlight. See the documentation for Popup CSS style for more information (the thumb/full URL variables aren't supported here)",type:"textarea",requires:[{highlightimgs_enable:!0},{highlightimgs_auto:"always"},{highlightimgs_auto:"hover"}],category:"extra",subcategory:"highlightimages",imu_enabled_exempt:!0}},Ve={allow_watermark:"watermark",allow_smaller:"smaller",allow_possibly_different:"possibly_different",allow_possibly_broken:"possibly_broken",allow_possibly_upscaled:"possibly_upscaled",allow_bruteforce:"bruteforce"},Xe={general:"General",redirection:"Redirection",popup:"Popup",keybinds:"Shortcuts",rules:"Rules",website:"Website",extra:"Buttons"},Ye={general:{settings:"subcategory_settings",update:"subcategory_update",libraries:"subcategory_libraries",extension:"subcategory_extension"},popup:{trigger:"subcategory_trigger",source:"subcategory_popup_source",open_behavior:"subcategory_open_behavior",close_behavior:"subcategory_close_behavior",behavior:"subcategory_behavior",cache:"subcategory_cache",gallery:"subcategory_gallery",video:"subcategory_video",ui:"subcategory_ui",popup_other:"subcategory_popup_other"},keybinds:{popup:"subcategory_keybinds_popup_actions",gallery:"subcategory_gallery",video:"subcategory_video"},rules:{rule_specific:"subcategory_rule_specific"},extra:{replaceimages:"subcategory_replaceimages",highlightimages:"subcategory_highlightimages"}},Ze={"action:popup":{mouseover_open_behavior:"popup"}};for(Oe in ci){var Ke=ci[Oe];if(Ke.profiled)for(var Je=ui[Oe],Qe=0;Qe<tn;Qe++){var et=Qe+2,tt="t"+et+"_"+Oe,ot=(ui=function(e,t,o,r){var i,n={};for(i in e)n[i]=e[i],i===t&&(n[o]=r);return n}(ui,0<Qe?"t"+(et-1)+"_"+Oe:Oe,tt,Je),si(Ke));ci[tt]=ot,v&&(ot.name=li(ot.name)+" (#"+et+")",ot.description=null,ot.example_websites=null),ot.requires&&(tt=ot.requires,Gr(tt)||(tt=[tt]),ri(tt,function(e){e["mouseover_trigger_key_t"+et]=!0}),ot.requires=tt)}}var rt,it=si(ui);for(rt in Ve){var nt=Ve[rt];ui[rt]=Br(Re.exclude_problems,nt)<0}function at(e){return!!e.imu_map}function st(e,t){if(at(e)){var o,r=e,i=t;for(o in r.object)i(o,r.object[o]);for(var n=0;n<r.array.length;n++)i(r.array[n].key,r.array[n].value)}else for(var a=e,s=t,l=a.keys();;){var u=l.next();if(u.done)break;u=u.value;s(u,a.get(u))}}function lt(e){return at(e)?(t=e,Object.keys(t.object).length+t.array.length):e.size;var t}var ut={},ct=function(){var t;try{t=new Map}catch(e){t={imu_map:!0,object:{},array:[]}}return t},dt=function(e){return"string"==typeof e||"number"==typeof e},pt=function(e,t){for(var o=0;o<e.array.length;o++)if(e.array[o].key===t)return o;return-1},on=function(e,t,o){var r,i,n,a;return Mr&&Jr("map","map_set",si(t),si(o)),at(e)?(r=e,n=o,dt(i=t)?r.object[i]=n:(a=pt(r,i))<0?r.array.push({key:i,value:n}):r.array[a].value=n):e.set(t,o),o},rn=function(e,t){return at(e)?(o=e,dt(r=t)?o.object[r]:0<=(r=pt(o,r))?o.array[r].value:void 0):e.get(t);var o,r},mt=function(e,t){return at(e)?(o=e,dt(r=t)?r in o.object:0<=pt(o,r)):e.has(t);var o,r},ht=function(e,t){var o,r;at(e)?(o=e,dt(r=t)?delete o.object[r]:0<=(r=pt(o,r))&&o.array.splice(r,1)):e.delete(t)},nn=function(){return ct()},an=function(e,t){return on(e,t,!0)},sn=function(e,t){return mt(e,t)},ln=(gt.prototype.set=function(e,t,o){if(Mr&&Jr("cache","Cache.set key:",e,", time="+o+", value:",si(t)),this.remove(e),this.options.max_keys){var r=lt(this.data);if(r>this.options.max_keys)for(var i=[],n=(st(this.times,function(e,t){i.push({key:e,end_time:t.end_time,added_time:t.added_time})}),i.sort(function(e,t){return e.end_time?t.end_time?e.end_time-t.end_time:-1:t.end_time?1:e.added_time-t.added_time}),r-this.options.max_keys),a=0;a<i.length&&0<n;)this.remove(i[a++].key),n--}on(this.data,e,t);var s,r=Date.now();"number"==typeof o&&0<o?(s=this,t=setTimeout(function(){s.remove(e)},1e3*o),p&&"number"!=typeof t&&"unref"in t&&t.unref(),on(this.times,e,{timer:t,time:o,added_time:r,end_time:r+o})):on(this.times,e,{added_time:r})},gt.prototype.has=function(e){var t=mt(this.data,e);return Mr&&Jr("cache","Cache.has key:",e,t),t},gt.prototype.get=function(e){var t=rn(this.data,e);return Mr&&Jr("cache","Cache.get key:",e,si(t)),t},gt.prototype.fetch=function(i,n,e){var a,t=mt(this.data,i);Mr&&Jr("cache","Cache.fetch key:",i,", exists="+t),t?n(rn(this.data,i)):mt(this.fetches,i)?rn(this.fetches,i).push(n):(on(this.fetches,i,[]),a=this,e(function(e,t){!1!==t&&a.set.bind(a)(i,e,t),n(e);for(var o=rn(a.fetches,i),r=0;r<o.length;r++)o[r](e);ht(a.fetches,i)}))},gt.prototype.remove=function(e){var t;Mr&&Jr("cache","Cache.remove key:",e),mt(this.times,e)&&"timer"in(t=rn(this.times,e))&&clearTimeout(t.timer),this.options.destructor&&mt(this.data,e)&&this.options.destructor(e,rn(this.data,e)),ht(this.times,e),ht(this.data,e)},gt.prototype.clear=function(){Mr&&Jr("cache","Cache.clear"),st(this.times,function(e,t){"timer"in t&&clearTimeout(t.timer)}),this.options.destructor&&st(this.data,function(e,t){this.options.destructor(e,t)}),this.times=ct(),this.data=ct()},gt);function gt(e){this.data=ct(),this.times=ct(),this.fetches=ct(),this.options={},e&&(this.options=e)}function ft(t){Gr(t.website_regex)||(t.website_regex=[t.website_regex]);for(var o,e,r,i=null,n=0;n<t.website_regex.length&&!(i=kt(t.url,t.website_regex[n]));n++);return i?(o={url:t.url,is_pagelink:!0},t.do_request&&t.cb?(e=t.url.replace(/^[a-z]+:\/\/([^/]+)\/+.*$/,"$1"),e=zn(e),t.cache_key||(t.cache_key=e),r=function(e){return e?((e=Gr(e)?e:[e]).push(o),t.cb(e)):t.cb(o)},t.override_cb||(t.override_cb=function(e,t){e(t)}),t.run||(t.run=function(e,r,i){function t(e){return e.replace(/\${id}/g,o).replace(/\${([^/]+)}/g,function(e,t){return(/^[0-9]+$/.test(t)?r:r.groups)[t]})}var o=r[1],n=(r.groups&&r.groups.id&&(o=r.groups.id),i.id&&(o=t(i.id)),i.query_for_id);"object"==typeof(n="string"==typeof i.query_for_id?{url:n}:n)&&n.url?n.url=t(n.url):n=n(o,r),g(i.api_cache,i.do_request,i.cache_key+":"+o,n,e,function(e,t,o){return i.process(e,t,o,r,i)})}),t.run(function(e){t.override_cb(r,e)},i,t),{waiting:!0}):o):null}function _t(e){if(e)for(var t=0;t<e.length;t++)if(0===e.charCodeAt(t))return!0;return!1}var vt=new ln,bt=new ln,yt=new ln,wt=new ln,g=function(e,t,i,n,o,a){e.fetch(i,o,function(r){"method"in n||(n.method="GET"),n.onload=function(t){if(200!==t.status)return n.silent||Zr(i,t),r(null,!1);try{var e=t,o=t.responseText;return n.jsonp&&(o=o.replace(/^[$_a-zA-Z][$_a-zA-Z0-9]+\(({[\s\S]*})\);?$/,"$1")),(n.json||n.jsonp)&&(e=$(o)),a(r,e,i)}catch(e){return Zr(i,e,t),r(null,!1)}},t(n)})},kt=function(e,t){var o=t,r=(t.regex&&t.groups&&(o=t.regex),e.match(o));return r&&o!==t&&(r.groups||(r.groups={}),ri(t.groups,function(e,t){r.groups[e]=r[t+1]})),r};function xt(e,t){return(e%t+t)%t}function un(e){return!(e=e.match(/^([-a-z]+):/))||0<=Br(["http","https","ftp","data","x-raw-image","blob","chrome","file"],e[1].toLowerCase())}function Ct(e){return e.replace(/^([a-z]+:\/\/[^/]+)(\?.*)/,"$1/$2").replace(/^([a-z]+:\/\/[^/]+\.[^/]+)\.([?#/].*)?$/,"$1$2")}function cn(e,t,o){if(0===t.length)return e;if(t.match(/^[-a-z]*:\/\//)||t.match(/^(?:data|x-raw-image|blob|about|javascript):/))return t;var r=e.split("://");if(r.length<2)return e;var i=r[0],r=i+"://"+r[1].split("/")[0];if(o){if(2<=t.length&&"//"===t.slice(0,2))return i+":"+t;if(1<=t.length&&"/"===t.slice(0,1))return r+t;2<=t.length&&"./"===t.slice(0,2)&&(t=t.substring(2));for(var o=(e=e.match(/\/$/)?e:e.replace(/^([^?]*)\/.*?$/,"$1/"))+t.replace(/^\/*/,""),n=(o=o.split("://"))[1].split("/"),a=[],s=0;s<n.length;s++)".."===n[s]?a.pop():a.push(n[s]);return o[0]+"://"+a.join("/")}return e.replace(/\/*$/,"")+"/"+t.replace(/^\/*/,"")}function zt(e,t,o){for(var r=[],i=0;i<e.length;i++){var n=si(t);if("string"==typeof e[i])n.url=e[i];else for(var a in e[i])o&&a in n||(n[a]=e[i][a]);r.push(n)}return r}function Nt(e){return jt(e,["jpg","png"])}function St(e){return jt(e,["jpeg","png"])}function qt(e){return jt(e,["jpg","jpeg","png"])}function Tt(e){return jt(e,["jpg","png","gif"])}function It(e){return jt(e,["jpg","png","JPG","PNG"])}function At(e){return jt(e,["jpg","jpeg","png","JPG","JPEG","PNG"])}function Et(e){return e.match(/^[a-z]+:\/\//)?e:"http://"+e}function Ut(e){return e.replace(/^http:\/\//,"https://")}function Rt(e){return e.match(/^https?:\/\//)?e:e.match(/^https?%3[aA]/)||/^[^/]*%2[fF]/.test(e)?decodeURIComponent(e):e.match(/^https?%253[aA]/)?decodeURIComponent(decodeURIComponent(e)):e}function dn(e){return Wr(e,"%")<0?encodeURI(e):e}function Dt(e,t,o){for(var r=null,i=null,n=0;n<t.length;n++){var a=t[n];if((a="object"==typeof a?a.url:a)===e){"object"==typeof t[n]&&t[n].problems&&(r=t[n].problems),i=t[n],t.splice(n,t.length);break}}if(r)for(n=0;n<t.length;n++)if("object"==typeof t[n]&&t[n].problems)for(var s in t[n].problems)t[n].problems[s]===r[s]&&delete t[n].problems[s];return o&&!t.length&&t.push(i),t}function pn(e,t,o){return o=o||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(o)+e}var Lt=function(e,t){var o;return null==t?t:((o=Xr(void 0)).href=t,o.href)},mn=function(e,t){e=e.replace(/.*\//,"");return"remove_queryhash"in(t=t||{})||(t.remove_queryhash=!0),t.remove_queryhash&&(e=e.replace(/[?#].*$/,""),t.split_ext)?(t=t.known_ext?e.match(/(.*?)\.(mp4|mpe?g|jpe?g|jfif|png|tiff|og[agv]|m4[av]|web[pm]|mkv|avi|gif|mpd|m3u8|zip)$/i):e.match(/(.*)\.([^.]*)$/))?[t[1],t[2]]:[e]:e},hn=function(e){var o=oe(e||{});return ri(o,function(e,t){"string"==typeof e&&(o[t]={url:e})}),o},gn=function(e,t){for(var o,r=hn(e),i=hn(si(t))[0],n=0;n<r.length;n++)if(void 0!==r[n]){if(!r[n].url||!i.url||i.url===r[n].url)for(o in i)o in r[n]||(r[n][o]=i[o]);for(o in De)o in r[n]||(r[n][o]=si(De[o]));r[n].video&&"image"===r[n].media_info.type&&(!0===r[n].video?r[n].media_info={type:"video"}:"string"==typeof r[n].video?r[n].media_info={type:"video",delivery:r[n].video}:(r[n].media_info=si(r[n].video),r[n].media_info.delivery=r[n].media_info.type,r[n].media_info.type="video"))}return r},jt=function(e,t,o){t=t||["jpg","jpeg","png","gif","webp","avif","JPG","JPEG","PNG","GIF"],Gr(e)||(e=[e]);for(var r=[],i=0;i<e.length;i++){var n=e[i],a=n,s=/(.*)\.([^/.]*?)([?#].*)?$/;if((a="string"!=typeof n?n.url:a).match(s)){var l=a.replace(s,"$2"),u=a.replace(s,"$1"),c=a.replace(s,"$3");o||r.push(n);for(var d,p,i=0;i<t.length;i++)!o&&l===t[i]||(d=u+"."+t[i]+c,"string"==typeof n?r.push(d):((p=si(n)).url=d,r.push(p)));o&&Br(r,n)<0&&r.push(n)}else r.push(n)}return r};function Mt(e){for(var t=e.toString(),o="",r=0;r<t.length;r+=2)o+=N(parseInt(t.substr(r,2),16));return o}function Pt(e){for(var t=[],o=0;o<e.length;o+=2)t.push(parseInt(e.substr(o,2),16));return t}function Ht(e){for(var t="",o=0;o<e.length;o++)e[o]<16&&(t+="0"),t+=e[o].toString(16);return t}function $t(e){return ni.run_arrayd_string(e,{cb:function(e){return e.reverse()}})}function Ft(e){var t=e.match(/^\s*<!\[CDATA\[([\s\S]+)\]\]>\s*$/);return t?t[1]:e.replace(/&nbsp;/g," ").replace(/&#([0-9]+);/g,function(e,t){return N(t)}).replace(/&quot;/g,'"').replace(/&amp;/g,"&")}function Ot(e){return e.replace(/&/g,"&amp;")}function Gt(e){return e.replace(/([\^$])/g,"\\$1")}function Bt(e,t){var o=e.replace(/#.*/,"").replace(/^.*?\?/,"");if(!o||o===e)return{};t=t||{};for(var r={},i=o.split("&"),n=0;n<i.length;n++){var a=i[n],s=!0,l=i[n].match(/^(.*?)=(.*)/);l&&(a=l[1],s=l[2]),0!==a.length&&(t.decode&&"string"==typeof s&&(s=decodeURIComponent(s)),r[a]=s)}return r}function fn(e,t){var o,r,i,n=[];for(o in e)0!==o.length&&(i=e[r=o],t&&(i=encodeURIComponent(i)),!0!==e[o]&&(r+="="+i),n.push(r));return n.join("&")}function Wt(e,t){Gr(t)||(t=[t]);var o=e.replace(/^([^#]*?)\?(.*)$/,"$1"),r=e.replace(/^([^#]*?)\?(.*)$/,"$2");if(o===e)return e;for(var i=r.split("&"),n=[],a=0;a<i.length;a++){var s=i[a].replace(/^(.*?)=.*/,"$1");Br(t,s)<0&&n.push(i[a])}return o+(r=0===n.length?"":"?"+n.join("&"))}function Vt(e,t,o){Gr(t)||(t=[t]),o=o||{};var r=Bt(e),i=[],n=nn();if(ri(t,function(e){var t;e in r&&(t=e+"=",o.overwrite&&e in o.overwrite?t+=o.overwrite[e]:t+=r[e],i.push(t),an(n,e))}),o.required){!0===o.required&&(o.required=t);var a=0;if(ri(o.required,function(e){if(!sn(n,e))return!1;a++}),a<o.required.length)return e}if(o.overwrite)for(var s in o.overwrite)sn(n,s)||i.push(s+"="+o.overwrite[s]);return t=0===i.length?"":"?"+i.join("&"),e.replace(/\?.*/,"")+t}function Xt(e,t){var o,r=Bt(e);for(o in t)r[o]=t[o];var i=fn(r);return i?e.replace(/^([^#]*?)(?:\?.*)?$/,"$1?"+i):e}var Yt=null;_e?"undefined"!=typeof GM_notification?Yt=GM_notification:"undefined"!=typeof GM&&GM.notification&&(Yt=GM.notification):Pr&&(Yt=function(t,o){var e=si(t,{json:!0});t.onclick&&(e.onclick=!0),Hr({type:"notification",data:e},function(e){e&&e.data&&("clicked"===e.data.action?t.onclick&&t.onclick():"closed"===e.data.action&&(o=t.ondone||o)&&o())})});function Zt(e){return e.replace(/(?:[-=_!?$#"'’‘”“]|\[|])/g," ").replace(/\s+/g," ").replace(/^\s+|\s+$/g,"")}function Kt(i){ai({url:"https://api.github.com/repos/qsniyg/maxurl/tags",method:"GET",headers:{Referer:""},onload:function(e){if(!(e.readyState<4)){if(200===e.status)try{for(var t=$(e.responseText),o=0;o<t.length;o++){var r=t[o].name;if(r.match(/^v[0-9.]+$/))return i({version:r.replace(/^v([0-9])/,"$1")})}}catch(e){Zr("Unable to parse github info",e)}return i(null)}}})}function Jt(e){Kt(e)}var Qt=function(){var e=ui.last_update_url;return e=e||(r?l:_e?u:null)},eo=function(){ui.imu_enabled&&ui.check_updates&&H&&ui.last_update_check&&Date.now()-ui.last_update_check>60*ui.check_update_interval*60*1e3&&Jt(function(e){var t;ve("last_update_check",Date.now()),e&&e.version&&(e.downloadurl?ve("last_update_url",e.downloadurl):ve("last_update_url",null),ve("last_update_version",e.version),ui.check_update_notify)&&!Fr&&1===we(H,e.version)&&(e={text:li("Update available (%%1)",e.version)},(t=Qt())&&(e.onclick=function(){Fi({url:t})}),e=e,Yt)&&(e.title||(e.title=li("Image Max URL")),e.image||(e.image="https://raw.githubusercontent.com/qsniyg/maxurl/b5c5488ec05e6e2398d4e0d6e32f1bbad115f6d2/resources/logo_256.png"),Yt(e,e.ondone||null))})};function to(e,t,o){if(e===t)return 1;if(e-1===t||e+1===t)return 1;for(var r=0;r<o.length;r++)if(e===o[r]){if(1===t)return 1}else if(t===o[r]&&1===e)return 1}function oo(e,t,o){return 1===e&&0<=Br(o,t)||1===t&&0<=Br(o,e)}function ro(e,t){if(e!==t){if(8!==e.length||8!==t.length)return!1;var o=Qr(e.substr(6,2)),r=Qr(t.substr(6,2));if(!to(o,r,[28,29,30,31]))return!1;var i=Qr(e.substr(4,2)),n=Qr(t.substr(4,2)),o=oo(o,r,[28,29,30,31]);if(i!==n){if(!o)return!1;if(!to(i,n,[12]))return!1}r=Qr(e.substr(0,4)),e=Qr(t.substr(0,4));if(r!==e){if(!o||!oo(i,n,[12]))return!1;if(!to(r,e,[]))return!1}}return!0}function _n(e){setTimeout(e,1)}var Lt=function(e,t){return cn(e,t,!0)},io=[];function e(){vt.clear()}function no(){io=[];var e=ui.bigimage_blacklist||"";if("string"!=typeof e)Kr("Invalid blacklist",e);else for(var t=e.split("\n"),o=0;o<t.length;o++){var r=t[o].replace(/^\s+|\s+$/,"");if(0!==r.length)if("regex"===ui.bigimage_blacklist_engine)try{io.push(new RegExp(r))}catch(e){return[e]}else if("glob"===ui.bigimage_blacklist_engine){for(var i,n="",a=-1,s=-1,l=0;l<r.length;l++)if(0<=a)"]"===r[l]&&(n+=r.substr(a,l-a+1),a=-1);else if(0<=s){if("}"===r[l]){for(var u=r.substr(s+1,l-s-1).split(","),c=[],d=0;d<u.length;d++)c.push(u[d].replace(/(.)/g,"[$1]"));0<c.length&&(1<c.length||0<c[0].length)&&(n+="(?:"+c.join("|")+")"),s=-1}}else"*"!==r[l]?"{"===r[l]?s=l:"["===r[l]?a=l:"?"===r[l]?n+="[^/]":"."===r[l]?n+="\\.":n+=r[l]:(i=!1,l+1<r.length&&"*"===r[l+1]&&(i=!0,l++),n+=i?".+":"[^/]+");r="^"+(r="*"!==(r=n)[0]?(n=r.replace(/^[a-z]*:\/\//,"[a-z]+://"))!==r?n:"[a-z]+://[^/]*"+r:r);try{io.push(new RegExp(r))}catch(e){return[e]}}}}function ao(e){var t=wn(e.responseHeaders);return(t=t&&kn(t))&&t.location?t.location:e.finalUrl}function vn(e){return(e=e.replace(/^\s*\[?([^/]+)\/([^/]+?)\]?\s*$/,"$1/$2"))in bo?bo[e]:!(e=e.match(/^([^/]+)\/([^/]+)$/))||"image"!==e[1]&&"video"!==e[1]?null:e[2]}function so(e){for(var t=wo=wo||yo(),o=-1,r=0;r<e.length;r++)o=o>>>8^t[255&(o^e.charCodeAt(r))];return(-1^o)>>>0}function bn(n,a,r,t){if(!a.allow_thirdparty_libs)return Kr("Refusing to request library "+n+" due to 3rd-party library support being disabled"),t(null);if(!(n in zo))return Zr("Invalid library",n),t(null);var s=zo[n];if(h)return t(null);if(p)try{var e="./lib/"+s.name+".js";return t(require(e))}catch(e){return console.error(e),t(null)}if(!Pr&&!_e)return t(null);yt.fetch(n,t,function(i){if(Pr)Hr({type:"get_lib",data:{name:s.name}},function(e){if(!e||!e.data||!e.data.text)return i(null,0);i(Co(e.data.text,s.xhr),0)});else{var e,t,o=s.url;if(!o)return Zr("No URL for library",s),i(null,0);a.use_webarchive_for_lib&&(o=s.archive_url||((t=s.archive_time)||(t=""+(e=new Date).getFullYear(),t=(t=(t=(t+=pn(e.getMonth()+1,2))+pn(e.getDate(),2))+pn(e.getHours(),2))+pn(e.getMinutes(),2)+"00"),"https://web.archive.org/web/"+t+"js_/"+s.url)),r({method:"GET",url:o,headers:{Referer:""},onload:function(e){if(4===e.readyState){if(200!==e.status)return Zr(e),i(null,!1);e=e.responseText;if(a.use_webarchive_for_lib&&(e=e.replace(/^\s*var _____WB\$wombat\$assign\$function_____[\s\S]*_____WB\$wombat\$assign\$function_____[(].*[)];\n\n/,"").replace(/\n\n}\n\/\*\s*FILE ARCHIVED ON[\s\S]*/,"").replace(/(["'])https:\/\/web.archive.org\/web\/[0-9]+(?:[a-z]+_)?\/+(https?:\/\/)/g,"$1$2").replace(/(["'])\/\/web.archive.org\/web\/[0-9]+(?:[a-z]+_)?\/+https?:(\/\/)/g,"$1$2")),ui.lib_integrity_check){var t,o=!1;if(e.length!==s.size)return Zr("Wrong response length for "+n+": "+e.length+" (expected "+s.size+")"),i(null,!1);var r=so(e);if(r!==s.crc32)return Zr("Wrong crc32 for "+n+": "+r+" (expected "+s.crc32+")"),i(null,!1);if((r=so(e+(s.size+"")))!==s.crc32_size)return Zr("Wrong crc32 #2 for "+n+": "+r+" (expected "+s.crc32_size+")"),i(null,!1);o&&Yr("Check time:",Date.now()-t)}i(function(e,t){try{return Co(e,t)}catch(e){return Zr(e),null}}(e,s.xhr),0)}}})}})}function lo(e){return e.replace(/[\u200B-\u200D\uFEFF]/g,"").replace(/[\u2800]/g," ")}function di(e){return e&&"string"==typeof e?No(lo(e)):e}function uo(e,o,r,i){return i=i||{},e.sort(function(e,t){e=e[o],t=t[o],t=r?(e=r(e),r(t)):(e=parseFloat(e)||0,parseFloat(t)||0);return i.reverse?t-e:e-t})}function co(e,i){return e.sort(function(e,t){var o=Br(i,e),r=Br(i,t);return o<0?0<=r?1:e.localeCompare(t):r<0?-1:o-r}),e}function po(e){var t=e.match(/^<([-a-zA-Z0-9]+)((?:\s+[-a-z0-9A-Z]+(?:=(?:"[^"]+"|'[^']+'|[-_a-zA-Z0-9]+))?)*)\s*(\/?)>/);if(!t)return null;var o={tagname:t[1],selfclosing:!!t[3],args:{},args_array:[]},r=/\s+([-a-z0-9A-Z]+)(?:=("[^"]+"|'[^']+'|[-_a-zA-Z0-9]+))?/;if(t=t[2].match(new RegExp(r,"g")))for(var i=0;i<t.length;i++){var n=t[i].match(r),a=n[1].toLowerCase(),s=(s=n[2])?Ft(s.replace(/^["'](.*)["']$/,"$1")):"";o.args[a]=s,o.args_array.push({name:n[1],value:s})}return o}function mo(e,t){return t=new RegExp("<meta\\s+(?:(?:property|name|itemprop)=[\"']?"+t+"[\"']?\\s+(?:content|value|href)=[\"']([^'\"]+)[\"']|(?:content|value|href)=[\"']([^'\"]+)[\"']\\s+(?:property|name|itemprop)=[\"']?"+t+"[\"']?)\\s*/?>"),(e=e.match(t))?Ft(e[1]||e[2]):null}function ho(e){return e.replace(/([{,])\s*([^[{,"'\s:]+)\s*:/g,'$1 "$2":').replace(/(\"[^\s:"]+?\":)\s*'([^']*)'(\s*[,}])/g,'$1 "$2"$3').replace(/,\s*}$/,"}")}function go(e){var t=To(e,qo);if(!t)throw"unable to parse";for(var o={whitespace:" ",jvarname:function(e){return'"'+e+'"'},jpropname:function(e){return'"'+e+'"'},squote:'"',sliteral:function(e){return e.replace(/"/g,'\\"')},dliteral:function(e){return e.replace(/"/g,'\\"')},comma:function(e,t){return t&&"objend"!==t.name&&"arrend"!==t.name?e:""}},r="",i=0;i<t.length;i++){var n=t[i];if(n.name in o){var a=o[n.name];if("function"==typeof a){for(var s=1,l=t[i+s++];l&&"whitespace"===l.name;)l=t[i+s++];r+=a(n.value,l)}else r+=a}else r+=n.value}return r}function fo(e){return e.video.length||e.image.length?e:(Kr("Unable to find video sources"),null)}function yn(e,t){return!!/\.(?:jpe?g|png|web[mp]|gif|mp4|mkv|og[gv]|svg)(?:[?#].*)?$/i.test(e)||!(!t||!Pn(t))}var wn=function(e){for(var t=[],o=e.split("\r\n"),r=0;r<o.length;r++){var i=o[r].replace(/^\s*([^:]*?)\s*:[\s\S]*/,"$1").toLowerCase(),n=o[r].replace(/^[^:]*?:\s*([\s\S]*?)\s*$/,"$1");if(i!==o[r]&&n!==o[r])for(var a=n.split("\n"),s=0;s<a.length;s++)t.push({name:i,value:a[s]})}return Mr&&Yr("parse_headers",e,si(t)),t},kn=function(e){for(var t={},o=0;o<e.length;o++)t[e[o].name.toLowerCase()]=e[o].value;return t},_o=function(e){var t,o=[];for(t in e)o.push({name:t,value:e[t]});return o},xn=function(e,t){for(var o in e)if(o.toLowerCase()===t.toLowerCase())return e[o]},vo=function(e,t,o){for(var r in e)if(r.toLowerCase()===t.toLowerCase())return e[r]=o;return e[t]=o},bo={"image/jpeg":"jpg","application/dash+xml":"mpd"},yo=function(){for(var e=[],t=0;t<256;t++){for(var o=t,r=0;r<8;r++)o=1&o?3988292384^o>>>1:o>>>1;e[t]=o}return e},wo=null,ko=function(){this._headers={},this._response_headers={},this._reqobj=null,this._last_readyState=null,this.open=function(e,t,o){this._method=e,this._url=t},this.setRequestHeader=function(e,t){vo(this._headers,e,t)},this.getResponseHeader=function(e){return xn(this._response_headers,e)},this.getAllResponseHeaders=function(){return this._response_headers_raw};this.send=function(r,e,t){function o(t,o){i["on"+o]=function(e){!function(e,t,o){o&&(e.status=o.status||0,e.statusText=o.statusText,e.response=o.response,e.readyState=o.readyState,e.responseText=o.responseText,e.responseType=o.responseType,e.responseURL=o.finalUrl,this._response_headers_raw=o.responseHeaders);var r={currentTarget:e,target:e,loaded:e.loaded,lengthComputable:e.lengthComputable,total:e.total};o&&o.responseHeaders?this._response_headers=kn(wn(o.responseHeaders)):o&&(this._response_headers=null),e.readyState!==this._last_readyState&&(e.onreadystatechange&&e.onreadystatechange.bind(e)(r),this._last_readyState=e.readyState),"load"===t&&(e.onload&&e.onload.bind(e)(r),e.onloadend)&&e.onloadend.bind(e)(r),"error"===t&&(e.onerror&&e.onerror.bind(e)(r),e.onloadend)&&e.onloadend.bind(e)(r),"abort"===t&&(e.onabort&&e.onabort.bind(e)(r),e.onloadend)&&e.onloadend.bind(e)(r),"progress"===t&&e.onprogress&&e.onprogress.bind(e)(r),"timeout"===t&&e.ontimeout&&e.ontimeout.bind(e)(r)}.bind(t)(r,o,e)}}var i={method:this._method,url:this._url,data:e,timeout:r.timeout||0,withCredentials:r.withCredentials||!0,responseType:r.responseType};0<Object.keys(this._headers).length&&(i.headers=this._headers);o(this,"load"),o(this,"error"),o(this,"abort"),o(this,"progress"),o(this,"timeout"),this._reqobj=t(i)},this.abort=function(){this._reqobj&&this._reqobj.abort()}},xo=(ko.do_request=ai,function(){for(var o=new imu_xhr.custom_xhr,e=["open","setRequestHeader","getResponseHeader","getAllResponseHeaders","abort"],t=0;t<e.length;t++){var r=e[t];!function(e){var t=o[e];this[e]=function(){return t.apply(o,arguments)}}.bind(this)(r)}this.send=function(e){return o.send(this,e,XMLHttpRequest.do_request)}}),Co=function(e,t){var o;return t?(t=!0,o=";return {lib: lib_export, xhr: XMLHttpRequest, overridden_xhr: "+(t=ui.custom_xhr_for_lib?t:!1)+"};",t?(t="var XMLHttpRequest=null;(function(imu_xhr){XMLHttpRequest="+xo.toString()+";XMLHttpRequest.do_request = imu_xhr.do_request;})(imu_xhr);imu_xhr = undefined;",new Function("imu_xhr",t+e+o)({custom_xhr:ko,do_request:ai})):new Function(e+o)()):new Function(e+";return lib_export;")()},zo={testcookie_slowaes:{name:"testcookie_slowaes",url:"https://raw.githubusercontent.com/qsniyg/maxurl/e90366f4b6c998614509472717fd18ca8050c1fa/lib/testcookie_slowaes.js",archive_time:"20210403210438",size:30462,crc32:1012990654,crc32_size:2369381957},shaka:{name:"shaka.debug",url:"https://raw.githubusercontent.com/qsniyg/maxurl/588bef6bf443ee9b00f07ce77638c1bf435101c6/lib/shaka.debug.js",archive_time:"20210215220612",size:1067495,crc32:2828102141,crc32_size:3777086751,xhr:!0},cryptojs_aes:{name:"cryptojs_aes",url:"https://raw.githubusercontent.com/qsniyg/maxurl/22df70495741c2f90092f4cc0c504a1a2f6e6259/lib/cryptojs_aes.js",archive_time:"20210215220612",size:13453,crc32:4282597182,crc32_size:3521118067},stream_parser:{name:"stream_parser",url:"https://raw.githubusercontent.com/qsniyg/maxurl/0655c317844fb7a652c6ee9f88ab65514c53b482/lib/stream_parser.js",archive_time:"20210403204309",size:115544,crc32:270289712,crc32_size:2967398805},ffmpeg:{name:"ffmpeg",url:"https://raw.githubusercontent.com/qsniyg/maxurl/2178819a193656245ce1a2bd885ff12aaaa04ea9/lib/ffmpeg.js",archive_time:"20210403204304",size:285642,crc32:2587771391,crc32_size:2632494853,xhr:!0},jszip:{name:"jszip",url:"https://raw.githubusercontent.com/qsniyg/maxurl/04ded19e6a25408d7a272420778a2147983949bc/lib/jszip.js",archive_time:"20210403204254",size:99574,crc32:2493372642,crc32_size:624003151},BigInteger:{name:"BigInteger",url:"https://raw.githubusercontent.com/qsniyg/maxurl/b0a4ba6c28f0c0b7c665e76e3767bde59e900ab6/lib/BigInteger.js",archive_time:" 20220629185936",size:21482,crc32:337445473,crc32_size:2641711624}},No=function(e){return e&&"string"==typeof e?e.replace(/^\s+/,"").replace(/\s+$/,""):e},So=function(e,r){function t(e){var t,o;i.onload=null,i.onerror=null,clearTimeout(n),i.naturalHeight&&i.naturalWidth||(o=t=null),t=Qr(i.naturalWidth),o=Qr(i.naturalHeight),i.src="",r(t,o)}var i=new Image(e),n=null;i.onload=i.onerror=t,n=setInterval(function(){i.naturalHeight&&i.naturalWidth&&t()},10),i.src=e},qo=(p&&(So=null),{whitespace:/\s+/,jvarname:/[$_a-zA-Z][$_a-zA-Z0-9]*/,jpropname:/[$_a-zA-Z0-9]+/,number:/-?(?:[0-9]*\.[0-9]+|[0-9]+|[0-9]+\.)(?:e[0-9]+)?/,objstart:/{/,objend:/}/,object:["objstart","whitespace?","kvcw*","objend"],arrstart:/\[/,arrend:/]/,array:["arrstart","whitespace?","valuecw*","arrend"],true:/true/,false:/false/,null:/null/,value:[["array"],["object"],["sstring"],["dstring"],["number"],["true"],["false"],["null"]],valuew:["value","whitespace?"],valuec:["valuew","comma?"],valuecw:["valuec","whitespace?"],comma:/,/,colon:/:/,squote:/'/,dquote:/"/,sstring:["squote","sliteral","squote"],dstring:["dquote","dliteral","dquote"],propname:[["jpropname"],["sstring"],["dstring"]],kv:["propname","whitespace?","colon","whitespace?","value"],kvw:["kv","whitespace?"],kvc:["kvw","comma?"],kvcw:["kvc","whitespace?"],doc:[["object"],["array"]]}),To=function(f,_){for(var e in _=si(_)){var t=_[e];t instanceof RegExp?_[e]={type:"regex",value:new RegExp("^"+t.source)}:Gr(t)&&(Gr(t[0])?_[e]={type:"or",value:t}:_[e]={type:"and",value:t})}function u(e,t,o){if(e in v||(v[e]=0),v[e]++,o in b||(b[o]=0),b[o]++,"sliteral"===e||"dliteral"===e){for(var r=e,i=t,n="dliteral"===r?'"':"'",a="",s=!1,l=i;l<f.length;l++){var u=f[l];if(s)s=!1,"x"===u?(a+="\\u00"+f.substr(l+1,2),l+=2):a+='"'!==u&&"'"!==u?"\\"+u:u;else{if(u===n)break;"\\"===u?s=!0:a+=u}}return[{name:r,i:i,ni:l,value:a,length:l-i}]}var c;if("and"===(r=_[e]).type)return y(r.value,t,o);if("or"!==r.type)return i=e,e=r.value,c=t,(e=f.substring(c).match(e))&&0===e.index?[{name:i,i:c,ni:c+e[0].length,value:e[0],length:e[0].length}]:null;for(var d=r,p=t,m=o,h=0;h<d.value.length;h++){var g=y(d.value[h],p,m);if(g&&g.length)return g}return null}var v={},b={},y=function(e,t,o){for(var r=[],i=0;i<e.length;i++){var n,a=e[i],s=a[a.length-1],l=a.substring(0,a.length-1);if("?"===s)(n=u(l,t,o+1))&&0!==n.length&&(zi(r,n),t=n[n.length-1].ni);else if("*"===s)for(;;){if(!(n=u(l,t,o+1))||0===n.length)break;zi(r,n),t=n[n.length-1].ni}else{if(!(n=u(a,t,o+1))||0===n.length)return null;zi(r,n),t=n[n.length-1].ni}}return r};return u("doc",0,0)},Cn=(ni.get_bigint=function(e,o){"undefined"!=typeof BigInt?o({create:function(e){return BigInt(e)},add:function(e,t){return e+t},sub:function(e,t){return e-t},mul:function(e,t){return e*t},div:function(e,t){return e/t},mod:function(e,t){return e%t},stringify:function(e){return e.toString()}}):bn("BigInteger",ui,e,function(t){if(!t)return o(null);o({create:function(e){return t(e)},add:function(e,t){return e.add(t)},sub:function(e,t){return e.subtract(t)},mul:function(e,t){return e.multiply(t)},div:function(e,t){return e.divide(t)},mod:function(e,t){return e.mod(t)},stringify:function(e){return e.toString()}})})},ni.fetch_imgur_webpage=function(o,n,a,r,e){function s(i){var e,t=r.replace(/^http:/,"https:");o({url:t,method:"GET",headers:e=l?a:e,onload:function(e){if(4===e.readyState){if(200!==e.status)return Zr("Bad status for Imgur: "+e.status),404===e.status?i({bad:!0},!1):i(null,!1);var t,o=e.responseText.match(/<meta\s+property=["']og:video["']\s+content=["'](.*?)["']/),r={ogvideo:r=o?Ft(o[1]).replace(/\?.*/,""):r,ogimage:t=(o=e.responseText.match(/<meta\s+property=["']og:image["']\s+content=["'](.*?)["']/))?Ft(o[1]).replace(/\?.*/,""):t},o=e.responseText.match(/\.\s*mergeConfig\s*\(\s*["']gallery["']\s*,\s*{[\s\S]+?image\s*:\s*({.*?})\s*,\s*\n/);if(o){r.found_match=!0,t=o[1];try{t=$(t),(r.imageinfo=t).source&&t.hash&&!t.is_album&&n.set("imgur_imageinfo:"+t.hash,t,21600)}catch(e){Zr(e),Yr(o),t=void 0}i(r,21600)}else{r.found_match=!1;o="Unable to find match for Imgur page";if(e.responseText.match(/<a.*?btn-wall--yes.*?\.(?:signin|cookie)\(/)&&(o+=" (it's probably NSFW and you aren't logged in)",r.nsfw=!0),Kr(o),a&&!l)return Yr("Retrying with custom headers"),l=!0,s(i);i(r,15)}}}})}var t="imgur_webpage:"+r.replace(/^https?:\/\/(?:www\.)?imgur/,"imgur").replace(/[?#].*/,""),l=!1;n.fetch(t,e,s)},ni.imgur_run_api=function(e,t,o,r,i){(r=r||{}).client_id=k("IDU0NmMyNWE1OWM1OGFkNw==").slice(1);o=o+"?"+fn(r);g(t,e,"imgur_api:"+o,{url:o,imu_mode:"xhr",headers:{Referer:"https://imgur.com/"},json:!0},i,function(e,t){return e(t,3600)})},ni.imgur_api_fetch_album_media=function(e,t,o,r,i){"album"===o?o="albums":"image"===o&&(o="media");return ni.imgur_run_api(e,t,"https://api.imgur.com/post/v1/"+o+"/"+r,{include:"media,adconfig,account"},i)},ni.imgur_fetch_album_media=function(t,o,r,i,n){var a,e;return"album"!==r&&"image"!==r?(Zr("Bug! Invalid type:",r),n(null)):(a=function(e){var t;return e?(t=ni.imgur_normalize(e),n(t)):n(e)},"rule_specific"in t&&"imgur_source"in t.rule_specific&&t.rule_specific.imgur_source?(e="https://imgur.com/","album"===r&&(e+="a/"),void ni.fetch_imgur_webpage(t.do_request,o,null,e+=i,function(e){return e&&e.found_match&&e.imageinfo?a(e.imageinfo):ni.imgur_api_fetch_album_media(t.do_request,o,r,i,a)})):ni.imgur_api_fetch_album_media(t.do_request,o,r,i,a))},ni.imgur_normalize=function(e){var t;return"media"in e||(e.album_images?e.media=e.album_images.images:e.images&&(e.media=e.images)),"is_album"in e||"album_images"in e&&(e.is_album=!0),"url"in e||(e.link?e.url=e.link:e.hash&&(t="https://imgur.com/",e.is_album&&(t+="a/"),e.url=t+e.hash)),e},ni.imgur_image_to_obj=function(e,t,o){var r=[];try{var i,n,a,s,l=o,u=(((l=o.metadata?o.metadata:l).description||l.title)&&(t.extra.caption=l.description||l.title),o.hash||o.id&&(o.hash=o.id),t.extra.page="https://imgur.com/"+o.hash,o.ext&&("."!==o.ext[0]&&(o.ext="."+o.ext),".jpeg"===o.ext.toLowerCase())&&(o.ext=".jpg"),null);o.hash&&o.ext&&(u=o.hash+o.ext,i=si(t),"rule_specific"in e&&"imgur_filename"in e.rule_specific&&e.rule_specific.imgur_filename&&o.name&&(i.filename=o.name),(a=si(i)).url="https://i.imgur.com/"+u,n=o.mimetype||o.mime_type,/^video\//.test(n)?(a.video=!0,r.push(a),(a=si(i)).url="https://i.imgur.com/"+o.hash+".jpg"):(l.is_animated||o.animated)&&(o.prefer_video,1)&&((s=si(i)).url="https://i.imgur.com/"+o.hash+".mp4",s.video=!0,r.push(s)),r.push(a)),o.source&&/^https?:\/\//.test(o.source)&&("rule_specific"in e&&"imgur_source"in e.rule_specific&&!0!==e.rule_specific.imgur_source||r.unshift({url:o.source}))}catch(e){Zr(e),r=[]}return r},ni.deviantart_url_from_id=function(e,t,o,r){if("string"==typeof o&&/^[a-z0-9]+$/.test(o)&&7===o.length&&"d"===o[0])return r("https://deviantart.com/a/art/"+(parseInt(o,36)-28298170368));g(t,e,"deviantart_url_from_id:"+o,{method:"HEAD",url:"http://fav.me/"+o,cookie_url:"https://www.deviantart.com/"},r,function(e,t,o){e(t.finalUrl,21600)})},ni.deviantart_page_from_id=function(t,o,r,i){ni.deviantart_url_from_id(t,o,r,function(e){if(!e)return i(null);g(o,t,"deviantart_page_from_id:"+r,{url:e},i,function(e,t,o){e(t,3600)})})},ni.wix_image_info=function(e){var t={},o=e.match(/^[a-z]+:\/\/[^/]+\/+(?:intermediary\/+)?([if])\/+[-0-9a-f]{20,}\/+[^/?]+([?#].*)?$/);if(o)o[3]&&"?"===o[3][0]&&(t.has_token=!0),"i"===o[1]?t.preview=!0:t.original=!0;else{if(!(o=e.match(/^[a-z]+:\/\/[^/]+\/+(?:intermediary\/+)?[if]\/+[-0-9a-f]{20,}\/+[^/]+\/+v1\/+(?:fit|fill|crop)\/+([^/]+)\/+[^/]+(?:[?#].*)?$/)))return null;for(var r,i,n=o[1].split(","),a=0;a<n.length;a++)n[a].match(/^[a-z]+$/)?t[n[a]]=!0:(r=n[a].replace(/_.*$/,""),(i=n[a].replace(/^.*?_/,"")).match(/^[-0-9.]+$/)&&(i=parseFloat(i)),t[r]=i);t.w&&t.h&&(t.pixels=t.w*t.h)}return t},ni.wix_compare=function(e,t,o){if(Mr&&Yr("wix_compare",e,t,o),!t)return e;var r=ni.wix_image_info(e),i=ni.wix_image_info(t);if(Mr&&Yr("wix_compare (info1:",r,"info2:",i,")"),r&&i){if(r.original&&i.original)return i.has_token?e:t;if(r.original&&(!o||!i.preview))return e;if(i.original&&(!o||!r.preview))return t;if(r.pixels&&i.pixels){if(r.pixels>i.pixels)return e;if(i.pixels>r.pixels)return t;if(r.q&&i.q){if(r.q>i.q)return e;if(i.q>r.q)return t}}}return null},ni._wix_bigimage_inner=function(e){var t=e.replace(/(:\/\/[^/]*\/)(f\/+[-0-9a-f]{36}\/+[0-9a-z]+-[-0-9a-f]{20,}(?:\.[^/.]*)?\/+v1\/+fill\/+w_[0-9]+,h_[0-9]+)(?:,[^/]+)?(\/+.*[?&]token=.*)$/,"$1$2,q_100$3");return t===e&&(t=e.replace(/(:\/\/[^/]*\/f\/+[-0-9a-f]{36}\/+[0-9a-z]+-[-0-9a-f]{20,}\.(?:png|PNG)\/+v1\/+fill\/+[^/]+\/+[^/?#]+)\.[^/.?#]+(\?.*)?$/,"$1.png$2"))===e&&(/^[a-z]+:\/\/[^/]+\/+f\/+[-0-9a-f]{36}\/+[a-z0-9]{5,}-[-0-9a-f]{36}\.[^/.?#]+\?token=[^&]+(?:#.*)?$/.test(e)||(t=e.replace(/(:\/\/[^/]*\/)(f\/+[-0-9a-f]{36}\/+.*?)[?&]token=.*$/,"$1intermediary/$2"))===e)&&(e.match(/[?&]token=.{30,}/)||(t=e.replace(/(\.[^/.]*)\/v1\/.*/,"$1").replace(/(\/[^/.]*\.[^/.]*?)_[_0-9.a-z]*$/,"$1"))===e)?null:t},ni.wix_bigimage=function(e){for(var t=[];e;)t.unshift(e),e=ni._wix_bigimage_inner(e);return t},ni.deviantart_fullimage=function(v,e,b,t,y){ni.deviantart_page_from_id(v.do_request,e,t,function(t){if(!t)return y(null);var e={url:null,waiting:!1,extra:{page:t.finalUrl}},o=[],r=(b.match(/:\/\/[^/]*\/fake_image\//)||zi(o,ni.wix_bigimage(b)),t.finalUrl.replace(/.*-([0-9]+)(?:[?#].*)?$/,"$1")),i=(r===t.finalUrl&&(r=null),t.responseText.match(/window\.__INITIAL_STATE__\s*=\s*JSON\.parse\((".*")\);\s*(?:window\.|<\/script)/));if(i&&r){try{i=$($(i[1].replace(/\\'/g,"'")))}catch(e){throw console.error(e,{initialstate:i,result:t}),e}try{var n=i["@@entities"],a=n.deviation[r],s=null,l=(n.deviationExtended&&(s=n.deviationExtended[r]),Mr&&(Yr("Deviation object",a),Yr("Extended deviation object",s)),a.title&&(e.extra.caption=a.title),e.url),u=a.files;if(Gr(u))for(var c=u.length-1;0<=c;c--){var d=u[c];(m=ni.wix_compare(d.src,l,v.rule_specific.deviantart_prefer_size))===d.src&&(l=m)}else if("media"in a&&Gr(a.media.types)){a.media.prettyName&&(e.filename=a.media.prettyName);for(var p=a.media.types,c=p.length-1;0<=c;c--){var m,h=null,g=0,f=("r"in p[c]&&p[c].r<a.media.token.length&&(g=p[c].r),"?token="+a.media.token[g]);p[c].c?h=a.media.baseUri+"/"+p[c].c.replace("<prettyName>",a.media.prettyName)+f:p[c].b?h=p[c].b+f:"fullview"===p[c].t&&"r"in p[c]&&(h=a.media.baseUri+f),h&&(m=ni.wix_compare(h,l,v.rule_specific.deviantart_prefer_size))===h&&(l=m)}}var _=ni.wix_bigimage(l);ni.wix_image_info(l);zi(_,o),o=_,s&&v.rule_specific.deviantart_support_download&&s.download&&s.download.url&&o.unshift({url:s.download.url,is_private:!0})}catch(e){Zr(e)}}return y(zt(o,e))})},ni.get_testcookie_cookie=function(e,t,o,r){var c="testcookie_cookie:"+o,i=e.do_request;t.fetch(c,r,function(u){bn("testcookie_slowaes",e,e.do_request,function(l){if(!l)return Zr(c,"Unable to fetch patched slowAES library"),u(null,!1);i({method:"GET",url:o,headers:{Referer:"",Cookie:""},onload:function(e){if(4===e.readyState){if(200!==e.status)return Yr(c,e),u(null,!1);var t=e.responseText.match(/[a-z]=\s*toNumbers\(["'][0-9a-f]+["']/g);if(!t)return Yr(c,"Unable to find toNumbers match",e),u(null,!1);for(var o={},r=0;r<t.length;r++){var i=t[r].match(/([a-z])=toNumbers\(["']([0-9a-f]+)["']/);o[i[1]]=Pt(i[2])}var n,a,s=e.responseText.match(/slowAES\.decrypt\s*\(\s*(.)\s*,\s*(.)\s*,\s*(.)\s*,\s*(.)\s*\)/);return s?(n=e.responseText.match(/document\.cookie\s*=\s*["']([^='"]*?)=/))?(n=n[1],a=Ht(l.decrypt((a=function(e){return/[a-z]/.test(e)?o[e]:Qr(e)})(s[1]),a(s[2]),a(s[3]),a(s[4]))),void u(n+"="+a,21600)):(Yr(c,"Unable to find cookie name match",e),u(null,!1)):(Yr(c,"Unable to find slowAES match",e),u(null,!1))}}})})})},ni.static_unpack_packer=function(e,o,t,r){function i(e){var t="";return o<=e&&(t=i(Qr(e/o))),t+=35<(e%=o)?N(e+29):e.toString(36)}for(var n=10===o?function(e){return e+""}:o<=36?function(e){return e.toString(o)}:i,a={},s=t;0<=s;s--){var l=n(s);a[l]=r[s]||l}return e.replace(/\b\w+\b/g,function(e){return a[e]})},ni.unpack_packer=function(e){var t,o,r,e=e.match(/eval\(function\(p,a,c,k,e,[rd]\){.*?return p}\('(.*?)',([0-9]+),([0-9]+),'(.*?)'\.split\('[|]'\)(?:,0,{})?\)\)/);return e?(t=e[1].replace(/([^\\])\\'/g,"$1'"),o=parseInt(e[2]),r=parseInt(e[3]),e=e[4].split("|"),ni.static_unpack_packer(t,o,r,e)):null},ni.instagram_username_from_sharedData=function(e){return e.username||((e=e.entry_data).ProfilePage?e.ProfilePage[0].graphql:e.PostPage[0]).user.username},ni.instagram_get_imageid=function(e){var t;return e&&("number"==typeof e?e:(t=e.replace(/.*\/stories\/+[^/]+\/+([0-9]+)\/*(?:[?#].*)?$/,"$1"))===e&&(t=e.replace(/.*\/([^/.?#]*)\.[^/]*(?:[?#].*)?$/,"$1"))===e?null:t)},ni.instagram_norm_url=function(e){return Wt(e,["se","ig_cache_key"])},ni.set_cdninstagram_obj=function(e){return(e="string"==typeof e?{url:e}:e).headers||(e.headers={}),vo(e.headers,"Referer","https://www.instagram.com/"),e.video?vo(e.headers,"Sec-Fetch-Dest","video"):vo(e.headers,"Sec-Fetch-Dest","image"),vo(e.headers,"Sec-Fetch-Mode","cors"),vo(e.headers,"Sec-Fetch-Site","cross-site"),e.need_credentials=!1,e},ni.instagram_parse_el_info=function(h,p,m,L,g,e,t,o){function r(e,t){return"https://www.instagram.com/"+e+"/"+t+"/"}/^[a-z]+:\/\/[^/]*\.instagram\.com\//.test(t);function i(e){try{var t=(t=e.match(/window\._sharedData = *(.*?);?<\/script>/))||e.match(/window\._sharedData *= *(.*?}) *;[\s]*window\.__initialDataLoaded/),o=$(t[1]);if(t=e.match(/window\.__additionalDataLoaded\(["'].*?["']\s*,\s*({.*?})\);?\s*<\/script>/)){var r,i=$(t[1]);for(r in o.entry_data)Gr(o.entry_data[r])&&(i.items&&Gr(i.items)&&(i=i.items[0]),o.entry_data[r][0]=function e(t,o){if("function"==typeof t||Gr(t))return o;if("object"!=typeof t)return o;if("object"!=typeof o)return o;for(var r in o)r in t?t[r]=e(t[r],o[r]):t[r]=o[r];return t}(o.entry_data[r][0],i))}return o}catch(e){Zr(e)}return null}function n(e,t){if(!p)return t(null);var o="instagram_page_query:"+(e=e.replace(/[?#].*/,"").replace(/([^/])$/,"$1/").replace(/^http:/,"https:").replace(/(:\/\/)(instagram\.com\/)/,"$1www.$2").replace(/(:\/\/.*?)\/\/+/g,"$1/"));h.fetch(o,t,function(t){p({method:"GET",url:e,onload:function(e){if(4===e.readyState)return t(e,3600)}})})}function a(e,t){var s="instagram_username_uid:"+(e=e.match(/^http/)?e.replace(/^[a-z]+:\/\/[^/]*\/+(?:stories\/+)?([^/]*)(?:\/.*)?(?:[?#].*)?$/,"$1"):e);h.fetch(s,t,function(a){n("https://www.instagram.com/"+e+"/",function(e){if(!e||200!==e.status)return Zr(s,"Unable to query",e),a(null,!1);var o={},t=re(e.responseText,/"props":{"id":"([0-9]+)",/);if(!t||!t.length)return Zr(s,"Unable to find UID from user page",e),a(null,!1);for(var r=0,i=t;r<i.length;r++){var n=i[r][1];n in o||(o[n]=0),o[n]++}e=Object.keys(o);return e.sort(function(e,t){return o[t]-o[e]}),a(e[0],300)})})}function s(e,t){N(e,t)}function l(e,t){if(!m)return t(null);var r="instagram_story_uid:"+e;h.fetch(r,t,function(o){N("https://i.instagram.com/api/v1/feed/user/"+e+"/story/",function(t){if(!t)return o(null,!1);if(4===t.readyState){if(200!==t.status)Yr(r,t);else try{var e=$(t.responseText);return o(e.reel,600)}catch(e){Yr(r,t),Zr(r,e)}return o(null,!1)}})})}function u(p,e,t){function o(d){l(e,function(t){if(!t)return d(null);try{for(var e=t.items,o=[],r=null,i=0;i<e.length;i++){var n,a,s,l=e[i],u=_(l);u.length<1?Kr("No images found for",l):(n=u[0],a=(o.push(n),n.username&&n.id&&(n.page="https://www.instagram.com/stories/"+n.username+"/"+n.id+"/"),ni.instagram_get_imageid(n.src)),h.set("instagram_story_pic:"+a,n,21600),n.video&&(s=ni.instagram_get_imageid(n.video),h.set("instagram_story_pic:"+s,n,21600)),n.id&&h.set("instagram_story_pic:"+n.id,n,21600),!p||a!==p&&s!==p&&n.id!==p.replace(/_[0-9]+$/,"")||(r=n))}var c=[];return(ri(o,function(e){e.page&&c.push(e.page),e.album_link=e.page,e.album=c}),p)?d(null!==r?r:null):d(o)}catch(e){return Yr(m,t),Zr(m,e),d(null)}})}var m;p?(m="instagram_story_pic:"+p,h.fetch(m,t,function(t){o(function(e){return t(e,!!e&&21600)})})):o(t)}function c(e){return"string"==typeof e?e:e.text||(e.edges&&0<e.edges.length?e.edges[0].node.text:null)}function d(e,t){for(var o=0;o<t.length;o++){if("first"===e)return t[o];if("number"==typeof e){if(e===t[o].i)return t[o]}else{if(0<Wr(t[o].src,e))return t[o];if(t[o].id===e)return t[o]}}return null}function f(e,t,o){var r,i=e;return"string"==typeof i&&"first"!==i&&(i=ni.instagram_get_imageid(e)),(e=d(i,t))?(t=null,r={largest:e},(t=o?d(i,o):t)&&t!==e&&(r.smallest=t),r):null}function _(p){function m(e,t){return t.height||e.original_height/e.original_width*t.width}function h(e,t){if(!e.is_unprocessed||!t.is_unprocessed){if(e.is_unprocessed)return-1;if(t.is_unprocessed)return 1}return t.size-e.size}function e(e,t){for(var o=t.image_versions2.candidates,r=0,i=null,n={},a=0;a<o.length;a++)o[a].corrected_height=m(t,o[a]),o[a].is_unprocessed=0===j(o[a].url).length,o[a].image_id=ni.instagram_get_imageid(o[a].url),o[a].size=o[a].width*o[a].corrected_height,o[a].image_id in n||(n[o[a].image_id]=[]),n[o[a].image_id].push(o[a]);var s,l=[];for(s in n)n[s].sort(h),l.push(n[s][0]);l.sort(h);var u=null;if((u=null!==(i=l[0])?{src:i.url,caption:q(p),shortcode:T(p),page:I(p),username:A(p),created:E(p),id:U(p),width:i.width,height:i.height,i:e+1,total_images:f}:u)&&t.video_versions){for(var r=0,i=null,c=t.video_versions,a=0;a<c.length;a++){c[a].corrected_height=m(t,c[a]);var d=c[a].width*c[a].corrected_height;r<=d&&(r=d,i=c[a])}null!==i&&(u.video=i.url,u.video_width=i.width,u.video_height=i.corrected_height),t.video_dash_manifest&&(u.video_dash=t.video_dash_manifest)}null!==u&&g.push(u)}var g=[],f=1;if("carousel_media"in p)for(var f=p.carousel_media.length,t=0;t<p.carousel_media.length;t++)e(t,p.carousel_media[t]);else f=1,e(0,p);return g}function v(e,t,o){var r,i={},n=null;if(e.caption&&(i.caption=e.caption),e.page&&(i.page=e.page),e.username&&(i.author_username=e.username),e.created&&(i.created_date=e.created),e.shortcode&&(i.id=e.shortcode),e.album)for(var a,n={type:"links",links:a=[]},s=0;s<e.album.length;s++)a.push({url:e.album[s],is_current:e.album_link===e.album[s]});else if(e.total_images&&"i"in e&&!isNaN(e.i)&&e.page){n={type:"links",links:a=[]};for(s=1;s<e.total_images+1;s++)a.push({url:e.page+"#imu-i="+s,is_current:s===e.i})}return e.video_dash&&(r="data:application/dash+xml,"+encodeURIComponent(e.video_dash),o.push(ni.set_cdninstagram_obj({url:r,video:"dash",extra:si(i),album_info:si(n)}))),e.video&&t.push({url:ni.instagram_norm_url(e.video),video:!0,extra:si(i),album_info:si(n)}),t.push({url:ni.instagram_norm_url(e.src),extra:si(i),album_info:si(n)}),zt(t,ni.set_cdninstagram_obj({}),!0)}function b(e){var t,o,r,i,n,a,s;return e?(t=[],o=[],e=(r=e).smallest?(i=(r=si(r)).largest,n=r.smallest,i.video_width*i.video_height<n.video_width*n.video_height&&(a=i.video,i.video=n.video,n.video=a,a=i.video_width,s=i.video_height,i.video_width=n.video_width,i.video_height=n.video_height,n.video_width=a,n.video_height=s),{largest:i,smallest:n}):r,t=v(e.largest,t,o),e.smallest&&(t=v(e.smallest,t,o)),zi(o,t),o):null}function y(e,o){var r;r=function(e){if(e)try{var t=e.entry_data.PostPage[0];return o(t)}catch(e){Zr(e)}return o(null)},n(e,function(e){var t;return e?(t=i(e.responseText))?r(t):(Yr("instagram_sharedData",e),r(null)):r(null)})}function w(i,e,n){if(!e)return n(null);var a="graphql_ig_post:"+e;h.fetch(a,function(t){if(!t)return n(null);var e=!1;if("GraphVideo"!==t.__typename||t.video_url){if("GraphSidecar"===t.__typename)if(t.edge_sidecar_to_children&&t.edge_sidecar_to_children.edges&&0<t.edge_sidecar_to_children.edges.length)for(var o=t.edge_sidecar_to_children.edges,r=0;r<o.length;r++){if(!o[r]||!o[r].node){e=!0;break}if("GraphVideo"===o[r].node.__typename&&!o[r].node.video_url){e=!0;break}}else e=!0}else e=!0;e&&p?y(i,function(e){e&&(h.set(a,e),t=e),n(t)}):n(t)},function(t){y(i,function(e){return e?t(e,3600):t(null,!1)})})}function k(i,u,c){var o,r,e,d=function(e){e=e.match(/^[a-z]+:\/\/[^/]+\/+(?:[^/]+\/+)?(?:p|tv|reel)\/+([^/]+)/);return e?e[1]:null}(i);return o=i,r=d,e=function(e){if(!e)return c(null);try{var r,t=e,o=function(e){function t(){if(Mr&&(Yr("images_app",s),Yr("images_graphql",l)),s&&s.length||(s=null),l&&l.length||(l=null),!s&&!l)return c(null);function o(){var e;return Mr&&(Yr("images_small",si(a)),Yr("images",si(n),u)),u?(e=f(u,n,a))?c(b(e)):(Zr("Unable to find",u,"in",si(n),si(a)),void c(null)):c(n)}if(s&&l&&s.length===l.length){for(var r=0,i=0,e=0;e<s.length;e++)s[e].width*s[e].height<l[e].width*l[e].height?(n[e]=l[e],a[e]=s[e]):(n[e]=s[e],a[e]=l[e]),!function(t){g&&s[t].video&&(i++,ni.find_actual_largest_image(n[t].video,[n[t].video,a[t].video],function(e){r++,e===n[t].video?(n[t].video_width=1e4,n[t].video_height=1e4):e===a[t].video&&(a[t].video_width=1e4,a[t].video_height=1e4),i<=r&&_n(o)},{check_length:!0,api_cache:h,do_request:p}))}(e);if(i)return}else a=s?(n=s,l):(n=l,s);o()}var n=[],a=[],s=[],l=[],o=!1;null!==e?s=_(e.items[0]):(m&&Kr("Unable to use API to find Instagram image, you may need to login to Instagram"),o=!0);o?w(i,d,function(e){e&&(l=_(e)),t()}):t()};m?(r="instagram_mediainfo:"+t,h.fetch(r,o,function(o){s("https://i.instagram.com/api/v1/media/"+t+"/info/",function(t){if(!t)return o(null,!1);if(4===t.readyState){if(200===t.status){var e=null;try{e=$(t.responseText)}catch(e){Yr("instagram_mediainfo",t),Zr("instagram_mediainfo",e)}if(Mr&&Yr("instagram_mediainfo",e),e)return o(e,3600)}else Zr(r,t);o(null,!1)}})})):o(null)}catch(e){Zr(e),c(null)}},h.fetch("ig_shortcode_to_id:"+r,e,function(t){z(r,function(e){if(e)return t(e,86400);w(o,r,function(e){return e&&e.id?t(e.id,86400):t(null,!1)})})}),{waiting:!0}}for(var x,C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",z=function(n,a){ni.get_bigint(p,function(e){if(!e)return a(null);n=n.substring(0,11);for(var t=e.create(0),o=e.create(64),r=0;r<n.length;r++){var i=e.create(Wr(C,n[r])),t=e.mul(t,o);t=e.add(t,i)}return a(e.stringify(t))})},N=function(t,o){if(!p)return o(null);function r(){i||Kr("Unable to find value for x-ig-www-claim header");var e={Accept:"*/*","X-ASBD-ID":"198387","X-IG-App-ID":"936619743392459",Origin:"https://www.instagram.com",Referer:"https://www.instagram.com/","Sec-Fetch-Site":"same-site","Sec-Fetch-Mode":"cors","Sec-Fetch-Dest":"empty"};i&&(e["X-IG-WWW-Claim"]=i),p({method:"GET",url:t,headers:e,onload:o})}var i=null;Ee?Ee("https://www.instagram.com/",["www-claim-v2"],function(e){e&&e["www-claim-v2"]&&(i=e["www-claim-v2"]),r()},{storage:"session"}):r()},S=function(e,o){return a(e,function(e){if(!e)return o(null);var t;t=e,e=function(e){var t;return e?(t=function(t){try{return t.hd_profile_pic_url_info.url}catch(e){try{return t.profile_pic_url}catch(e){return Zr(e,t),null}}}(e),t={url:ni.instagram_norm_url(t),extra:{author_username:e.username,page:"https://www.instagram.com/"+e.username}},o(ni.set_cdninstagram_obj(t))):o(null)},h.fetch("instagram_uid_to_profile:"+t,e,function(o){s("https://i.instagram.com/api/v1/users/"+t+"/info/",function(t){if(!t)return o(null,!1);if(4===t.readyState)try{var e=$(t.responseText).user;o(e,300)}catch(e){Yr("instagram_uid_to_profile",t),Zr("instagram_uid_to_profile",e),o(null,!1)}})})}),{waiting:!0}},q=function(e){return e.caption?c(e.caption):e.title?c(e.title):e.edge_media_to_caption?c(e.edge_media_to_caption):void 0},T=function(e){return e.shortcode||e.code||null},I=function(e){var t=T(e);return t?"igtv"===e.product_type?r("tv",t):"clips"===e.product_type?r("reel",t):r("p",t):null},A=function(e){e=e.user||e.owner;return e&&e.username?e.username:null},E=function(e){return e.date?1e3*e.date:e.taken_at_timestamp?1e3*e.taken_at_timestamp:e.created_time?1e3*e.created_time:e.taken_at?1e3*e.taken_at:null},U=function(e){return e.id&&"string"==typeof e.id?e.id.replace(/_[0-9]+$/,""):e.pk?e.pk.toString():null},j=function(e){var t=(t=e.replace(/^[a-z]+:\/\/[^/]+\/+/,"").replace(/\/[^/]+(?:[?#].*)?$/,"")).split(/\/+/g),o=[],t=(ri(t,function(e){"v"===e||/^e[0-9]+$/.test(e)||/^t[0-9]+\./.test(e)||o.push(e)}),Bt(e));return t&&t.stp&&(e=t.stp.split("_"),ri(e,function(e){/^e[0-9]+$/.test(e)||/^dst-/.test(e)||Ni(o,e)})),o},M=function(e,t,o){return"undefined"!=typeof document&&document.documentElement.innerHTML,k(e,t,o)},P=function(e,r,i,t){var o=e.replace(/.*\/stories\/+([^/]*).*$/,"$1");return o===e?null:(a(o,function(e){if(!e)return i(null);var t,o=ni.instagram_get_imageid(r);!o&&r&&(t=r.replace(/.*\/stories\/+[^/]+\/+([0-9]+)\/*(?:[?#].*)?$/,"$1"))!==r&&(o=t),u(o,e,function(e){var t;return e?(Gr(e=e)||(e=[e]),o&&r?(t=f(r,e))?(t=b(t),i(t)):(Kr("Unable to find",r,"in",si(e)),i(null)):i(e)):i(null)})}),{waiting:!0})},R=e,H=o,D=0;D<R.length;D++)if(x=function(e,t){var o;if("post"===e.type){if(e.all&&(e.image=null),o=M(e.url,e.image,t));}else if("profile"===e.type){if(o=S(e.url,t));}else if("story"===e.type&&(e.all&&(e.image=null),o=P(e.url,e.image,t)));return o}(R[D],H))return x;return x},ni.instagram_get_el_for_imageid=function(t){var o=t;if("VIDEO"===(o="SOURCE"===o.tagName?o.parentElement:o).tagName&&o.parentElement)try{o=(o=o.parentElement.querySelectorAll("img[srcset]"))&&0!==o.length?o[0]:t}catch(e){Zr(e),o=t}else o=t;return o},ni.instagram_get_image_src_from_el=function(e){if(e.hasAttribute("data-imu-data"))try{var t=$(e.getAttribute("data-imu-data"));if(t.src)return t.src}catch(e){Zr(e)}if("VIDEO"===e.tagName)return e.poster||e.currentSrc||e.src;if("IMG"===e.tagName)return e.src;if("DIV"===e.tagName)return e.style.backgroundImage.replace(/^url\(["'](.*)["']\)$/,"$1");if("SOURCE"===e.tagName){if(e.parentElement){t=ni.instagram_get_image_src_from_el(e.parentElement);if(t)return t}return e.src}Zr("Unable to find source for",e)},ni.instagram_find_el_info=function(e,t,o){var r=[],i=ni.instagram_get_image_src_from_el(t);if(t.hasAttribute("data-imu-info"))try{for(var n=$(t.getAttribute("data-imu-info")),a=0;a<n.length;a++)n[a].element=t,n[a].image||(n[a].image=i),delete n[a].all;return n}catch(e){Zr("Unable to parse data-imu-info for",t)}for(var s,l=t;l=l.parentElement;)"A"===l.tagName&&(l.href.match(/:\/\/[^/]+\/+(?:[^/]+\/+)?(?:p|tv|reel)\//)?r.push({type:"post",subtype:"link",url:l.href,image:i,element:l}):l.href.match(/:\/\/[^/]+\/+[^/]+(?:\/+(?:[?#].*)?)?$/)&&r.push({type:"profile",subtype:"link",url:l.href,element:l}));for(l=t;l=l.parentElement;){if("HEADER"===l.tagName){var u,c=o;if(c.match(/:\/\/[^/]+\/+p\//)){if("SPAN"===t.parentElement.tagName&&"link"===t.parentElement.getAttribute("role"))for(var d=l.getElementsByTagName("a"),a=0;a<d.length;a++){var p=d[a],m=p.href.match(/^[a-z]+:\/\/[^/]+\/+([^/]+)\/*(?:[?#].*)?$/);if(m&&di(p.innerText).toLowerCase()===m[1].toLowerCase()){u=di(p.innerText).toLowerCase();break}}if(!u)try{var h=l.querySelector("h2 > a");di(h.innerText)===di(h.title)&&(u=h.innerText)}catch(e){}if(!u)try{u=l.querySelector("section h1").innerText}catch(e){Zr(e)}c=u?"https://www.instagram.com/"+di(u):null}c&&r.push({type:"profile",subtype:"page",url:c,element:l})}("DIV"===l.tagName&&"dialog"===l.getAttribute("role")||"BODY"===l.tagName&&o.match(/:\/\/[^/]*\/+(?:[^/]+\/+)?(?:p|tv|reel)\//))&&r.push({type:"post",subtype:"BODY"===l.tagName?"page":"popup",url:o,image:i,element:l}),"ARTICLE"===l.tagName&&o.match(/:\/\/[^/]+\/+(?:[?#].*)?$/)&&(c=(c=l.querySelector("a > time"))||l.querySelector("a > div > time"))&&(s=(s="A"!==(s=c.parentElement).tagName?s.parentElement:s).href,/:\/\/[^/]*\/+(?:[^/]+\/+)?p\//.test(s))&&r.push({type:"post",subtype:"home",url:s,image:i,element:l}),"BODY"===l.tagName&&o.match(/:\/\/[^/]*\/+stories\/+([^/]*)(?:\/+[0-9]+)?\/*(?:[?#].*)?$/)&&(s=ni.instagram_get_el_for_imageid(t),r.push({type:"story",url:o,image:ni.instagram_get_image_src_from_el(s),element:l}))}return r},ni.twitter_normalize_status_link=function(e){return e.match(/\/status\/+([0-9]+)(?:\/+(?:retweets|likes|photo|video)(?:\/+.*)?|\/*)(?:[?#].*)?$/)?e.replace(/(\/status\/+[0-9]+)\/*.*(?:[?#].*)?$/,"$1"):null},ni.get_twitter_tweet_link=function(e){for(var t=e;t=t.parentElement;){if("A"===t.tagName)if(i=ni.twitter_normalize_status_link(t.href))return i;if("ARTICLE"===t.tagName){for(var o=t.querySelectorAll("a[role='link']"),r=0;r<o.length;r++){var i,n=o[r].href;if(n)if(i=ni.twitter_normalize_status_link(n))return i}break}}return null},ni.get_twitter_caption=function(e){for(var t=e;t=t.parentElement;)if("ARTICLE"===t.tagName){var o=t.querySelectorAll("div[lang]");if(o&&1===o.length)return o[0].innerText;break}return null},ni.get_twitter_video_tweet=function(e,t){if("VIDEO"===e.tagName&&e.src.match(/^blob:/)){var o=e.poster;if(o&&/\/ext_tw_video_thumb\/+[0-9]+\/+pu\/+img\//.test(o)){if(a=t.location.href.match(/\/i\/+videos\/+tweet\/+([0-9]+)(?:[?#].*)?$/))return{id:a[1]};for(var r=e;r=r.parentElement;)if("ARTICLE"===r.tagName){for(var i=r.querySelectorAll("a[role='link']"),n=0;n<i.length;n++){var a,s=i[n].href;if(s)if(a=s.match(/\/status\/+([0-9]+)(?:\/+(?:retweets|likes)|\/*)(?:[?#].*)?$/))return{id:a[1]}}break}}}return null},ni.get_snapchat_story=function(e,t,r,o){e.fetch("snapchat_story:"+r,o,function(o){t({method:"GET",url:"https://search.snapchat.com/lookupStory?id="+r,headers:{"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site",Origin:"https://www.snapchat.com",Referer:"https://www.snapchat.com/add/"+r},onload:function(t){if(4===t.readyState){if(200!==t.status)return Zr(t),o(null,!1);try{var e=$(t.responseText);return o(e,60)}catch(e){return Zr(e,t),o(null,!1)}}}})})},ni.get_snapchat_storysharing=function(e,t,r,o){e.fetch("snapchat_storysharing:"+r,o,function(o){t({method:"GET",url:"https://storysharing.snapchat.com/v1/fetch/"+r+"?request_origin=ORIGIN_WEB_PLAYER",headers:{"sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-site",Origin:"https://www.snapchat.com",Referer:"https://www.snapchat.com/add/"+r},onload:function(t){if(4===t.readyState){if(200!==t.status)return Zr(t),o(null,!1);try{var e=$(t.responseText).story;return o(e,60)}catch(e){return Zr(e,t),o(null,!1)}}}})})},ni.snap_norm_obj=function(e){var t=e.url.match(/:\/\/[^/]+\/+[0-9a-f]{2}\/+([^/]{10,})\//);return t&&(e.filename=t[1].replace(/[-=]/g,"")),e},ni.snap_to_obj=function(e){var t=null,e={url:e.media.mediaUrl,extra:{caption:t||null},need_blob:!0};return ni.snap_norm_obj(e),e},ni.get_snapchat_info_from_el=function(e){if(e.getAttribute("data-imu"))return{username:e.getAttribute("data-username"),pos:Qr(e.getAttribute("data-pos")),url:e.getAttribute("data-url")};if("VIDEO"===e.tagName||"IMG"===e.tagName||"DIV"===e.tagName&&e.style.backgroundImage&&!(e.style.backgroundImage.indexOf("blob:")<0))for(var t=e;t=t.parentElement;)if("DIV"===t.tagName&&"storyWebPlayer"===t.getAttribute("data-test")){if(/:\/\/s\.sc-cdn\.net\//.test(e.src)){var o=t.querySelector('a[data-test="userName"]');if(o)return{username:di(o.innerText),pos:0};Zr("Unable to find username element")}}else if("DIV"===t.tagName&&"presentation"===t.getAttribute("role")){for(var r="",i=t.getElementsByTagName("a"),n=0;n<i.length;n++){var a=i[n].href.match(/^[a-z]+:\/\/story\.snapchat\.com\/+s\/+([^/?#]+)(?:[?#].*)?$/);if(a){r=a[1];break}}o=0;return t.querySelector("#PrevButton")&&(o=1),{username:r,pos:o=t.querySelector("#NextButton")?o:-1}}return null},ni.get_obj_from_snap_info=function(e,t,o,r){if(!o)return r(null);ni.get_snapchat_storysharing(e,t,o.username,function(e){return e?(-1===o.pos&&(o.pos=e.snaps.length-1),r(ni.snap_to_obj(e.snaps[o.pos]))):r(null)})},ni.get_md5=function(e,t,o){bn("cryptojs_aes",e,e.do_request,function(e){if(!e)return Zr("Unable to fetch CryptoJS"),o(null);try{return o(e.MD5(t).toString())}catch(e){return Zr(e),o(null)}})},ni.get_tiktok_urlvidid=function(e){e=e.match(/^[a-z]+:\/\/[^/]+\/+(?:[0-9a-f]{32}\/+[0-9a-f]{8}\/+)?video\/+(?:[^/]+\/+)?[^/]+\/+[^/]+\/+([0-9a-f]{32})\/*\?/);return e?e[1]:null},ni.set_tiktok_vid_filename=function(e){var t=ni.get_tiktok_urlvidid(e.url);return!!t&&(e.filename=t+".mp4",!0)},ni.get_tiktok_weburl_parts=function(e){e=e.match(/^[a-z]+:\/\/[^/]+\/+@([^/]+)\/+video\/+([0-9]+)(?:[?#].*)?$/);return e?{username:e[1],web_vid:e[2]}:null},ni.get_tiktok_from_ttloader=function(e,t,o,r,i){var n=e+":"+r;e=e.replace(/:.*/,""),g(t,o,n,{url:"https://"+e+"/wp-json/wppress/tiktok-downloader/videos?search="+encodeURIComponent(r)+"&type=video_url&max=0",headers:{Referer:"https://"+e+"/?tiktok-search="+encodeURIComponent(r),"X-Requested-With":"XMLHttpRequest","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"same-origin",Accept:"application/json, text/javascript, */*; q=0.01"},json:!0},i,function(e,t,o){var r=t.items[0].video.noWatermark;return r?e(r,3600):(Zr(o,"Unable to find noWatermark from",t),e(null,!1))})},ni.get_tiktok_from_ttloader_token=function(o,e,t,r,i,a){r=r.replace(/\?.*/,"");function n(e,t,o,r,i){var n="",e=e+":"+t+(n="videos"===o?"0":n)+":"+r,t=unescape(encodeURIComponent(e));ni.get_md5(a,t,i)}var s="https://"+(o=o.replace(/:.*/,""))+"/?tiktok-search="+encodeURIComponent(r);"savevideo.ninja"===o&&(s="https://"+o+"/tiktok-no-watermark-video-downloader/?tiktok-search="+encodeURIComponent(r));g(e,t,o+":token",{method:"POST",url:"https://"+o+"/wp-json/wppress/tiktok-downloader/token",imu_mode:"xhr",data:"",headers:{Origin:"https://"+o,Referer:s,"x-requested-with":"XMLHttpRequest"},json:!0},function(e){if(!e)return i(null);n(e,r,"nowatermark",navigator.userAgent,function(e){return i(e?(e=e,t=r,{url:t="https://"+o+"/wp-admin/admin-ajax.php?action=wppress_tt_download&url="+encodeURIComponent(r)+"&key=no-watermark&token="+e,headers:{Referer:"https://"+o+"/?tiktok-search="+encodeURIComponent(t),Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"same-origin","Sec-Fetch-User":"?1"},cookie_url:"https://"+o+"/",is_private:!0}):null);var t})},function(e,t,o){return t.token?e(t.token,3600):(Zr(o,"Unable to find token from",t),e(null,!1))})},ni.get_tiktok_from_socialvideodownloader=function(e,t,o,r,i){var n=e+":"+r;e=e.replace(/:.*/,""),g(t,o,n,{url:"https://"+e+"/wp-json/wppress/video-downloader/videos?url="+encodeURIComponent(r),headers:{Referer:"https://"+e+"/","Sec-Fetch-Dest":"empty","Sec-Fetch-Mode":"cors","Sec-Fetch-Site":"same-origin",Accept:"application/json, text/javascript, */*"},json:!0},i,function(e,t,o){for(var r=t[0].urls,i={},n=0;n<r.length;n++)i[r[n].id]=r[n];return"vid-no-watermark"in i?e(i["vid-no-watermark"].src,3600):(Zr(o,"Unable to find vid-no-watermark in",{ids:i,resp:t}),e(null,!1))})},ni.get_tiktok_from_keeptiktok=function(e,t,o,r,i){var n=ni.get_tiktok_weburl_parts(r);if(!n)return Zr("Invalid url",r),i(null);g(t,o,e+":"+r,{url:"https://"+e+"/"+n.username.replace(/\..*/,"")+"/"+n.web_vid},i,function(e,t,o){var r=t.responseText.match(/<video[^>]+>\s*<source src="(https?:\/\/[^/]*(?:tiktok|bytei)cdn\.[^"]+)"/);return r?e(Ft(r[1]),3600):(Zr(o,"Unable to find match for",t),e(null,!1))})},ni.get_tiktok_from_snaptik=function(i,e,t,o,r){if(!ni.get_tiktok_weburl_parts(o))return Zr("Invalid url",o),r(null);var n,a;n=(n=o).replace(/[?#].*/,""),a=i+":"+n,e.fetch(a,r,function(r){t({url:"https://snaptik.app/",imu_mode:"document",method:"GET",onload:function(e){if(200!==e.status)return Zr(a,e),r(null,!1);t({method:"POST",url:"https://"+i+"/action.php",imu_mode:"xhr",imu_multipart:{url:n},headers:{Origin:"https://snaptik.app",Referer:"https://snaptik.app/"},onload:function(e){var o,t;return 200!==e.status?(Zr(a,e),r(null,!1)):(t=e.responseText.match(/<a[^>]*\s+href=["'](?:https?:\/\/(?:(?:sv|cdn)[0-9]*\.)?(?:snaptik\.app|snapsave\.info))?\/+dl\.php\?token=([^&'"]+)/))?(o=decodeURIComponent(Ft(t[1])).replace(/^s|s$/g,"").split("/"),ri(o,function(e,t){o[t]=k(e)}),t=o.join("?"),void r({url:t,cookie_url:"https://"+i+"/"},3600)):(Zr(a,"Unable to find match for",e),r(null,!1))}})}})})},ni.get_tiktok_from_musicallydown=function(o,r,i,n,a){g(r,i,"musicallydown:vtoken",{url:"https://musicallydown.com"},function(e){if(!e)return a(null);var t;t=a,g(r,i,o+":"+n,{url:"https://musicallydown.com/download",method:"POST",imu_mode:"document",headers:{"Content-Type":"application/x-www-form-urlencoded",Origin:"https://musicallydown.com",Referer:"https://musicallydown.com/"},data:(e=e).link_name+"="+encodeURIComponent(n)+"&"+e.token_name+"="+e.token_value+"&verify=1"},t,function(e,t,o){var r=t.responseText.match(/<a\s+(?:style="[^"]+"\s+)?target="_blank" rel="noreferrer" href="(https?:\/\/[^/]*tiktokcdn\.com\/[^"]+)"[^>]*>\s*<i[^>]*>[^<]*<\/i>\s*Download MP4/);return r?e(Ft(r[1]),3600):(Zr(o,"Unable to find match from",t),e(null,!1))})},function(e,t,o){var r,i=t.responseText.match(/<input name="(_[a-zA-Z0-9]+)" type="hidden" value="([0-9a-f]{5,})"\s*\/>/);return i?(r={token_name:i[1],token_value:i[2]},(i=t.responseText.match(/<input name="(_?[a-zA-Z0-9]+)" type="text"[^/>]+id="link_url"/))?(r.link_name=i[1],e(r,!1)):(Zr(o,"Unable to find link name from",t),e(null,!1))):(Zr(o,"Unable to find token from",t),e(null,!1))})},ni.get_tiktok_from_ssstiktok=function(r,i,n,a,s){g(i,n,"ssstiktok:token",{url:"https://ssstik.io"},function(e){if(!e)return s(null);var t,o;t=s,o=r+":"+a,(e=e).queries.id=encodeURIComponent(a),g(i,n,o,{url:e.url,method:"POST",imu_mode:"xhr",headers:{"HX-Active-Element":"submit","HX-Current-URL":"https://ssstik.io/","HX-Request":"true","HX-Target":"target","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},data:fn(e.queries)},t,function(e,t,o){var r=t.responseText.match(/<a href="(https?:\/\/[^/]*tiktokcdn\.com\/[^"]+)"[^>]*>Without watermark/);return r?e(Ft(r[1]),3600):(Zr(o,"Unable to find match for",t),e(null,!1))})},function(t,e,o){var r=e.responseText.match(/<form.*?data-hx-post=".*?>/);if(!r)return Zr(o,"Unable to find match from",e),t(null,!1);var i=po(r[0]),n=cn("https://ssstik.io/",i.args["data-hx-post"],!0);try{var a=$(ho("{"+i.args["include-vals"]+"}"))}catch(e){return Zr(o,e),t(null,!1)}return(r=e.responseText.match(/<input id="locale".*?>/))?(i=po(r[0]),a.locale=i.args.value,t({url:n,queries:a},!1)):(Zr(o,"Unable to find locale",e),t(null,!1))})},ni.get_tiktok_from_tikmate=function(e,t,o,r,i){var n=ni.get_tiktok_weburl_parts(r);if(!n)return Zr("Invalid url",r),i(null);var a="https://"+e+"/"+n.username.replace(/_/g,"-")+"/"+n.web_vid;r=function(){i({url:"https://"+e+"/dl.php",headers:{Accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","Accept-Language":"en-US,en;q=0.9","Cache-Control":"no-cache",Pragma:"no-cache",Referer:a,"Sec-Fetch-Dest":"document","Sec-Fetch-Mode":"navigate","Sec-Fetch-Site":"same-origin","Sec-Fetch-User":"?1"},cookie_url:"https://"+e+"/",can_head:!1,video:!0})},g(t,o,e+":cookie:"+n.username+"/"+n.web_vid,{url:a},r,function(e,t,o){e(null,21600)})},ni.get_tiktok_from_3rdparty=function(e,t,o,r,i){var n={"ttloader.com:ttt":ni.get_tiktok_from_ttloader_token,"onlinetik.com:ttt":ni.get_tiktok_from_ttloader_token,"demo.wppress.net:tt":ni.get_tiktok_from_ttloader,"tiktokdownloader.in:ttt":ni.get_tiktok_from_ttloader_token,"savevideo.ninja:ttt":ni.get_tiktok_from_ttloader_token,"tikdowns.com:ttt":ni.get_tiktok_from_ttloader_token,"ssstiktok.net:ttt":ni.get_tiktok_from_ttloader_token,"demo.wppress.net:svd":ni.get_tiktok_from_socialvideodownloader,"savevideo.ninja:svd":ni.get_tiktok_from_socialvideodownloader,"keeptiktok.com":ni.get_tiktok_from_keeptiktok,"ssstiktok.io:1":ni.get_tiktok_from_ssstiktok,"musicallydown.com:1":ni.get_tiktok_from_musicallydown,"snaptik.app":ni.get_tiktok_from_snaptik,"tikmate.online":ni.get_tiktok_from_tikmate};if(!(e in n))return Zr("Invalid site",e,n),i(null);n[e](e,t,o.do_request,r,i,o)},ni.get_best_tiktok_url=function(s,t,r,i){var n=r,e=function(e){if(!e)return i(null);var a;a=e,e=function(e){var t,o;i((e=e,t=r,o=ni.get_tiktok_urlvidid(t),e=ni.get_tiktok_urlvidid(e=e||t)===o?t:e))},s.fetch("tiktok_watermarkfree:"+a,e,function(r){var i="https://api2-16-h2.musical.ly/aweme/v1/play/?video_id="+a+"&ratio=default&improve_bitrate=1",n=function(o){t({url:i,headers:{Referer:"https://www.tiktok.com/",Accept:"*/*","Sec-Fetch-Dest":"video","Sec-Fetch-Mode":"no-cors","Sec-Fetch-Site":"cross-site"},method:"HEAD",onload:function(e){var t;if(4===e.readyState)return 503===e.status&&o<5?setTimeout(function(){n(o+1)},500):200!==e.status&&302!==e.status?(Zr(e),r(null,!1)):(e=Ut(ao(e)))===i&&o<5?setTimeout(function(){n(o+1)},500):((t=ni.get_tiktok_urlvidid(e))&&!s.has(t="tiktok_vidid:"+t)&&s.set(t,a,3600),r(e,3600))}})};n(0)})};o=n;var o,a=(a=ni.get_tiktok_urlvidid(o))?"tiktok_vidid:"+a:(Kr("Unknown video URL:",o),null);a?s.fetch(a,e,function(o){function e(e){var t;if(!r)return e.responseText?void((t=e.responseText.match(/mdtacomment[\s\S]{10,400}vid:([0-9a-z]{32})/))?(i.abort(),r=!0,o(t[1],86400)):4===e.readyState&&4===e.readyState&&(i.abort(),r=!0,Kr("Unable to find video ID for",n),200!==e.status?o(null,!1):o(null,60))):4!==e.readyState||e.loaded&&e.total&&200===e.status?void 0:(i.abort(),r=!0,Zr(e),o(null,!1))}var r=!1,i=t({url:n,method:"GET",headers:{Referer:"https://www.tiktok.com/"},onprogress:e,onload:e})}):e(null)},ni.tiktok_remove_watermark=function(t,o,r,i,n){if(!o.rule_specific)return n(null);function a(e){return e?n(e):0===s.length?n(null):(e=s[0],s.shift(),void("[local]"===e?ni.get_best_tiktok_url(t,o.do_request,r,a):ni.get_tiktok_from_3rdparty(e,t,o,i,a)))}var e,s=[];o.rule_specific.tiktok_no_watermarks&&s.push("[local]"),o.rule_specific.tiktok_thirdparty&&i&&(e=o.rule_specific.tiktok_thirdparty,Gr(e)&&(e=e[0]),s.push(e));a()},ni.youtube_fetch_watchpage_raw=function(e,t,o,r){var i="https://www.youtube.com/watch?v="+o;/^embed:/.test(o)&&(i="https://www.youtube.com/embed/"+o.replace(/^embed:/,"")+"/"),g(e,t.do_request,"youtube_watchpage_raw:"+o,{url:i},r,function(e,t,o){return e(t.responseText,3600)})},ni.youtube_fetch_watchpage_config=function(e,t,o,n,r){var a="youtube_watchpage_config:"+o+":"+n;e.fetch(a,r,function(i){ni.youtube_fetch_watchpage_raw(e,t,o,function(t){if(t){var o,e=[n];if("config"!==n&&e.push("config"),ri(e,function(e){e=new RegExp("ytplayer\\."+e+"\\s*=\\s*({.*?});");if(o=t.match(e))return!1}),o){e=!1;if(/:ytInitialPlayerResponse|:(?:window\.)?ytplayer\.bootstrapPlayerResponse/.test(o[1])){if(!(o=t.match(/(?:window\["ytInitialPlayerResponse"\]|var ytInitialPlayerResponse)\s*=\s*({.*?});/)))return Kr(a,"Unable to find ytInitialPlayerResponse for",{data:t}),i(null,!1);e=!0}try{var r=$(o[1]);return e&&(r.imu_need_args=!1),i(r,18e3)}catch(e){Zr(a,e,{json:o[1]})}}else Kr(a,"Unable to find ytplayer."+n+" for",{data:t})}return i(null,!1)})})},ni.youtube_fetch_watchpage=function(e,t,o,r){return ni.youtube_fetch_watchpage_config(e,t,o,"config",function(t){if(t)try{var e,o;return!1===t.imu_need_args?r(t):(e=t.args.player_response,o=$(e),r(o))}catch(e){Zr(e,t)}return r(null)})},ni.youtube_fetch_ytcfg=function(e,t,o,r){var i="youtube_ytcfg:"+o;e.fetch(i,r,function(r){ni.youtube_fetch_watchpage_raw(e,t,o,function(t){if(!t)return r(null,!1);var o=t.match(/;\s+ytcfg\.set\(({.*})\);/);if(!o)return Yr(i,"Unable to find ytcfg match for",{data:t}),r(null,!1);var o=o[1],e=null;try{e=$(o)}catch(e){return Zr(i,e,{data:t,jsonstr:o}),r(null,!1)}return r(e,18e3)})})},ni.youtube_fetch_asset=function(e,i,t,n,o){var a="youtube_asset:"+n;e.fetch(a,o,function(r){ni.youtube_fetch_ytcfg(e,i,t,function(t){if(!t)return r(null,!1);var e=null;try{var o=t.WEB_PLAYER_CONTEXT_CONFIGS.WEB_PLAYER_CONTEXT_CONFIG_ID_KEVLAR_WATCH;n+"Url"in o&&(e=o[n+"Url"])}catch(e){return Zr(a,e,t),r(null,!1)}if(!e)return Kr("Unable to find asset",n,"in",t),r(null,!1);o=cn("https://www.youtube.com/",e,!0);i.do_request({url:o,method:"GET",headers:{Referer:"https://www.youtube.com/"},onload:function(e){return 200!==e.status?(Zr(a,e),r(null,!1)):r(e.responseText,3600)}})})})},ni.youtube_fetch_embed=function(e,t,o,r){var i="youtube_embed_info:"+o;e.fetch(i,r,function(r){ni.youtube_fetch_ytcfg(e,t,"embed:"+o,function(t){if(!t)return r(null,!1);try{var e=t.PLAYER_VARS.embedded_player_response,o=$(e);return r(o,18e3)}catch(e){return Zr(i,e,t),r(null,!1)}})})},ni.parse_flixv2=function(e,t){var o=/<item>\s*<res>([^<]+)<\/res>\s*<videoLink>(?:<!\[CDATA\[)?(.*?)(?:\]\]>)?<\/videoLink>/,r=new RegExp(o,"g"),i=e.responseText.match(r);if(!i)return Zr(t,"Unable to find items in",e),null;for(var n=[],a=0;a<i.length;a++){var s=i[a].match(o),l=s[1],s=Ft(s[2]);n.push({url:s,quality:Qr(l),video:!0})}n.sort(function(e,t){return t.quality-e.quality});for(a=0;a<n.length;a++)delete n[a].quality;return n},ni.parse_mediadefinition=function(e,t,o){if(t)try{for(var r=0,i=null,n=0;n<t.mediaDefinition.length;n++){var a=t.mediaDefinition[n];a.videoUrl&&(a.quality=Qr(a.quality),a.quality>r)&&(r=a.quality,i=a)}var s=i.videoUrl;return{url:s=e.replace(/[?#].*$/,"").replace(/^[a-z]+:\/\/[^/]+\/+/,"")===s.replace(/[?#].*$/,"").replace(/^[a-z]+:\/\/[^/]+\/+/,"")?e:s,extra:{page:t.link_url,caption:t.video_title},headers:{Referer:t.link_url},video:!0,is_private:!0}}catch(e){Zr(o,e)}return null},ni.get_parent_el_matching=function(e,t){for(var o=e;o;){if(t(o))return o;o=o.parentElement}return null},ni.get_link_el_matching=function(e,t){"object"==typeof(t=t)&&t instanceof RegExp&&(o=t,t=function(e){return o.test(e.href)});var o,r=t;return ni.get_parent_el_matching(e,function(e){return"A"===e.tagName&&r(e)})},ni.get_pagelink_el_matching=function(e,t){e=ni.get_link_el_matching(e,t);return e?{url:e.href,is_pagelink:!0}:null},ni.get_host_el_matching=function(e,t,o){return(e=ni.get_parent_el_matching(e,o))?{url:t,is_pagelink:!0}:null},ni.get_pagelink_host_el_matching=function(e,t){var o=ni.get_pagelink_el_matching(e.element,t.url_match);return o||(t.url_match.test(e.host_url)?ni.get_host_el_matching(e.element,e.host_url,t.el_match)||void 0:null)},ni.is_pinterest_domain=function(e){e=zn(e);return!!/^pinterest\./.test(e)},ni.get_jsonformatter_for_cryptojs=function(o){return{stringify:function(e){var t={ct:e.ciphertext.toString(o.enc.Base64)};return e.iv&&(t.iv=e.iv.toString()),e.salt&&(t.s=e.salt.toString()),Or(t)},parse:function(e){var e=$(e),t=o.lib.CipherParams.create({ciphertext:o.enc.Base64.parse(e.ct)});return e.iv&&(t.iv=o.enc.Hex.parse(e.iv)),e.s&&(t.salt=o.enc.Hex.parse(e.s)),t}}},ni.create_dash_stream=function(r){function e(e,t){var o='<AdaptationSet mimeType="'+e+'">\n';return ri(t,function(e){var t;o+=(t="  <Representation",t=(t=(t=(t=(t=(t=(t+=s("mimeType",(e=e).mime))+s("codecs",e.codecs))+s("bandwidth",e.bandwidth))+s("width",e.width))+s("height",e.height))+s("id",e.id)+">\n")+"    <BaseURL>"+Ot(e.url)+"</BaseURL>\n",(e.index_range||e.init_range)&&(t=(t+="    <SegmentBase")+s("indexRange",l(e.index_range))+">\n",e.init_range&&(t=(t+="      <Initialization")+s("range",l(e.init_range))+" />\n"),t+="    </SegmentBase>\n"),(t+="  </Representation>")+"\n")}),o+="</AdaptationSet>"}var t,o,i,n,a='<?xml version="1.0"?>\n',s=(a+='<MPD xmlns="urn:mpeg:dash:schema:mpd:2011" type="static"',function(e,t){return void 0===t?"":" "+e+'="'+Ot(t+"")+'"'}),l=(r.duration&&(i=r.duration/60/60|0,t=(r.duration/60|0)%60,o=r.duration%60,a+=s("mediaPresentationDuration","PT"+i+"H"+t+"M"+o+"S")),a=a+' profiles="urn:mpeg:dash:profile:isoff-main:2011">\n'+"<Period>\n",function(e){return e.start+"-"+e.end});for(n in r.mimes||(r.mimes={},(i=function(o){var e="audio"===o?r.audios:r.videos;ri(e,function(e){if(!e.mime){var t=e.url.replace(/^[^?#]+\.([^/.?#]+)(?:[?#].*)?$/,"$1");if(t===e.url)return void Kr("Unable to get mime for",e);e.codecs||("mp4"===t?e.codecs="avc1.640028":"mp3"===t&&(e.codecs="mp3")),e.mime=o+"/"+(t="mp3"===t?"mp4":t)}e.mime in r.mimes||(r.mimes[e.mime]=[]),r.mimes[e.mime].push(e)})})("video"),i("audio")),r.mimes)a+=e(n,r.mimes[n])+"\n";return a+="</Period>\n</MPD>\n"},ni.get_videotag_sources=function(e){var o,t,r,i=e.match(/<video[\s\S]+?<\/video>/i);return i?(r=po(i[0]))?(o=function(e){e.url=e.args.src,t.video.push(e)},t={video:[],image:[]},r.args.src&&o(r),r.args.poster&&t.image.push(r.args.poster),(r=i[0].match(/<source.*?\/?>\s*(?:<\/source>)?/g))&&ri(r,function(e){var t=po(e);t?t.args.src&&o(t):Kr("Unable to parse <source> tag",e)}),fo(t)):(Zr("Unable to parse <video> tag",i[0]),null):(Zr("Unable to find video tag from",{text:e}),null)},ni.get_holaplayer_sources=function(e){if("{"!==e[0]){var t=e.match(/window\.hola_player\(({.*?}),\s*function/);if(!t)return Zr("Unable to find hola_player match from",{text:e}),null;e=t[1]}var o,r,i;return(t=e.match(/sources["']?:\s*(\[{.*?}\]),/))?(o=$(ho(t[1])),r=null,(t=e.match(/poster["']?:\s*["'](https?:\/\/[^"']+)["'],/))?r=t[1]:Kr("Unable to find poster match for",{text:e}),i={video:[],image:[]},r&&i.image.push(r),ri(o,function(e){i.video.push({src:e.src,type:e.type,url:e.src})}),fo(i)):(Zr("Unable to find sources match for",{text:e}),null)},ni.get_obj_from_videosources=function(o,e){var r=[];return ri(e.video,function(e){var t=!0;("application/x-mpegURL"===e.type||0<=Wr(e.url,".m3u8"))&&(t="hls"),r.push({url:cn(o,e.url,!0),video:t})}),ri(e.image,function(e){r.push(cn(o,e,!0))}),r},ni.get_videotag_obj=function(e,t){"ogimage"in(t=t||{})||(t.ogimage=!0),"videotag"in t||(t.videotag=!0);var o,r,i,n,a,s,l={video:[],image:[]};return(!t.videotag||(l=ni.get_videotag_sources(e.responseText)))&&(r={headers:{Referer:o=(o=mo(e.responseText,"og:url"))?cn(e.finalUrl,o,!0):e.finalUrl},extra:{page:o}},(a=mo(e.responseText,"og:title"))&&(r.extra.caption=a),l.video.sort(function(e,t){return e.args.res&&t.args.res?t.args.res-e.args.res:0}),i=[],ri(l.video,function(e){i.push(cn(o,e.url,!0))}),t.ogvideo&&(a=mo(e.responseText,"og:video"))&&Ni(i,cn(o,a,!0)),n=[],ri(l.image,function(e){n.push(cn(o,e,!0))}),t.ogimage&&(a=mo(e.responseText,"og:image"))&&Ni(n,cn(o,a,!0)),s=[],ri(i,function(e){s.push({url:e,video:!0})}),zi(s,n),s.length)?zt(s,r):null},ni.update_album_info_links=function(o,r){var i=o.album_info.links,n=!1;return ri(i,function(e,t){!n&&r(e.x_id||e.url)?(i[t].is_current=!0,o.url=i[t].url,n=!0):i[t].is_current=!1}),!n&&0<i.length&&(i[0].is_current=!0),o},ni.run_msml_op=function(o,r,i){var e,n,t,a=o.matches,s=r.op,l=!1;if("obj_set"===s){r.value?m=r.value:r.match&&(m=a[r.match]),r.subkey&&(m=m[r.subkey]);var u=a,c=r.out;r.out_subkey&&(u=a[r.out],c=r.out_subkey),u[c]=m}else if("run"===s){var d=[],u=(ri(r.args,function(e){var t;(e="object"!=typeof e?{value:e}:e).value?t=e.value:e.match?t=a[e.match]:e.self&&(t=o.ms_data[e.self]),e.subkey&&(t=t[e.subkey]),e.regex&&(t=Gt(t)),e.cb&&(t=function(e){r.out&&(a[r.out]=e),"bad"in r&&e===r.bad?i(!1):i(!0)},l=!0),d.push(t)}),ni),c=(u=r.match?a[r.match]:u)[r.key].apply(this,d);if("bad"in r&&c===r.bad)return Zr("Error running",r),!1;r.out&&(a[r.out]=c)}else if("regex"===s){var p=si(o.ms_data[r.flags]),m=(ii(p,function(o,e){"object"==typeof e&&e.replace_match&&(delete p[o],ii(e.replace_match,function(e,t){o=Si(o,"%"+e+"%",Gt(a[t]))}),p[o]=e.source)}),ni[r.key](ni[r.base],p,o.ms_dadta)),u=r.in||"in",c=a[u].match(new RegExp(m));if(!c)return Zr("Unable to find match from",{str:a[u],regex:m}),!1;a[r.out]=c[r.save]}else"parse_queries"===s?(e=a[r.match],n=Bt(e=/^(?:https?:)?\//.test(e)?e:"?"+e,{decode:!0}),Gr(r.out)?(u=Object.keys(n).sort(),ri(u,function(e,t){if(!(t in r.out))return!1;a[r.out[t]]=n[e]})):ii(r.out,function(e,t){e in n&&(a[t]=n[e])})):"add_queries"===s?(e=a[r.match],n={},ri(r.queries,function(e){var t=e.query,e=e.value;"object"==typeof t&&(t=a[t.match]),"object"==typeof e&&(e=a[e.match]),n[t]=e}),a[r.out]=Xt(e,n)):"parse_match"===s?(t=[],ri(a[r.match],function(e){var o=[];ii(e,function(e,t){"string"==typeof t?o.push(a[r.subkey][t]):Gr(t)?o.push(t[t.length-1]):o.push(t)}),t.push(si(o))}),a[r.out]=t):"final"===s?o.ok=!0:Zr("Unknown operation",r);if(l)return"waiting"},ni.run_msml_oplist=function(o,r,i){var n=o.ok=!1;try{ri(r,function(e,t){e=ni.run_msml_op(o,e,function(e){if(!e)return o.ok=!1,i(o.ok);ni.run_msml_oplist(o,r.slice(t+1),i)});return e&&("waiting"===e?!(n=!0):void 0)})}catch(e){throw Zr("Error running oplist",o.matches),e}n||i(o.ok)},ni.run_msml=function(r,e,t){if(!r||!e)return t(null);function o(e,t){var o={matches:si(i.matches),ms_data:r};o.matches.in=e,ni.run_msml_oplist(o,o.ms_data.run,function(e){if(!e)return t(null);t(o.matches.out)})}var i={matches:{},ms_data:r};i.ms_data.bootstrap?(i.matches.in=e,ni.run_msml_oplist(i,i.ms_data.bootstrap,function(e){if(!e)return t(null);t(o)})):t(o)},ni.process_formats=function(t,o,e,r){function i(){n<=a&&(r(e),a=-1)}var n=0,a=0,s={};ri(e,function(t){ii(t,function(e){t[e]&&o.process_format&&e in o.process_format&&(n++,e in s||(s[e]=[]),s[e].push(t))})}),ii(s,function(e){s[e][0].imu_msml_options=o,s[e][0].imu_msml_api_cache=t,ni.run_msml(o.process_format[e],s[e][0],function(t){t?ri(s[e],function(e){t(e,function(){a++,i()})}):(a++,i())})}),i()},ni.normalize_function=function(e,t){var o=e.toString().replace(/\/\/.*/g,"").replace(/(return|var)\s+/g,"$1##").replace(/\s*/g,"").replace(/(return|var)##/g,"$1 ").replace(/^(?:function\([^)]*\))?{(.*?);*}$/,"{$1}");if(t)for(var r in t){var i=t[r];Gr(i)||(i=[i]),ri(i,function(e){o=(e="string"==typeof e?{source:e}:e).regex?o.replace(new RegExp(e.source,"g"),r):Si(o,e.source,r)})}return o},ni.get_mappings_for_objstr=function(e,t,o){var i,n,a,s={funcs:e,objstr:t,vars:o},r=new RegExp("("+qo.jvarname.source+")[\"']?\\s*:\\s*function\\s*[(][^)]*[)]\\s*({.*?})(?:,|};?$)"),l=re(t,r);return l?(i={},n=!0,a=[],ri(e,function(e){a.push(ni.normalize_function(e,o))}),ri(l,function(e){var o=e[1],r=ni.normalize_function(e[2]);if(ri(a,function(e,t){if(e===r)return i[o]=t,!1}),!i[o])return s.matches=l,s.match=e,Zr("Unable to find mapping",s),n=!1}),n?i:null):(Zr("Unable to find mappings",s),null)},ni.parse_js_calls=function(e,t){var o,r="",r=e?e+"\\.":"[^$_a-zA-Z0-9]",e=(r+="("+qo.jvarname.source+")[(]([^)]*)[)][;\\s}]",re(t,new RegExp(r)));return e?(o=[],ri(e,function(e){var t={name:e[1],args:[]},e=re(e[2],/([$_a-zA-Z0-9.]+)\s*(?:,|$)/);e&&(ri(e,function(e){e=e[1];qo.number.test(e)&&(e=parseFloat(e)),t.args.push(e)}),o.push(t))}),o):null},ni.find_actual_largest_image=function(a,s,l,u){if(s.length<2)return l(s[0]);(u=u||{}).cache||(u.cache={});function e(i,n){var o=i,r=function(e,t){if(!m){if(e&&t)p[i]=[e,t,n];else if(i===a)return m=!0,l(null);var o,r;++d<h||(o=-1,r=null,a in p&&(o=p[r=a][0]*p[a][1]),ii(p,function(e,t){t=t[0]*t[1];o<t&&(o=t,r=e)}),h<s.length?(s.splice(0,h),s.unshift(r),ni.find_actual_largest_image(a,s,l,u)):l(r))}};o in c?r(c[o][0],c[o][1]):u.check_length?t(o,function(e){r(e,e)}):So(o,function(e,t){if(!e||!t)return r(e,t);c[o]=[e,t],r(e,t)})}var c=u.cache,t=function(e,t){g(u.api_cache,u.do_request,"contentlength:"+e,{url:e,headers:{Referer:""},method:"HEAD",silent:!0},t,function(e,t,o){var r=kn(wn(t.responseHeaders));return"content-length"in r?e(Qr(r["content-length"]),3600):404===t.status?e(null,3600):e(null,!1)})},d=0,p={},m=!1,h=s.length;2<h&&u.respect_order&&(h=2);for(var o=0;o<h;o++)e(s[o],o)},ni.gen_jquery_callback=function(){return"jQuery"+Ai(20)+"_"+Date.now()},ni.get_largest_twimg=function(e,t){function o(e,t){var o=Bt(t).format;o&&(t=t.match(/\/([^/.?#]+)(?:\.[^/.]+)?(?:[?#].*)?$/),e.filename=t[1]+"."+o)}var r=!1,t=(t&&t.rule_specific&&t.rule_specific.twitter_use_ext&&(r=!0),{url:e,can_head:!1});if(0<=Wr(t.url,"/profile_images/"))return(p=t.url.replace(/[?#].*$/,"").replace(/_(?:bigger|normal|mini|reasonably_small|[0-9]*x[0-9]+)(\.[^/_]*)$/,"$1"))!==t.url?(t.url=p,t):void 0;if(0<=Wr(t.url,"/profile_banners/"))return(p=t.url.replace(/\/[0-9]+x[0-9]+(?:[?#].*)?$/,""))!==t.url?(t.url=p,t):void 0;if(o(t,t.url),(p=t.url.replace(/:([^/?]+)(.*)?$/,"$2?name=$1").replace(/(\?.*)\?name=/,"$1&name="))!==t.url&&(t.url=p),/:\/\/[^/]+\/+media\//.test(t.url)&&(p=(p=(u=t.url.match(/^([^?#]+\/[^/.?#]+)\.([^/.?#]+)([?#].*)?$/))?Xt(u[1]+(u[3]||""),{format:u[2]}):p).replace(/([?&]format=)webp(&.*)?$/,"$1jpg$2"))!==t.url&&(o(t,p),t.url=p),u=t.url.match(/\/tweet_video_thumb\/+([^/.?#]+)\./))return{url:t.url.replace(/\/tweet_video_thumb\/+[^/]+\.[^/.]+(?:[?#].*)?$/,"/tweet_video/"+u[1]+".mp4"),video:!0};function i(e){var t=si(s);t.url=e,o(t,t.url),l.push(t)}function n(e,t){return e=(e=Vt(e,["name"])).replace(/(\/[^/?&#.]+)(?:\.[^/?&#.]+)?(\?.*)?$/,"$1."+t+"$2")}for(var a=["orig","4096x4096","large","medium"],s=t,l=[],e=s.url.match(/[?&]name=([^&]+)/),u=e?e[1]:null,c=Br(a,u),d=(c<0&&(c=a.length),0);d<c;d++){var p,m=Bt(p=Xt(p=s.url.replace(/(\.[a-z]+)\?(?:(.*)&)?format=[^&]+/,"$1?$2&").replace(/&$/,""),{name:a[d]}));"png"===m.format||"jpg"===m.format?(r&&i(n(p,"png")),i(Xt(p,{format:"png"})),r&&i(n(p,"jpg")),i(Xt(p,{format:"jpg"}))):(r&&m.format&&i(n(p,m.format)),i(p))}return i(s.url),1<l.length?l:void 0},ni.parse_imu_hash=function(e){var o,e=e.match(/#(.*)/);return e?(o={},ii(Bt("?"+e[1]),function(e,t){e=e.match(/^imu-(.*)/);e&&(o[e[1]]=t)}),o):null},ni.multidomain__nitter=function(e,t){return"nitter.net"===t||"nitter.42l.fr"===e||"nitter.pussthecat.org"===e||"nitter.nixnet.services"===e||"nitter.tedomum.net"===e||"nitter.fdn.fr"===e||"nitter.1d4.us"===e||"nitter.kavin.rocks"===e||"nitter-home.kavin.rocks"===e||"tweet.lambda.dance"===e||"nitter.cc"===e||"nitter.vxempire.xyz"===e||"nitter.unixfox.eu"===e||"nitter.domain.glass"===e||"nitter.eu"===e||"nitter.ethibox.fr"===e||"nitter.namazso.eu"===e||"nitter.mailstation.de"===e||"nitter.actionsack.com"===e||"nitter.cattube.org"===e||"birdsite.xanny.family"===e||"nitter.40two.app"===e||"nitter.skrep.in"===e||"nitter.hu"===e||"nitter.database.red"===e||"nitter.exonip.de"===e||"twitr.gq"===e||"nitter.koyu.space"===e||"nitter.dark.fail"===e||"nitter.snopyta.org"===e},ni.multidomain__xhamster=function(e){return"xhamster.com"===e||"xhamster.one"===e||"xhamster.desi"===e||"openxh.com"===e||"openxh1.com"===e||"openxh2.com"===e||"xhopen.com"===e||"xhlocal.com"===e||"unlockxh.com"===e||"fullxh.com"===e||"xhtotal.com"===e||"localxh.com"===e||"xhofficial.com"===e},ni.get_thumbor_url=function(e){return e=e.replace(/^\/*/,"/").replace(/^\/[-_0-9a-zA-Z]{20,}=?\/+/,"/").replace(/^\/(?:[0-9]+|orig)x(?:[0-9]+|orig)(?::[0-9]+x[0-9]+)?\/+/,"/").replace(/^\/fit-in\/+(?:[0-9]+|orig)x(?:[0-9]+|orig)\/+(?:top\/+)?/,"/").replace(/^\/filters:[^/]+\/+/,"/").replace(/^\/smart\/+/,"/").replace(/^\/*/,"")},ni.query_discogs_images_api=function(e,t,o,r){var i=encodeURIComponent('{"discogsId":'+o+',"count":500}');g(e.api_cache,e.do_request,"discogs_images:"+o,{url:" https://release-page.discogs.com/api/graphql?operationName=ReleaseAllImages&variables="+i+"&extensions=%7B%22persistedQuery%22%3A%7B%22version%22%3A1%2C%22sha256Hash%22%3A%2213e41f41a02b02d0a7e855a71e1a02478fd2fb0a2d104b54931d649e1d7c6ecd%22%7D%7D",imu_mode:"xhr",headers:{origin:"https://www.discogs.com",referer:"https://www.discogs.com/","content-type":"application/json",accept:"*/*"},json:!0},r,function(e,t,o){var t=t.data.release.images.edges,r=[];ri(t,function(e){e=e.node;r.push(e.fullsize.webpUrl)}),e(r,21600)})},ni.query_discogs_images_web=function(e,t,o,r){g(e.api_cache,e.do_request,"discogs_images:"+t+":"+o,{url:"https://www.discogs.com/"+t+"/"+o+"/images",imu_mode:"document"},r,function(e,t,o){var r=re(t.responseText,/<span class="thumbnail_link">.*?<img src="(https?:\/\/img\.discogs\.com\/[^"]+)"/);if(!r||!r.length)return Zr(o,"Unable to find matches from",t),e(null,!1);var i=[];ri(r,function(e){i.push(Ft(e[1]))}),e(i,21600)})},ni.query_discogs_images=function(e,t,o,r){return"release"===t?ni.query_discogs_images_api(e,t,o,r):ni.query_discogs_images_web(e,t,o,r)},ni.do_flickr_request=function(e,t,o){return e.do_request({url:t,method:"GET",headers:{Origin:"https://www.flickr.com",Referer:"https://www.flickr.com/","Sec-Fetch-Site":"same-site",Cookie:""},onload:o})},ni.flickr_find_api_info=function(e,t,o){t.fetch("flickr_api_info",o,function(n){ni.do_flickr_request(e,"https://www.flickr.com/",function(e){var t=e.responseText.match(/root\.YUI_config\.flickr\.api\.site_key\s*=\s*['"]([0-9a-f]+)['"]\s*;/);if(!t)return Zr("Unable to find Flickr API key"),n(null,!1);var o=t[1];if(!o||"string"!=typeof o)return Zr("Unable to find Flickr API key"),n(null,!1);var r={};if(t=e.responseText.match(/root\.auth\s*=\s*({.*?});/))try{r=$(t[1])}catch(e){r={},Zr("Unable to find Flickr auth info")}else Zr("Unable to find Flickr auth info");var i="",e=((t=e.responseText.match(/root\.reqId\s*=\s*["']([0-9a-f]+)["']\s*;/))&&(i=t[1]),"user"in r&&"nsid"in r.user&&(r.nsid=r.user.nsid),{key:o,nsid:r.nsid,csrf:r.csrf,reqId:i});n(e,3600)})})},ni.flickr_api_request=function(e,t,o,r){var i="https://api.flickr.com/services/rest?csrf=";t.csrf&&(i+=t.csrf),i+="&api_key="+t.key+"&format=json&hermes=1&hermesClient=1",t.nsid?i+="&viewerNSID="+t.nsid:i+="&viewerNSID=",t.reqId&&(i+="&reqId="+t.reqId),ni.do_flickr_request(e,i+="&format=json&nojsoncallback=1&"+o,function(e){try{var t=$(e.responseText);if("fail"===t.stat)return Zr(t.message),r(null)}catch(e){return Zr(e),r(null)}r(t)})},ni.flickr_info_to_obj=function(e){function t(e){return e&&"string"!=typeof e?e._content:e}var o,r={caption:t(e.title)||t(e.description)},i={extra:r},n=e.owner?t(e.owner.nsid):t(e.pathalias),a=t(e.id),s=(n&&a&&(r.page="https://www.flickr.com/photos/"+n+"/"+a),0),l=null;for(o in e){var u,c=o.match(/^width_([0-9a-z]+)$/);c&&(u="height_"+(c=c[1]),(c="url_"+c)in e)&&u in e&&s<(u=e[o]*e[u])&&(s=u,l=e[c])}return l&&(i.url=l),i},ni.get_redirect_url=function(e,t,o,r){var i="string"==typeof o?{url:o}:o;o=i.url,g(e,t.do_request,"redirect:"+o,i,r,function(e,t,o){return t.finalUrl?e(t.finalUrl,3600):e(null,!1)})},function(e){return e.replace(/^[a-z]+:\/\/([^/]*)(?:\/+.*)?$/,"$1")}),zn=function(e){var t=e.replace(/^.*\.([^.]*\.[^.]*)$/,"$1");return t=/^(?:(?:com?|org|net|edu)\.[a-z]{2}|(?:ne|or)\.jp)$/.test(t)?e.replace(/^.*\.([^.]*\.[^.]*\.[^.]*)$/,"$1"):t},Io=function(e,t){return t.null_if_no_change?null:e},He={_nir_debug_:Mr,nir_debug:Jr,Math_floor:be,Math_round:Ti,Math_random:ye,Math_max:ei,Math_min:ti,Math_abs:oi,get_random_text:Ai,console_log:Yr,console_error:Zr,console_warn:Kr,console_trace:A,JSON_stringify:Or,JSON_parse:$,base64_decode:k,base64_encode:x,is_array:Gr,array_indexof:Br,string_indexof:Wr,string_fromcharcode:N,string_charat:S,array_extend:zi,array_foreach:ri,array_map:ee,array_or_null:te,array_upush:Ni,string_replaceall:Si,match_all:re,obj_foreach:ii,obj_extend:qi,shallowcopy:Ji,deepcopy:si,_:li,settings:ui,new_map:ct,map_set:on,map_get:rn,map_has:mt,map_remove:ht,map_foreach:st,map_size:lt,new_set:nn,set_add:an,set_has:sn,real_api_cache:bt,real_api_query:g,real_website_query:ft,is_invalid_url:_t,mod:xt,norm_url:Ct,urljoin:cn,fillobj:gn,fillobj_urls:zt,add_full_extensions:jt,add_extensions:Nt,add_extensions_jpeg:St,add_extensions_with_jpeg:qt,add_extensions_gif:Tt,add_extensions_upper:It,add_extensions_upper_jpeg:At,add_http:Et,force_https:Ut,decodeuri_ifneeded:Rt,encodeuri_ifneeded:dn,replace_sizes:Dt,zpadnum:pn,hex_to_ascii:Mt,hex_to_numberarray:Pt,numberarray_to_hex:Ht,reverse_str:$t,decode_entities:Ft,encode_entities:Ot,encode_regex:Gt,get_queries:Bt,stringify_queries:fn,remove_queries:Wt,keep_queries:Vt,add_queries:Xt,fuzzify_text:Zt,fuzzy_date_compare:ro,parse_headers:wn,headers_list_to_dict:kn,headers_dict_to_list:_o,get_resp_finalurl:ao,get_ext_from_contenttype:vn,get_library:bn,normalize_whitespace:lo,strip_whitespace:di,get_image_size:So,sort_by_key:uo,sort_by_array:co,parse_tag_def:po,get_meta:mo,fixup_js_obj:ho,fixup_js_obj_proper:go,common_functions:ni,get_domain_from_url:Cn,get_domain_nosub:zn,looks_like_valid_link:yn,IMUCache:ln,url_basename:mn,parse_int:Qr};if("undefined"==typeof $__imu_get_bigimage)c={type:"undefined",data:$__imu_get_bigimage,func:$__imu_get_bigimage,message:"Rules library not included"};else{try{var Ao=$__imu_get_bigimage(He);Ao&&Ao.bigimage?"mo2amg3427m5apmj"!==Ao.nonce?c={type:"bad_nonce",data:Ao.nonce,message:"Bad nonce, expected: mo2amg3427m5apmj"}:Io=Ao.bigimage:c={type:"returned_falsey",data:Ao,message:"Unable to get bigimage function"},c&&(c.func=$__imu_get_bigimage)}catch(e){c={type:"js_error",data:e,message:"JS error fetching bigimage function",func:$__imu_get_bigimage}}delete $__imu_get_bigimage}c&&Zr(c);function Nn(u){var e="",t="",o="";u.host_url&&(t=(e=u.host_url.replace(/^[a-z]+:\/\/([^/]*)(?:\/.*)?$/,"$1")).replace(/^www\./,""),(o=e.replace(/^.*\.([^.]*\.[^.]*)$/,"$1")).match(/^co\.[a-z]{2}$/))&&(o=e.replace(/^.*\.([^.]*\.[^.]*\.[^.]*)$/,"$1"));try{u.document&&(document=u.document),u.window&&(window=u.window)}catch(e){}function c(e){var t=Xr("img");return t.src=e,t}function s(e,t){return t?(t=e,(o=Xr("video")).src=t,o):c(e);var o}function i(e,t){return t?e.nextElementSibling:e.previousElementSibling}function r(t,e,o){var r;if(o.compare_els||(o.compare_urls||o.id_for_url&&("function"!=typeof o.id_for_url&&(r=o.id_for_url,o.id_for_url=function(e){e=e.match(r);return e?e[1]:null}),o.compare_urls=function(e,t){return!(!e||!t)&&o.id_for_url(e)===o.id_for_url(t)}),o.get_img_src||(o.get_img_src=Mn),o.compare_urls&&(o.compare_els=function(e,t){return!(!e||!t)&&o.compare_urls(o.get_img_src(e),o.get_img_src(t))})),!o.compare_els)return Zr("compare_els/compare_urls/id_for_url not present"),!1;var i,n,a=null;if(o.thumbs_selector_global)a=document.querySelector(o.thumbs_selector);else for(var s=t;(s=s.parentElement)&&!(a=s.querySelector(o.thumbs_selector)););return a?(i=a.querySelectorAll(o.thumb_selector))?(n=null,ri(i,function(e){if(o.compare_els(t,e))return n=e,!1}),n?In(n,e):(Zr("Unable to find thumb for",t,"in",a),!1)):(Zr("No thumbs for",a),!1):(Zr("Unable to find thumbs element for",t),!1)}var d=function(e,t,o){for(var r=Mn(e),i=-1,n=0;n<t.length;n++)if("string"==typeof t[n]){if(r===t[n]){i=n;break}}else if(e===t[n]){i=n;break}return-1===i?null:o?i+1>=t.length?null:t[i+1]:i-1<0?null:t[i-1]};return"imgur.com"===o&&"i.imgur.com"!==e?{gallery:function(a,s){if(!a)return"default";function t(e){return r(e)||o()}var o=function(){if(!u.host_url.match(/\/a\/+[^/]+\/+embed/))for(var e=a;e=e.parentElement;)if("DIV"===e.tagName&&e.classList&&e.classList.contains("post-image-container"))for(;e;){var t=e.nextElementSibling;if(!(e=t=s?t:e.previousElementSibling))return"default";t=e.querySelector("img");if(t)return t}return"default"},r=function(e){var t=pi(a.src,{fill_object:!0,use_cache:!1,rule_specific:{imgur_source:!1}})[0].url.replace(/.*\/([^/._]+?)(?:_[^/]+)?\.[^/.]*?(?:[?#].*)?$/,"$1");if(t!==a.src)for(var o,r=0;r<e.length;r++)if(e[r].hash===t){if(s){if(r+1>=e.length)return null;o=r+1}else{if(r-1<0)return null;o=r-1}var i=e[o].ext,n=(!u.exclude_videos||".mp4"!==i&&".webm"!==i||(i=".jpg"),Xr("img"));return n.src="https://i.imgur.com/"+e[o].hash+i,n}return null};if(!u.window.runSlots&&u.do_request)return ni.fetch_imgur_webpage(u.do_request,bt,void 0,u.host_url,function(e){if(!e||!e.imageinfo||e.bad)return u.cb(o());try{return u.cb(t(e.imageinfo.album_images.images))}catch(e){return Zr(e),u.cb(o())}}),"waiting";try{return t(u.window.runSlots.item.album_images.images)}catch(e){return Zr(e),o()}}}:"instagram.com"===o?{element_ok:function(e){return"VIDEO"===e.tagName||"default"},gallery:function(e,t){return"default"}}:"tiktok.com"===o?{gallery:function(e,t){return"VIDEO"===e.tagName&&e.parentElement&&e.parentElement.parentElement&&e.parentElement.classList.contains("video-card")&&e.parentElement.parentElement.classList.contains("image-card")?In(e.parentElement.parentElement,t):"default"}}:"twitter.com"===t?{gallery:function(e,o){function t(e){return o?e.nextElementSibling:e.previousElementSibling}function r(e){var t;return"A"===e.tagName?a(e):"DIV"!==e.tagName?"default":(t=o?0:e.children.length-1,0<e.children.length&&n(e.children[t])?a(e.children[t]):void 0)}for(var i,n=function(e){return"A"===e.tagName&&e.href&&/\/status\/+[0-9]+\/+photo\/+/.test(e.href)},a=function(e){e=e.querySelector("img");if(e){var t=e.previousElementSibling;if(t&&"DIV"===t.tagName&&t.style.backgroundImage)return t}return e},s=e;s=s.parentElement;)if(n(s))return(i=t(s))?r(i):(i=t(s.parentElement))?r(i):null;return"default"},element_ok:function(e){if("VIDEO"===e.tagName&&ni.get_twitter_tweet_link(e))return!0;return"default"}}:"500px.com"===t?{element_ok:function(e){return!("A"!==e.tagName||!e.classList.contains("photo_link")||!e.querySelector("div.nsfw_placeholder_content"))||"default"}}:"snapchat.com"===o?{gallery:function(e,n){var a=ni.get_snapchat_info_from_el(e);return a?(ni.get_snapchat_storysharing(bt,u.do_request,a.username,function(e){if(!e)return u.cb(null);if(!("pos"in a)||-1===a.pos)for(var t=0;t<e.snaps.length;t++)if(e.snaps[t].media.mediaUrl===a.url){a.pos=t;break}var o,r,i;return-1===a.pos&&(a.pos=e.snaps.length-1),!("pos"in a)||(o=a.pos+(n?1:-1))<0||o>=e.snaps.length?u.cb(null):(r=e.snaps[o].media.mediaUrl,(i=s(r,/\.mp4(?:[?#].*)?$/.test(r)&&!1)).setAttribute("data-username",a.username),i.setAttribute("data-pos",o),i.setAttribute("data-url",r),i.setAttribute("data-imu","true"),u.cb(i))}),"waiting"):"default"},element_ok:function(e){return"VIDEO"===e.tagName||("DIV"===e.tagName&&1===e.children.length&&"VIDEO"===e.children[0].tagName?e.children[0]:"default")}}:"allmusic.com"===o?{gallery:function(e,t){return"IMG"===e.tagName&&e.parentElement&&e.classList.contains("gallery-main-image")?(e=e.parentElement.querySelector("#carousel > ul > li.thumb-img > img.highlight-on"))?(e=e.parentElement,function(e){return e.classList.contains("thumb-img")?e.querySelector("img"):null}(t?e.nextElementSibling:e.previousElementSibling)):(Kr("Unable to find carousel thumbnail image"),"default"):"default"}}:"flickr.com"===o?{element_ok:function(e){if("DIV"===e.tagName&&e.classList.contains("photo-well-media-scrappy-view"))return!0;for(var t=e;t=t.parentElement;)if("DIV"===t.tagName&&t.classList.contains("restricted-interstitial"))return!0;return"default"}}:"modelmayhem.com"===o?{element_ok:function(e){for(var t=e;t=t.parentElement;)if("DIV"===t.tagName&&"viewpic"===t.id)return!0;return"default"}}:"imagefap.com"===t&&/\/photo\/+[0-9]+\//.test(u.host_url)?{gallery:function(e,r){if("IMG"!==e.tagName||!u.do_request)return"default";var i,n,t,o,a,s=!1,l=e.parentElement;if(!l&&e.hasAttribute("data-imu-imagefap-album"))s=!0;else for(;l=l.parentElement;)if("DIV"===l.tagName&&"navigation"===l.id||"DIV"===l.tagName&&l.classList.contains("image-wrapper")){s=!0;break}return s&&(n=(i=function(e){var t=e.replace(/.*\/images\/+.*\/([0-9]+)\.[^/.]+(?:[?#].*)?$/,"$1");return t!==e?t:null})(e.src))?(e=(e=u.host_url.match(/\/photo\/+([0-9]+)\//))[1],o=function(e){if(e)for(var t=0;t<e.length;t++){var o=i(e[t]);if(n===o)return(o=t+(r?1:-1))<0||o>=e.length?u.cb(null):((o=c(e[o])).setAttribute("data-imu-imagefap-album","true"),u.cb(o))}return u.cb("default")},a="imagefap_album:"+(t=e),bt.fetch(a,o,function(r){u.do_request({url:"https://www.imagefap.com/photo/"+t+"/",method:"GET",onload:function(e){var t,o;return 200!==e.status?(Zr(a,e),r(null,!1)):(t=re(e.responseText,/<li>\s*<a href=\"https:\/\/[^/.]+\.imagefap\.com\/+images\/[^"]+".*?>\s*<img border=0 src2="(https:\/\/[^/.]+\.imagefap\.com\/[^"]+)"/))?(o=[],ri(t,function(e){o.push(Ft(e[1]))}),r(o,3600)):(Kr(a,"Unable to find album matches for",e),r(null,!1))}})}),"waiting"):"default"}}:"gog.com"===t?{gallery:function(e,t){for(var o=e;o=o.parentElement;)if("DIV"===o.tagName&&o.classList.contains("productcard-thumbnails-slider__slide-item")){var r=i(o,t);if(!r){if(!o.parentElement.classList.contains("productcard-thumbnails-slider__slide"))return null;if(!(r=i(o.parentElement,t)))return null;if(!(r=t?r.children[0]:r.children[r.children.length-1]))return null}return r.querySelector("picture, img")}return"default"}}:"booth.pm"===o?{element_ok:function(e){return"DIV"===e.tagName&&(e.classList.contains("swap-image")||e.classList.contains("thumb"))&&0<e.children.length&&"IMG"===e.children[0].tagName?e.children[0]:"default"}}:"instyle.com"===o?{element_ok:function(e){if("DIV"===e.tagName&&e.classList.contains("lazy-image"))return e.querySelector(".image-overlay > img")}}:"asiansister.com"===o?{element_ok:function(e){if("DIV"===e.tagName&&"myModal"===e.id)return e.querySelector("img.modalTest-content")}}:"naver.com"===o&&/\/viewer\/+postView\.nhn\?/.test(u.host_url)?{gallery:function(e,t){var o=e;if("IMG"===o.tagName&&o.classList.contains("se_mediaImage"))for(;o=o.parentElement;)if("DIV"===o.tagName&&o.classList.contains("sect_dsc")){var r=o.querySelectorAll("img.se_mediaImage"),r=d(e,r,t);if(null!==r)return r||null}return"default"}}:"fetlife.com"===o?{element_ok:function(e){if("DIV"===e.tagName||"A"===e.tagName)for(var t=0;t<e.children.length;t++){var o=e.children[t];if("IMG"===o.tagName&&(o.classList.contains("ipp")||o.classList.contains("fl-disable-interaction")))return e.children[t]}}}:"youtube.com"===o?{element_ok:function(e){if("DIV"===e.tagName&&"background"===e.id){e=e.querySelector("div#backgroundFrontLayer");if(e)return e}}}:"ray-web.jp"===t?{element_ok:function(e){var t;if(e.children)return t=null,ri(e.children,function(e){if("IMG"===e.tagName)return t=e,!1}),t||void 0}}:"klix.ba"===t?{gallery:function(e,t){e=r(e,t,{id_for_url:/.*\/([0-9]+\.[0-9]+)(?:_[^/.]+)?\.[a-z]+(?:[?#].*)?$/i,thumbs_selector:"div.galleria-thumbnails",thumb_selector:".galleria-image > img"});return!1!==e?e:"default"}}:"olx.ba"===t?{gallery:function(e,t){e=r(e,t,{id_for_url:/.*\/slika-([0-9]+-[0-9a-f]{5,})-[a-z]+\./i,thumbs_selector:"#fancybox-thumbs",thumbs_selector_global:!0,thumb_selector:"li > a > img"});return!1!==e?e:"default"}}:"asics.com"===t?{gallery:function(e,t){var o=function(e){if("PICTURE"===e.tagName){var t=e.querySelector("source");if(t)return o(t)}else if("SOURCE"===e.tagName)return e.srcset;return Mn(e)},e=r(e,t,{id_for_url:/.*\/is\/+image\/+asics\/+([^/.?#]+)(?:\.[^/]+?)?(?:[?#].*)?$/,get_img_src:o,thumbs_selector:"#thumbnails > ul div.slick-track",thumbs_selector_global:!0,thumb_selector:"li.thumb > a > picture"});return!1!==e?e:"default"}}:"bcy.net"===t?{gallery:function(u,c){var e;return u&&"IMG"===u.tagName&&("default"!==(e=function(){for(var e=u,t=c,o=[{tagName:"IMG"},{tagName:"DIV",classList:["img-wrap-inner"]},{tagName:"DIV",classList:["img-wrap"]},{tagName:"DIV",classList:["inner-container"]}],r=".inner-container > .img-wrap > .img-wrap-inner > img",i=e,n=0;n<o.length;n++){if(o[n].tagName!==i.tagName)return"default";if(o[n].classList)for(var a=0,s=o[n].classList;a<s.length;a++){var l=s[a];if(!i.classList.contains(l))return"default"}i=i.parentElement}return r=i.querySelectorAll(r),d(e,r,t)}())||"default"!==(e=d(u,document.querySelectorAll("li.li_item_box a.img_box img"),c)))?e:"default"}}:null}function Sn(e,t,o){var r;if(e&&(r=e.album_info),t){var e=t.getAttribute("imu-album-info");if(e)try{r=$(e)}catch(e){Zr(e)}}return r?(r=si(r),(e=Uo(r,t,o))&&("string"==typeof e&&(t=e,(e=Xr("img")).setAttribute("data-imu-fake-src",t)),e.hasAttribute("imu-album-info")||e.setAttribute("imu-album-info",Or(r))),e):null}function Eo(e,t){return!(!(t=gn(t))[0]||t[0].url!==e)}function qn(o){for(var e=["allow_thirdparty","allow_apicalls","allow_thirdparty_libs","allow_thirdparty_code",{our:"process_format",settings:"process_format",obj:!0}],t=0;t<e.length;t++){var r,i,n=e[t],a=!1;"string"==typeof n?i=r=n:(r=n.our,i=n.settings,a=!!n.obj),a?(r in o||(o[r]={}),ii(ui[i],function(e,t){e in o[r]||(o[r][e]=t)})):r in o||(o[r]=ui[i]+""=="true")}}function Tn(e){if("exclude_problems"in e)for(var t in ui){var o,r;t in Ve&&(o=Ve[t],r=Br(e.exclude_problems,o),ui[t]?0<=r&&e.exclude_problems.splice(r,1):r<0&&e.exclude_problems.push(o))}if(e.allow_apicalls||(e.do_request=null),"rule_specific"in e){var i,n={deviantart_prefer_size:!0,deviantart_support_download:!0,ehentai_full_image:!0,imgur_filename:!0,imgur_source:!0,instagram_use_app_api:!0,instagram_dont_use_web:!0,instagram_prefer_video_quality:!0,instagram_gallery_postlink:!0,snapchat_orig_media:!0,teddit_redirect_reddit:!0,tiktok_no_watermarks:!0,tiktok_thirdparty:!0,tumblr_api_key:!0,twitter_use_ext:!0,mouseover_linked_image:"linked_image"};for(i in n){var a=n[i];!0===a&&(a=i),e.rule_specific[a]=ui[i]}}e.exclude_videos=!1}var Uo=function(e,t,o){if("links"!==e.type)return null;var r=-1;if(ri(e.links,function(e,t){if(e.is_current)return r=t,!1}),r<0)return null;for(var i=0;i<e.links.length;i++)delete e.links[i].is_current;return!((r+=o?1:-1)<0||r>=e.links.length)&&(e.links[r].is_current=!0,e.links[r].url)},In=null,pi=function(c,d){for(var e in d=d||{},(_e||Pr)&&qn(d),pi.default_options)if(e in d){if(Le(d[e]))for(var t in pi.default_options[e])t in d[e]||(d[e][t]=si(pi.default_options[e][t]))}else d[e]=si(pi.default_options[e]);(_e||Pr)&&Tn(d);function o(){if(Mr&&Jr("bigimage_recursive","do_cache (endhref, currentobj):",si(a),si(y)),a&&k(a)){var e=gn(a,y);if(e&&e.can_cache){if((_=k(e))&&!l&&!0===d.use_cache&&!p)for(var t=0;t<v.length;t++){var o=v[t];o&&(Mr&&Jr("bigimage_recursive","do_cache:",o,"=",si(e)),vt.set(o,si(e),d.urlcache_time))}}else Mr&&Jr("bigimage_recursive","do_cache: skipping cache because cache_endhref.can_cache == false")}}function r(e){if(Mr&&Jr("bigimage_recursive","parse_bigimage (big)",si(e)),!e)return f===c&&d.null_if_no_change&&(f=e),!1;var t=function(o,e){if(!e)return e;Gr(e)||(e=[e]);var r=[];return ri(e,function(e){if("string"==typeof e)r.push(Lt(o,e));else{if(e.url)if(Gr(e.url))for(var t=0;t<e.url.length;t++)e.url[t]=Lt(o,e.url[t]);else e.url=Lt(o,e.url);r.push(e)}}),r}(_,e);if(Mr&&Jr("bigimage_recursive","parse_bigimage (newhref1)",si(t)),!t)return!1;var e=["extra","album_info"],o={},r=(0<b.length&&(b[0].likely_broken&&(o.likely_broken=b[0].likely_broken),b[0].fake&&(o.fake=b[0].fake),ri(e,function(e){e in b[0]&&(o[e]=si(b[0][e]))})),gn(si(t),o));Mr&&Jr("bigimage_recursive","parse_bigimage (objified)",si(r));for(var i=0;i<r.length;i++){function n(){r.splice(i,1),Gr(t)&&t.splice(i,1),i--}var a=r[i];if(null!==a.url||a.waiting){for(var s in""===a.url&&h&&(a.url=g),a.problems)a.problems[s]&&0<=Br(d.exclude_problems,s)&&(Mr&&Jr("bigimage_recursive","Removing problematic:",a.url,"because of",s),n());if(a.url&&d.filter&&!d.filter(a.url))Yr("Blacklisted:",a.url),n();else if(d.exclude_videos&&"video"===a.media_info.type)n();else if(b[0]&&a._copy_old_props)for(var l=0;l<a._copy_old_props.length;l++){var u=a._copy_old_props[l];a[u]=si(b[0][u])}}else n()}if(Mr&&Jr("bigimage_recursive","parse_bigimage (objified, processed)",si(r)),0===r.length)return Mr&&Jr("bigimage_recursive","parse_bigimage: objified.length == 0"),!1;if(m=p=!1,"object"==typeof(e=Gr(e=t)?t[0]:e)){if(y=t,e.waiting&&(p=!0,!e.url))return f=t,!1;e.forcerecurse&&(m=!0)}else y=null;if(Eo(_,r)&&!m){Mr&&Jr("bigimage_recursive","parse_bigimage: sameurl(currenthref, objified) == true (newhref, nh1, pastobjs)",si(_),si(r),si(f),si(t),si(b));try{!d.fill_object||!0===f[0].waiting&&!r[0].waiting?f=r:0}catch(e){}return!1}if(!m)for(i=0;i<v.length;i++)if(Eo(v[i],r))return Mr&&Jr("bigimage_recursive","parse_bigimage: sameurl(pasthrefs["+i+"], objified) == true",si(v[i]),si(r),si(f)),f=r,!1;return Mr&&Jr("bigimage_recursive","parse_bigimage: setting currenthref and newhref"),_=k(r),f=t,v.push(_),zi(e=[],r),zi(e,b),b=e,!(r[0].norecurse||Mr&&Mr.no_recurse)}function i(){if(Mr&&Jr("bigimage_recursive","do_bigimage",_,si(d)),d.use_cache&&vt.has(_)&&!m)return Mr&&Jr("bigimage_recursive","do_bigimage: newhref = url_cache["+_+"]",si(vt.get(_))),f=vt.get(_),l=!0,0;if(d.filter&&!d.filter(_))return Yr("Blacklisted: "+_),0;var e;if(d.catch_errors)try{e=w(_,d)}catch(e){Zr(e),Zr(e.stack)}else e=w(_,d);return r(e)}function n(){if(d.fill_object){if(Mr&&Jr("bigimage_recursive","finalize (fillobj(newhref, currentobj), pastobjs)",si(f),si(y),si(b)),a=null===f?hn(si(y)):gn(si(f),y),d.include_pastobjs)for(var e=0;e<b.length;e++)Rn(a,b[e].url)<0&&!b[e].fake&&a.push(si(b[e]))}else Mr&&Jr("bigimage_recursive","finalize (newhref)",si(f)),a=si(f);Mr&&Jr("bigimage_recursive","endhref =",si(a))}var a,s,p=!1,m=!1,h=!1,g=c,f=("string"==typeof c&&/^(?:data|blob):/.test(c)&&(h=!0),c),_=c,v=[c],b=[],y=null,l=!1,u=0,w=d._internal_bigimage||Io,k=function(e){return(e=e&&(Gr(e)?e[0]:e))&&(_=Gr(e.url)?e.url[0]:e.url)};for(d.cb&&(s=d.cb,d.cb=function(e){function t(){Mr&&Jr("bigimage_recursive","do_end"),n(),o();var e=null;d.null_if_no_change||(e=v[v.length-1]),!a||Gr(a)&&!a[0]||"string"==typeof a?a=e:Gr(a)&&"string"==typeof a[0]?a[0]=e:Gr(a)&&a[0]&&!a[0].url&&(a[0].url=e),Gr(a)||(a=[a]),Mr&&Jr("bigimage_recursive","do_end (endhref, pasthrefs, pastobjs)",si(a),si(v),si(b)),s(a)}Mr&&Jr("bigimage_recursive","options.cb",si(e));if(r(e)&&!(u+1>=d.iterations)||m){for(;u<d.iterations&&i();u++);p||t()}else t()}),d._internal_info={},u=0;u<d.iterations&&i();u++);return Mr&&Jr("bigimage_recursive","return finalize"),n(),o(),f=null,d.cb&&!p&&d.cb(a),si(a)};pi.default_options=Re,pi.internal={settings:ui,settings_meta:ci,strings:$e},pi.is_internet_url=function(e){return!(!e||"string"!=typeof e||!/^https?:\/\//.test(e)||/^[a-z]+:\/\/(127\.0\.0\.1|192\.168\.[0-9]+\.[0-9]+|10\.[0-9]+\.[0-9]+\.[0-9]+|172\.(?:1[6-9]|2[0-9]|3[01])\.[0-9]+\.[0-9]+|localhost|[^/.]+)\//.test(e)||/^[a-z]+:\/\/(?:[0-9a-f]*\:){1,}\//.test(e))},pi.clear_caches=function(){vt.clear(),bt.clear(),wt.clear()};function An(l,u,c,d,p,m){var e,t={};for(e in d=d||[],p=p||[],m=m||[],u)"cb"===e?t.cb=function(r){Mr&&(Yr("bigimage_recursive_loop's cb: obj:",si(r)),Yr("bigimage_recursive_loop's cb: oldobj:",si(m))),r=function(e,t){for(var o=Lo(e),r=0;r<t.length;r++){var i=Br(o,t[r].url);if(0<=i)for(var n in t[r]){var a=t[r][n],s=e[i][n];s!==a&&Or(s)===Or(De[n])&&(e[i][n]=a)}else e.push(t[r])}return e}(r,m);for(var i=Lo(r),e=0;e<r.length;e++)if(r[e].bad){var t=r[e].url;r.splice(e,1),i.splice(e,1),e--;for(var o=0;o<p.length;o++)if(p[o].newurl===t){var n=p[o].newobj.url,a=Br(i,n);p[o].unk=!0,0<=a&&(r.splice(a,1),i.splice(a,1),a<e?e-=2:a===e&&e--);break}}Mr&&(Yr("bigimage_recursive_loop's cb: obj after:",si(r)),Yr("bigimage_recursive_loop's cb: images after:",si(i)),Yr("bigimage_recursive_loop's cb: fine_urls:",si(d)),Yr("bigimage_recursive_loop's cb: tried_urls:",si(p)));for(e=0;e<d.length;e++)if(0<=(a=Br(i,d[e].url)))return r=[r[a]],Mr&&Yr("bigimage_recursive_loop's cb: returning fine_url",si(r),si(d[e])),u.cb(r,d[e].data);for(var s=!1,e=0;e<p.length;e++)if(p[e].url===l||s){if(!0!==p[e].unk)return 0<=(a=Br(i,p[e].newurl))?(r=[r[a]],Mr&&Yr("bigimage_recursive_loop's cb: returning tried_url",si(r),si(p[e]),s),u.cb(r,p[e].data)):(Mr&&Yr("bigimage_recursive_loop's cb: returning null tried_url",si(p[e]),s),u.cb(null,p[e].data));s=!0}Mr&&Yr("bigimage_recursive_loop: about to query",si(r)),c(r,function(e,t,o){if(Mr&&Yr("bigimage_recursive_loop (query: newurl, newobj, data):",si(e),si(t),o),!e)return Mr&&Yr("bigimage_recursive_loop (query): returning null",o),u.cb(null,o);d.push({url:e,data:o}),p.push({url:l,data:o,newurl:e,newobj:si(t),unk:!1});t=Br(i,e);t<0||!r[t].norecurse?An(e,u,c,d,p,r):(r=[r[t]],Mr&&Yr("bigimage_recursive_loop (query): returning",si(r),o),u.cb(r,o))})}:t[e]=u[e];return Mr&&Yr("bigimage_recursive_loop",l,si(u),c,si(d),si(p),si(m)),pi(l,t)}function En(e){return e.currentStyle||window.getComputedStyle(e)}function Ro(e,t){if(Mr&&Yr("redirect",e,t),!(Mr&&Mr.no_redirect||e===window.location.href)){try{window.stop()}catch(e){}Mo(t,function(){ui.redirect_history?window.location.assign(e):window.location.replace(e)})}}function Un(e){for(var t=["","K","M","G","T","P"];1024<e&&1<t.length;)e/=1024,t.shift();return e.toFixed(2).replace(/\.00$/,"")+t[0]+"B"}function Do(n,a,s,l,r){if(Mr&&Yr("check_image",si(n),a,r),(n=Gr(n)?n[0]:n)&&n.url){function e(){n&&n.extra&&(n.extra.page&&Yr("Original page: "+n.extra.page),n.extra.caption&&Yr("Caption: "+n.extra.caption),n.extra.created_date&&Yr("Created date: "+new Date(n.extra.created_date)),n.extra.updated_date)&&Yr("Updated date: "+new Date(n.extra.updated_date))}var u=n.url;if(u===a)e(),Mr&&Yr("(check_image) url == page_url",u,a),l(u);else{var t=n.headers;if(Yr(n.url),e(),n&&(n.bad?o="Bad image":"video"===n.media_info.type&&n.media_info.delivery?o="Can't redirect to streaming video type "+Or(n.media_info.delivery):n.is_pagelink&&(o="Can't redirect to page"),o))(s||Zr)(o);else{function c(e){if(v){if(r)return s(e,!0);if(ui.redirect_enable_infobox){var t=mi("mouseover_trigger_behavior");ui.mouseover?"keyboard"===t?o=Hn(ui.mouseover_trigger_key):"mouse"===t&&(o="delay "+ui.mouseover_trigger_delay+"s"):o="disabled",bi=!0;var o,t=li("Mouseover popup (%%1) is needed to display the original version","<a style='color:blue; font-weight:bold' href='"+b+"' target='_blank' rel='noreferrer'>"+o+"</a>")+" ("+li(e)+")";ui.redirect_infobox_url&&((o=Xr("a")).href=u,o.innerText=$n(u,80),o.setAttribute("target","_blank"),t+="<br />"+o.outerHTML);try{Fo(t)}catch(e){Zr(e)}}}}if(!Mr||!Mr.no_request){v&&Po();var o=u.replace(/^([a-z]+:\/\/[^/]*).*?$/,"$1"),i=si(t),d=!0,p=(t&&0!==Object.keys(t).length||(d=!(t={})),nn());for(m in t)an(p,m.toLowerCase());var m,h={referer:a,accept:"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9","sec-fetch-dest":"document","sec-fetch-mode":"navigate","sec-fetch-site":"cross-site"};for(m in h)sn(p,m)||(t[m]=h[m]);if((d=d&&1===Object.keys(i).length&&"Referer"in i&&(i=(i=a).replace(/^[a-z]+:\/\/([^/]*).*?$/,"$1"),o=u.replace(/^[a-z]+:\/\/([^/]*).*?$/,"$1"),n.referer_ok.same_domain&&i===o||n.referer_ok.same_domain_nosub&&zn(i)===zn(o))?!1:d)&&!Pr)document.documentElement.style.cursor="default",Yr("Custom headers needed, currently unhandled"),c("custom headers");else{if(Mr&&Yr("(check_image) headers",t),n.always_ok||!n.can_head&&!ui.canhead_get)return Mr&&Yr("(check_image) always_ok || !can_head",u,si(n)),l(u);function g(e){if(!f)if(f=!0,Mr&&Yr("(check_image) resp",e),_e&&"FireMonkey"===y&&!e)(s||Zr)(i="Error: resp == null (tracking protection blocked, FireMonkey bug)");else if(!(e.readyState<2))if(_e&&!e.status&&e.readyState<4)f=!1;else if(e.readyState<4&&_&&_.abort&&_.abort(),0===e.status||Ce(e))(s||Zr)(i="Error: status == 0");else if(Ho(),e.finalUrl===a)Yr(e.finalUrl),Yr("Same URL");else{var t=wn(e.responseHeaders),t=kn(t),o=(Mr&&Yr("(check_image) resp headers",t),e.status.toString()[0]),r=Oo(n.head_ok_errors,e.status);if("4"!==o&&"5"!==o||405===e.status||!0===r){var i,o=t["content-type"];if(!(o=(o=o||"").toLowerCase()).match(/text\/html/)&&o||n.head_wrong_contenttype||!0===r)if(Pr&&!ui.redirect_disable_for_responseheader||!(n.forces_download||(o.match(/(?:binary|application|multipart|text)\//)||"image/tiff"===o||o.match(/^ *\[/))&&!n.head_wrong_contenttype||t["content-disposition"]&&t["content-disposition"].toLowerCase().match(/^ *attachment/))){if(!t["content-length"]||"0"!=t["content-length"]||n.head_wrong_contentlength)return cr(n.bad_if,e)?(Zr("Bad image (bad_if)",n.bad_if,e),s("bad image")):void(!d||Pr?(Mr&&Yr("(check_image) finalUrl",e.finalUrl||u,e,si(n)),l(e.finalUrl||u)):Yr("Custom headers needed, currently unhandled"));Zr("Zero-length image")}else Zr("Forces download"),c("forces download");else(s||Zr)(i="Error: Not an image: "+(o||"(no content-type)"))}else i="Error: "+e.status,(s||Zr)(i)}}var i="HEAD",f=(!n.can_head&&ui.canhead_get&&(Mr&&Yr("Trying GET"),i="GET"),!1),_=ai({method:i,url:u,headers:t,trackingprotection_failsafe:!0,onprogress:function(e){2<=e.readyState&&e.responseHeaders&&g(e)},onload:g})}}}}}else l(n)}var Lo=function(e){for(var t=[],o=0;o<e.length;o++)t.push(e[o].url);return t},Rn=function(e,t){return Br(Lo(e),t)},Dn=(pi.loop=An,function(e){return e.tagName.toUpperCase()}),jo=function(e){for(var t=["class","id","tabindex","style"],o=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=(o.innerHTML=e.innerHTML,o.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.attributes),i=0;i<r.length;i++){var n=r[i].name;0<=Br(t,n)||/^on/.test(n)||/^aria-/.test(n)||o.setAttribute(n,r[i].value)}var a=En(e),e=e.getAttribute("fill")||a.fill,a=(e&&o.setAttribute("fill",e),""+o.outerHTML);return"data:image/svg+xml,"+encodeURIComponent(a)},Ln=function(e,t){try{return e.toDataURL(t)}catch(e){Zr(e)}},jn=function(e,t){return e&&(!/^blob:/.test(e)||!t)},Mn=function(e){if("string"==typeof e)return e;var t=Dn(e);if("A"===t)return e.href;if("IFRAME"===t)return e.src.replace(/^javascript:window\.location\.replace\(["']([^"']+)["']\)$/,"$1");if("CANVAS"===t)return Ln(e,"image/png");if("SVG"===t)return ui.mouseover_allow_svg_el?jo(e):null;if("VIDEO"===t)return e.currentSrc||e.src||e.poster;if("AUDIO"===t)return e.currentSrc||e.src;if("SOURCE"===t){if(e.parentElement){var o=Mn(e.parentElement);if(o&&jn(o,!0))return o}return e.currentSrc||e.src}if("IMAGE"===t)return e.getAttribute("xlink:href")||null;o=e.currentSrc||e.src;if(!o&&"IMG"===e.tagName){t=e.getAttribute("data-imu-fake-src");if(t)return t}return o},Pn=function(e){var t=Mn(e),o={fill_object:!0,exclude_problems:[],use_cache:"read",use_api_cache:!1,cb:function(){},do_request:function(){}},e=(v&&(o.host_url=window.location.href,o.element=e,o.document=document,o.window=window),pi(t,o));if(1!==e.length)return!0;var r,i=e[0];if(i.url!==t)return!0;for(r in i)if("url"!==r){if(!(r in De))return!0;if(Or(De[r])!==Or(i[r]))return!0}return!1},Mo=function(e,t,o){Pr?Hr({type:"redirect",data:{obj:e,tabId:o}},function(){t()}):t()},Po=function(){document.documentElement&&(document.documentElement.style.cursor="wait")},Ho=function(){document.documentElement&&(document.documentElement.style.cursor="default")},$o=null,Fo=function(e){function t(){$o||ui.redirect_infobox_timeout<=0||($o=setTimeout(function(){document.body.removeChild(o)},1e3*ui.redirect_infobox_timeout))}var o=Xr("div");o.style.backgroundColor="#fffabb",o.style.color="#000",o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.padding=".3em .8em",o.style.boxShadow="0px 0px 20px rgba(0,0,0,.6)",o.style.margin=".8em",o.style.lineHeight="1.5em",o.innerHTML=e,o.onclick=function(){document.body.removeChild(o),$o&&(clearTimeout($o),$o=null)},document.body.appendChild(o);document.hasFocus()?t():(document.onfocus=function(){t(),document.onfocus=null},window.onfocus=function(){t(),window.onfocus=null})},Oo=function(e,t){if(e&&Gr(e)){for(var o=0;o<e.length;o++)if(t.toString()===e[o].toString())return!0;return!1}return null},Go=function(e){Gr(e[0])||(e=[e]);for(var t=[],o=0;o<e.length;o++)t.push(function(e){e=e.sort(function(e,t){return e===t?0:"ctrl"===e?-1:"ctrl"===t?1:"shift"===e?-1:"shift"===t?1:"super"===e?-1:"super"===t?1:"alt"===e?-1:"alt"===t?1:e<t?-1:void 0});for(var t=[],o=0;o<e.length;o++){var r=S(e[o],0).toUpperCase()+e[o].slice(1);1!==e.length||"Left"!==r&&"Right"!==r&&"Up"!==r&&"Down"!==r||(r+=" Arrow"),t.push(li(r))}return t.join("+")}(e[o]));return t},Hn=function(e){return Go(e).join(" / ")},$n=function(e,t){t=new RegExp("^((?:.{"+t+"}|.{0,"+t+"}[\\r\\n]))[\\s\\S]+?$");return e.replace(t,decodeURIComponent("%241%E2%80%A6"))};function Bo(e){return/^video\//.test(e)?!!ui.redirect_video:/^audio\//.test(e)?!!ui.redirect_audio:!/^(?:text|application)\//.test(e)}function Fn(){return Bo(document.contentType)}function Wo(d,e,o){e={fill_object:!0,force_page:e,cb:function(e){var t;Mr&&Yr("do_redirect (final)",e),Ho(),e&&(v&&ui.print_imu_obj&&Yr(e),(t=e[0].url)!==d)&&t&&(Mr&&Yr("redirect (recursive loop)",e),o(t,e))}};v&&(e.document=document,e.window=gi()),An(d,e,function(e,r){Mr&&Yr("do_redirect",e);for(var i=null,o=function(e,t,o){r(e,o||i,t)},n=[],t=0;t<e.length;t++)!ui.redirect_video&&pr(e[t])||!ui.redirect_audio&&mr(e[t])||n.push(e[t]);var a=ui.redirect_to_no_infobox,s=[],l=!1,u=0,c=function(e,t){Mr&&Yr("do_redirect_sub's err_cb:",e,t),t&&s.push(n[u]);t=l?s:n;if(++u>=t.length){if(!(a&&0<s.length))return Ho(),void Zr(e);a=!(l=!0),u=0}Eo(window.location.href,t[u])&&a&&0<s.length&&(a=!(l=!0),u=0),i=t[u],Do(i,d,c,o,a)},i=n[0];Do(i,d,c,o,a)})}function Vo(e){var t;"complete"===document.readyState||"interactive"===document.readyState?e():(t=function(){"complete"!==document.readyState&&"interactive"!==document.readyState||(e(),Ci(document,"readystatechange",t))},Vr(document,"readystatechange",t))}function On(e,t){var o={};if(e.ctrlKey?o.ctrl=!0:o.ctrl=!1,e.altKey?o.alt=!0:o.alt=!1,e.shiftKey?o.shift=!0:o.shift=!1,void 0!==e.buttons)for(var r=["button1","button2","button3","button4","button5"],i=e.buttons;0<r.length;)o[r[0]]=!!(1&i),i>>=1,r.shift();"wheel"===e.type&&(e.deltaY<0?o.wheelUp=!0:0<e.deltaY&&(o.wheelDown=!0),e.deltaX<0?o.wheelLeft=!0:0<e.deltaX&&(o.wheelRight=!0));e=Cr(e);return void 0!==e&&(o[e]=t),o}function Gn(e){for(var t=0;t<e.length;t++)if(!Bn(e[t])&&!Xo(e[t]))return;return 1}var Bn=function(e){return/^wheel/.test(e)},Xo=function(e){return"button1"===e},Yo=function(e){return!!Gn(e)||1===e.length&&Xo(e[0])},Zo=function(e){return 0!==e.length&&!Yo(e)&&(e.length,!0)},Ko=function(){try{return window.matchMedia("(prefers-color-scheme: dark)").matches}catch(e){return!1}};function Jo(){var e,t;(n||_i)&&(Ko()&&(t=!0,(e="dark_mode")in We||(ui[e]=t)),ui.dark_mode?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))}var Qo=function(t,o){if(!Pr)return o(!1);try{chrome.permissions.request({permissions:[t]},function(e){e&&Hr({type:"permission_handler",data:{permission:t}}),o(e)})}catch(e){Zr(e),o(!1)}},er="general";function tr(){Jo();var te=!1,oe=[],re=[];function t(e,t){if(te){var o,r,i=On(e,t),t=(!Cr(e)&&"mousedown"!==e.type||0!==re.length||0!==e.button&&2!==e.button&&(oe=[]),si(oe));for(o in i)i[r=o]?(Br(oe,r)<0&&oe.push(r),Br(re,r)<0&&re.push(r)):0<=Br(re,r)&&re.splice(Br(re,r),1);Yo(oe)&&(oe=t),te()}}document.addEventListener("keydown",function(e){if(t(e,!0),te)return e.preventDefault(),!1}),document.addEventListener("mousedown",function(e){if(t(e,!0),te)return e.preventDefault(),!1}),document.addEventListener("wheel",function(e){if(t(e,!0),te)return e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),!1},{capture:!0,passive:!1}),document.addEventListener("contextmenu",function(e){if(te)return e.preventDefault(),e.stopImmediatePropagation(),!1}),document.addEventListener("keyup",function(e){if(t(e,!1),te)return e.preventDefault(),!1}),document.addEventListener("mouseup",function(e){if(1!==e.button)return t(e,!1),te?(e.preventDefault(),e.stopImmediatePropagation(),!1):void 0});function N(e){var t=!1,o=("+"===(e=No(e))[0]&&(t=!0,e=e.substring(1)),null);try{o=$(e)}catch(e){Zr(e)}return{value:o,append:t}}function S(e,t){for(var o=0;o<e.length;o++){var r,i,n,a=e[o],s=!0;for(n in void 0!==t&&(r=[],i=[]),a)if("_"!==n[0]){var l=a[n],u=ui[n];if(Gr(u)&&!Gr(l)&&(u=u[0]),n in h||I(n),"processing"===h[n])return void Zr("Dependency cycle detected for:",a,",",n);var c={setting:n,required_value:l,current_value:u,enabled:h[n],auto:!!a._auto},d=u===l;if(d||"keysequence"!==ci[n].type||!0!==l||(d=u&&!!u.length),h[n]&&d?void 0!==r&&r.push(c):(s=!1,void 0!==i&&i.push(c)),!s&&void 0===t)break}if(void 0!==t&&(t.good.push(r),t.bad.push(i)),s)return!0}return!1}function q(e){for(var t=0;t<e.length;t++)if(0!==e[t].length)return 1}var e,o,r=document.getElementById("options"),ie=(r.textContent="",document.createDocumentFragment()),ne=(P||((e=Xr("h1")).textContent=li("options_header"),ie.appendChild(e)),document.getElementById("saved")),de=(ne||((ne=Xr("div")).style.visibility="hidden",ne.id="saved",ne.classList.add("topsaved")),function(e){var t="Saved! Refresh the target page for changes to take effect";return t=e&&e.needrefresh||!Pr&&"undefined"==typeof GM_addValueChangeListener?t:"Saved!"}),pe=function(e){var t=Xr("p");t.textContent=li(e),ne.textContent="",ne.appendChild(t)},ae=(pe(de()),null),i=(ui.check_updates&&1===we(H,ui.last_update_version)&&ie.appendChild(((e=Xr("div")).classList.add("update-available"),e.innerHTML="Update available: v"+H+" -&gt; ",i=Qt(),e.innerHTML+=i?'<a href="'+i+'" target="_blank" rel="noreferer">v'+ui.last_update_version+"</a>":"v"+ui.last_update_version,e)),document.createElement("p")),n=(Tr(i)&&ie.appendChild(i),Xr("div")),a=(n.id="topbtns",ie.appendChild(n),Xr("div")),s=(a.id="importexport",a.classList.add("center-outer"),a.style.display="none",ie.appendChild(a),Xr("div")),l=(s.classList.add("center-inner"),a.appendChild(s),Xr("textarea")),u=(s.appendChild(l),Xr("button")),c=(u.innerText=li("Import"),u.onclick=function(){var t,e;u.classList.contains("disabled")||(u.classList.add("disabled"),e=l.value,e=No(e),t=function(e){if(e&&e.value){var t,o,r=e.value,e=e.append,i=!1,n=si(ui),a=si(e?ui:it);for(o in r){if(!(o in ui)){if("settings_version"===o){t=r[o];continue}Kr("Unknown key in imported settings:",o)}a[o]=r[o]}for(o in a)Or(a[o])!==Or(n[o])&&(ui[o]=a[o],ar(o,a[o]),i=!0);lr(t=void 0===t?1:t,a,function(e){u.classList.remove("disabled"),i||e?(Yr("Settings imported"),setTimeout(function(){tr()},1)):Yr("No settings changed"),p(!1)})}else l.value="Error!",u.classList.remove("disabled")},/^https?:\/\//.test(e=e)?ai({method:"GET",url:e,onload:function(e){if(200!==e.status)return console.error(e),t(null);t(N(e.responseText))}}):t(N(e)))},s.appendChild(u),Xr("div")),d=Xr("button"),p=(d.innerText=li("Save"),d.onclick=function(){var e=l.value,t={url:"data:text/plain,"+encodeURIComponent(e),filename:"settings.txt"};Oi(t,t.filename,e.length)},c.appendChild(d),s.appendChild(c),function(e,t){e?a.style.display="block":(m=null,a.style.display="none"),t?(e&&(m="import"),u.style.display="inline-block",c.style.display="none"):(e&&(m="export"),u.style.display="none",c.style.display="block")}),m=null,d=Xr("button"),s=(d.id="importbtn",d.innerText=li("Import"),d.title=li("Import settings"),d.onclick=function(){if("import"===m)return p(!1);l.value="",p(!0,!0)},n.appendChild(d),Xr("button")),h=(s.id="exportbtn",s.innerText=li("Export"),s.title=li("Export settings"),s.onclick=function(){if("export"===m)return p(!1);var t=si(ui);ir("settings_version",function(e){void 0!==e&&(t.settings_version=e),l.value=Or(t),p(!0,!1)})},n.appendChild(s),{}),g={},T=function(e,t){void 0===t&&(t={});function o(e){var i=si(e);if(!i)return null;"string"==typeof i&&(i=si(Ze[i])),Gr(i)||(i=[i]);var r=[];return ri(i,function(e){var t;e._condition?(t=si(Ze[e._condition]),Gr(t)||(t=[t]),ri(t,function(o){ii(e,function(e,t){"_condition"!==e&&(o[e]=t)}),r.push(o)})):r.push(e)}),i=[],ri(r,function(e){i.push(e);var r=[];if(ii(e,function(e,t){var o=ci[e];o&&o.profiled&&r.push(e)}),r.length)for(var t=0;t<tn;t++){var o=si(e);ri(r,function(e){o["t"+(t+2)+"_"+e]=o[e],delete o[e]}),o._auto=!0,i.push(o)}}),i}var r=!0,i=o(e.requires),n=o(e.disabled_if);return e.imu_enabled_exempt||ui.imu_enabled||(r=!1),t.good=[],t.bad=[],r&&i&&(r=S(i,t),t.good=[]),r&&n&&(t.good=[],t.bad=[],r=!S(n,t),t.bad=[]),r},I=function(e){var t=ci[e],t=(h[e]="processing",g[e]={},T(t,g[e]));return h[e]=t},A=function(e,t){if(t in e)return e[t];for(var o in e)if(/^_group/.test(o))return A(e[o],t);return null},E=function(e,t){if(t.textContent="",ui.settings_show_requirements){var o=q((r=e).good)?"good":q(r.bad)?"bad":null;if(o){for(var r=Xr("p"),i=(r.innerText=li("Requires:"),t.appendChild(r),[]),n=e[o],a=0;a<n.length;a++)if(0!==n[a].length){for(var s=Xr("ul"),l=!1,u=0;u<n[a].length;u++){var c,d,p,m,h=n[a][u];h.auto||(c=h.setting,m=d=null,h.setting in ci&&(c=li((d=ci[h.setting]).name),m=(m=d.category||null)&&li(Xe[m])),d="",p=h.required_value,(h="input_"+h.setting+"_"+h.required_value)in ce?p=ce[h]:m&&(d="("+m+") "),h="good"===o?"!=":"=",(m=Xr("li")).innerText=d+c+" "+h+" "+p,s.appendChild(m),l=!0)}l&&i.push(s)}for(var g=[],a=0;a<i.length-1;a++){g.push(i[a]);var f=Xr("p");f.innerText=li("Or:"),g.push(f)}g.push(i[i.length-1]);for(a=0;a<g.length;a++)t.appendChild(g[a])}}};function se(){var e=ie.querySelectorAll("div.option");h={};for(var t=0;t<e.length;t++){var o=e[t].id.replace(/^option_/,"");if(I(o)){e[t].classList.remove("disabled"),e[t].classList.remove("disabled-hidden"),e[t].getElementsByClassName("requirements")[0].classList.add("hidden");for(var r,i=ci[o].options,n=new RegExp("^input_"+o+"_"),a=e[t].querySelectorAll("input, textarea, button, select, option"),s=0;s<a.length;s++)(l=a[s]).disabled=!1,i&&(r=l.id.replace(n,""))!==l.id&&(r=A(i,r))&&!T(r)&&(l.disabled=!0)}else{e[t].classList.add("disabled"),(!ui.settings_show_disabled||!ui.settings_show_disabled_profiles&&/^t[0-9]+_/.test(o)&&ui["mouseover_trigger_key_"+o.replace(/^(t[0-9]+)_.*/,"$1")].length<=0)&&e[t].classList.add("disabled-hidden");for(var l,a=e[t].querySelectorAll("input, textarea, button, select"),s=0;s<a.length;s++)(l=a[s]).disabled=!0;var u=e[t].getElementsByClassName("requirements")[0];u.classList.remove("hidden"),E(g[o],u)}}}function le(){for(var e=ie.querySelectorAll("div.option"),t=0;t<e.length;t++){var o=e[t].id.replace(/^option_/,""),r=ci[o];r.warning&&(r=r.warning[ui[o]+""],o=e[t].querySelector(".warning"))&&(r?(o.innerText=r,o.style.display="block"):o.style.display="none")}}function me(e,t){function o(){0!==i.length&&((r=Xr("`"===n?"code":"span")).innerText=i,i="",e.appendChild(r))}var r=null,i="",n=null;if(Wr(t,"`")<0&&Wr(t,"\n")<0)i=t;else for(var a=0;a<t.length;a++)t[a]===n?(o(),n=null):"`"===t[a]?(o(),n=t[a]):"\n"===t[a]?(o(),e.appendChild(Xr("br"))):i+=t[a];o()}ui.settings_tabs&&((o=Xr("div")).id="tabs",ie.appendChild(o));var f={},ue={};for(k in er in Xe||(er="general"),Xe){var _,U,v=li(Xe[k]),b=Xr("div"),v=(b.id="cat_"+k,b.classList.add("category"),f[k]=[b],ui.settings_tabs?(b.classList.add("tabbed"),(_=Xr("span")).classList.add("tab"),_.id="tab_cat_"+k,_.innerText=v,function(e){_.onclick=function(){er=e,window.location.hash="cat_fake_"+e,tr()}}(k),k===er?_.classList.add("active"):b.style.display="none",f[k].push(_),o.appendChild(_)):((U=Xr("h2")).innerText=v,b.appendChild(U)),Xr("div"));if(v.id="subcat_"+k,v.classList.add("subcat"),v.classList.add("frame"),b.appendChild(v),ue[k]=v,k in Ye)for(var R in Ye[k]){var y=Xr("div"),D=k+"_"+R,L=(y.id="subcat_"+D,y.classList.add("subcat"),y.classList.add("frame"),Xr("h3"));L.innerText=li(Ye[k][R]),y.appendChild(L),b.appendChild(y),ue[D]=y}ie.appendChild(b)}function he(e){return Gr(e)&&1===e.length?Or(e[0]):Or(e)}function j(h){var g=ci[h];if(g&&h in it){var c=ui[h],r=it[h];if(!g.hidden&&(!g.userscript_only||_e)&&(!g.extension_only||Pr)&&(!g.advanced||ge)&&(fe[g.category]=!0,!ui.settings_tabs||g.category===er)){function L(e,t,o){ve(e,t),_n(function(){M(t)}),pe(de(o)),ne.setAttribute("style",""),ne.classList.remove("fadeout"),ae&&clearTimeout(ae),ae=setTimeout(function(){ne.classList.add("fadeout")},2e3)}var i,e=Xr("div"),j=(e.classList.add("option"),e.id="option_"+h,(/^t[0-9]+_/.test(h)||/_t[0-9]+$/.test(h))&&e.classList.add("trigger_profile"),Xr("table")),t=(j.classList.add("option-table"),Xr("tr")),o=(j.appendChild(t),Xr("strong")),n=(me(o,li(g.name)),li(g.description)),a=((n=g.description_userscript&&_e?li(g.description_userscript):n)?o.title=n:o.classList.add("no-title"),Xr("td")),s=(a.classList.add("name_td"),a.classList.add("name_td_va_middle"),document.createElement("button")),M=(s.innerText="⮌",s.classList.add("revert-button"),s.title=li("Revert"),s.onclick=function(){s.disabled||(f(h,r,g),_n(tr))},function(e){var t=he(e),o=he(r);"keysequence"===g.type&&(t=Or(ua(e)),o=Or(ua(r))),t!==o?(a.classList.add("value_modified"),a.appendChild(s)):(a.classList.remove("value_modified"),s.parentElement===a&&a.removeChild(s))}),f=function(t,o,r){Pr&&r.required_permission?Qo(r.required_permission,function(e){e?L(t,o,r):tr()}):L(t,o,r)},_=(a.appendChild(o),M(c),t.appendChild(a),Xr("td")),l=(_.classList.add("value_td"),"options"),u={};if("boolean"==typeof r)l="options",u.true={name:li("yes")},u.false={name:li("no")},c?u.true.checked=!0:u.false.checked=!0;else if(g.options){if(g.options._randomize){var d,p=Object.keys(g.options),m={};for(d in g.options)"_"!=d[0]&&!g.options[d].is_null||(m[d]=g.options[d]);p.sort(function(){return be(2*ye())?1:-1});for(var v=0;v<p.length;v++)p[v]in m||(m[p[v]]=g.options[p[v]]);g.options=m}"combo"===g.options._type?l="combo":(l="options",u=si(g.options),i=function(e,t){if(e in t)t[e].checked=!0;else for(var o in t)o.match(/^_group/)&&i(e,t[o])},Gr(c)?ri(c,function(e){i(e,u)}):i(c,u))}else!g.type||"textarea"!==g.type&&"keysequence"!==g.type&&"number"!==g.type&&"lineedit"!==g.type||(l=g.type);if("options"===l){function P(u,e,t,c,d,p){var o="input_"+h+"_"+e,r=h,m=(d&&"and"===p&&(r+="_"+d),Xr("input")),r=(m.setAttribute("type","checkbox"),m.name=r,m.value=e,m.id=o,t.checked&&m.setAttribute("checked","true"),m.addEventListener("change",function(e){var t=this.value;if("false"===(t="true"===t?!0:t)&&(t=!1),this.checked){if(d&&"or"===p)for(var o=0;o<_.children.length;o++)if((n=_.children[o]).id!==h+d)for(var r=0;r<n.children.length;r++)"INPUT"===(a=n.children[r]).tagName&&(a.checked=!1);if("or"===c)for(o=0;o<u.children.length;o++)"INPUT"===(n=u.children[o]).tagName&&n.id!=m.id&&(n.checked=!1)}else{for(var i=!1,o=0;o<_.children.length;o++){for(var n=_.children[o],r=0;r<n.children.length;r++){var a=n.children[r];if("INPUT"===a.tagName&&a.checked){i=!0;break}}if(i)break}i||(this.checked=!0)}if(d||"or"!==c){for(var s=[],l=_.getElementsByTagName("input"),o=0;o<l.length;o++)(n=l[o]).checked&&s.push(n.value);f(h,s,g)}else f(h,t,g);se(),le()}),u.appendChild(m),Xr("label"));r.setAttribute("for",o),ce[o]=li(t.name),ce[o]?r.innerText=ce[o]:r.innerHTML="&nbsp;",t.description&&(r.title=li(t.description)),u.appendChild(r)}var b,H=(H=u._type)||"or";for(b in u)if(!u[b].extension_only||Pr)if(b.match(/^_group/)){var $,F=(F=u[b]._type)||"or";for($ in(y=Xr("div")).classList.add("group"),y.id=h+b,u[b])$.match(/^_/)||P(y,$,u[b][$],F,b,H);_.appendChild(y)}else b.match(/^_/)||P(_,b,u[b],H)}else if("textarea"===l){var y=Xr("table"),w=Xr("tr"),o=Xr("td"),k=(o.style.verticalAlign="middle",Xr("tr")),x=Xr("td"),C=(x.style.textAlign="center",Xr("textarea")),z=(C.style.height="5em",C.style.width="20em",c&&(C.value=c),Xr("button"));z.innerText=li("save"),z.onclick=function(){f(h,C.value,g),se()},o.appendChild(C),x.appendChild(z),k.appendChild(x),w.appendChild(o),y.appendChild(w),y.appendChild(k),_.appendChild(y)}else if("number"===l||"lineedit"===l){var y=Xr("table"),w=Xr("tr"),N=(Xr("td").style="display:inline",Xr("input")),z=(N.type="text",N.setAttribute("spellcheck",!1),"number"===l&&(N.style="text-align:right",void 0!==g.number_max&&N.setAttribute("max",g.number_max.toString()),void 0!==g.number_min&&N.setAttribute("min",g.number_min.toString()),g.number_int)&&N.setAttribute("step","1"),void 0!==c&&(N.value=c),N.oninput=N.onblur=function(e){var t=!1,o=!0,r=("blur"===e.type&&(o=!(t=!0)),N.value.toString());if("number"===l){var i=r=parseFloat(r);if(isNaN(r)){if(!t)return;r=0}if(g.number_int&&(r=parseInt(r)),void 0!==g.number_max&&(r=ti(r,g.number_max)),void 0!==g.number_min&&(r=ei(r,g.number_min)),isNaN(r))return void Zr("Error: number is NaN after min/max");!g.number_int&&r===i||(N.value=r),r=parseFloat(r),"blur"===e.type&&r!==i&&(o=!0)}o&&f(h,r,g)},Xr("td"));z.classList.add("number_units"),g.number_unit&&(z.innerText=li(g.number_unit)),w.appendChild(N),w.appendChild(z),y.appendChild(w),_.appendChild(y)}else if("keysequence"===l){for(var y=Xr("table"),S=si(c),q=(0<S.length&&!Gr(S[0])&&(S=[S]),[]),v=0;v<S.length;v++)q.push(v);function O(){for(var e=[],t=0;t<q.length;t++)0<=q[t]&&0<S[t].length&&e.push(S[t]);f(h,e,g),se()}function G(){for(var e=!g.keyseq_allow_none&&W(),t=0;t<y.children.length;t++){var o=y.children[t].getElementsByClassName("removebtn");0<o.length&&(o[0].style.display=e?"none":"initial")}}function B(t,e){function o(){te?Zo(oe)&&(S[t]=oe,O(),l()):(oe=[],re=[],te=function(){var e=oe;0===e.length&&(e=S[t]),i.innerText=Go(e),Zo(oe)?a.classList.remove("disabled"):a.classList.add("disabled")},a.innerText=li("save"),s.style="display:inline-block")}var r=Xr("tr"),i=(r.classList.add("keyseq"),Xr("td")),n=(i.classList.add("record_keybinding"),c&&(i.innerText=Go(S)[t]),Xr("td")),a=(n.style="display:inline",Xr("button")),s=(a.innerText=li("Record"),a.onmousedown=o,Xr("button")),l=(s.innerText=li("Cancel"),s.style="display:none",function(){te=!1,a.innerText=li("Record"),a.classList.remove("disabled"),s.style="display:none",i.innerText=Go(S)[t]}),u=(s.onmousedown=l,Xr("button"));return u.innerText="×",u.title=li("Remove"),u.classList.add("removebtn"),u.classList.add("small"),!g.keyseq_allow_none&&W()&&(u.style="display:none"),u.onclick=function(){if(g.keyseq_allow_none||!W()){te=!1,q[t]=-1;for(var e=t+1;e<q.length;e++)q[e]--;r.parentElement.removeChild(r),G(),O()}},r.appendChild(i),n.appendChild(a),n.appendChild(s),n.appendChild(u),r.appendChild(n),e&&o(),r}for(var W=function(){for(var e=0,t=0;t<q.length;t++)0<=q[t]&&e++;return e<2},v=0;v<q.length;v++)y.appendChild(B(v));var V=Xr("tr"),x=Xr("td"),o=Xr("button");o.innerText="+",o.title=li("Add keybinding"),o.classList.add("small"),o.onclick=function(){for(var e=-1,t=q.length-1;0<=t;t--)if(0<=q[t]){e=q[t];break}q.push(e+1),S.push([]),y.insertBefore(B(q.length-1,!0),V),G()},x.appendChild(o),V.appendChild(x),y.appendChild(V),_.appendChild(y)}else if("combo"===l){var T,I,A,X,E,y=Xr("select"),Y=null;for(T in g.options)T&&"_"!==T[0]&&(A=(I=g.options[T]).name,"name_gettext"in I&&!I.name_gettext||(A=li(A)),ce[X="input_"+h+"_"+T]=A,(E=Xr("option")).innerText=A,E.value=T,E.id=X,I.description&&(E.title=li(I.description)),I.is_null&&(Y=T),y.appendChild(E));k=ui[h];null===k&&Y&&(k=Y),y.value=k,y.onchange=function(){var e=y.value;e in g.options&&g.options[e].is_null&&(e=null),f(h,e,g),se(),le()},_.appendChild(y)}t.appendChild(_),e.appendChild(j),n&&ui.settings_visible_description&&(me(z=Xr("p"),n),z.classList.add("description"),e.appendChild(z)),g.warning&&((w=Xr("p")).style.display="none",w.classList.add("warning"),e.appendChild(w));var Z,U,R,D,o=Xr("div");if(o.classList.add("requirements"),o.classList.add("hidden"),e.appendChild(o),g.example_websites){var K=Xr("ul");K.classList.add("examples");for(var J=0;J<g.example_websites.length;J++){var Q=g.example_websites[J],ee=Xr("li");ee.innerText=li(Q),K.appendChild(ee)}e.appendChild(K)}g.documentation&&(x=(Z=function(e){return decodeURIComponent(e?"%E2%AF%86":"%E2%AF%88")+" "+li(g.documentation.title)})(!1),(U=Xr("span")).classList.add("spoiler-title"),U.innerText=x,R=!1,U.onclick=function(){R=!R,D.style.display=R?"block":"none",U.innerText=Z(R)},(D=Xr("div")).classList.add("spoiler-contents"),D.style.display="none",D.innerHTML=g.documentation.value,e.appendChild(U),e.appendChild(D));k=Xr("div");k.classList.add("error"),e.appendChild(k),(g.category?(t=g.category,g.subcategory&&(t+="_"+g.subcategory),ue[t]):ie).appendChild(e)}}}var ge=ui.advanced_options,fe={},ce={},w=Object.keys(ui);ui.settings_alphabetical_order&&w.sort(function(e,t){var o=ci[e],r=ci[t];return o&&r&&o.name&&r.name?li(o.name).localeCompare(li(r.name)):e.localeCompare(t)});for(var k,M,x=0;x<w.length;x++)j(w[x]);for(k in se(),le(),f){var C=f[k];if(!(k in fe))for(x=0;x<C.length;x++)C[x].parentNode.removeChild(C[x])}for(M in ue){var z=ue[M];0===z.querySelectorAll(".option").length&&z.parentNode.removeChild(z)}document.body.appendChild(ne),r.appendChild(ie),ie=r}function Wn(e){return Gr(e)?e[0]:e}function mi(e){return Wn(ui[e])}function or(t){try{return void 0===t?t:"true"===t||"false"!==t&&$(t)}catch(e){return t}}function rr(o,r){if(Pr)Hr({type:"getvalue",data:o},function(o){o=o.data,ii(o,function(e,t){o[e]=or(t)}),r(o)});else{var i,n;if("undefined"!=typeof GM_getValue&&"FireMonkey"!==y)return n={},ri(o,function(e){n[e]=or(GM_getValue(e,void 0))}),r(n);"undefined"!=typeof GM&&GM.getValue?(i=0,n={},ri(o,function(t){GM.getValue(t,void 0).then(function(e){n[t]=or(e),++i>=o.length&&r(n)},function(e){Zr(e),++i>=o.length&&r(n)})})):r({})}}function ir(t,o){rr([t],function(e){return o(e[t])})}v&&(He=window.location.hash)&&(Ao=He.match(/^#?cat(?:_fake)?_(.*)$/))&&(er=Ao[1]);var nr=0;function ar(e,t,o){var r;e in ci&&ci[e].onedit&&ci[e].onedit(t),t=Or(t),Pr?((r={})[e]=t,nr++,Hr({type:"setvalue",data:r},function(){nr--,o&&o()})):"undefined"!=typeof GM_setValue?(GM_setValue(e,t),o&&o()):"undefined"!=typeof GM&&GM.setValue?GM.setValue(e,t).then(function(){o&&o()}):o&&o()}function ve(e,t){t!==ui[e]&&(t=si(t),ui[e]=t,Pr&&(e in ut||(ut[e]=[]),ut[e].push(t)),ar(e,t))}function sr(e){if(ui.allow_live_settings_reload){var t,o=!1;for(t in e)if(void 0!==e[t].newValue){var r=$(e[t].newValue);if(t in ut){var i=Br(ut[t],r),n=!1;if(0<=i&&i<ut[t].length-1&&(n=!0),ut[t].splice(i,1),n)continue}i=ur(t,r),o=i||o;i&&t in ci&&"onupdate"in ci[t]&&ci[t].onupdate()}o&&nr<=0&&_i&&tr()}}function lr(e,t,o){(!e||"number"!=typeof e&&(e=parseInt(e),isNaN(e)))&&(e=0),void 0===t&&(t=ui);var r,i=!1;if(0===e){if(t.mouseover_trigger){for(var n=[],a=0;a<t.mouseover_trigger.length;a++){var s,l=t.mouseover_trigger[a];l.match(/^delay_[0-9]+/)?ve("mouseover_trigger_delay",s="number"==typeof(s=(s=Qr(t.mouseover_trigger[a].replace(/^delay_([0-9]+).*?$/,"$1")))<=0||isNaN(s)?!1:s)&&10<=s?10:s):n.push(l)}0===n.length?(ve("mouseover_trigger_key",it.mouseover_trigger_key),ve("mouseover_trigger_behavior","mouse")):(ve("mouseover_trigger_key",n),ve("mouseover_trigger_behavior","keyboard"))}ve("settings_version",1),i=!0,e=1}if(1===e&&(r="none",void 0===t.mouseover_use_fully_loaded_video&&void 0===t.mouseover_use_fully_loaded_image||(!1!==t.mouseover_use_fully_loaded_video&&void 0!==t.mouseover_use_fully_loaded_video||(r="video"),void 0===t.mouseover_use_fully_loaded_image?it.mouseover_use_fully_loaded_image||(r="media"):!1===t.mouseover_use_fully_loaded_image&&(r="media"),ve("mouseover_allow_partial",r)),ve("settings_version",2),i=!0,e=2),2===e&&("mouseover_close_on_leave_el"in t&&ve("mouseover_close_el_policy",t.mouseover_close_on_leave_el?"both":"popup"),ve("settings_version",3),i=!0,e=3),3===e&&("mouseover_scroll_behavior"in t&&("zoom"!==Wn(t.mouseover_scroll_behavior)&&ve("mouseover_scrollx_behavior",t.mouseover_scroll_behavior),ve("mouseover_scrolly_behavior",t.mouseover_scroll_behavior)),ve("settings_version",4),i=!0,e=4),4===e&&("mouseover_mask_styles"in t&&t.mouseover_mask_styles&&(ve("mouseover_mask_styles2",t.mouseover_mask_styles),ve("mouseover_enable_mask_styles",!0)),ve("settings_version",5),i=!0,e=5),5===e&&("mouseover_video_seek_vertical_scroll"in t&&t.mouseover_video_seek_vertical_scroll&&ve("mouseover_scrolly_video_behavior","seek"),"mouseover_video_seek_horizontal_scroll"in t&&t.mouseover_video_seek_horizontal_scroll&&ve("mouseover_scrollx_video_behavior","seek"),ve("settings_version",6),i=!0,e=6),6===e&&("mouseover_support_pointerevents_none"in t&&t.mouseover_support_pointerevents_none&&ve("mouseover_find_els_mode","full"),ve("settings_version",7),i=!0,e=7),7===e&&("mouseover_enable_mask_styles"in t&&t.mouseover_enable_mask_styles&&ve("mouseover_enable_mask_styles2","always"),ve("settings_version",8),i=!0,e=8),8===e){if("allow_video"in t&&!t.allow_video){ve("mouseover_allow_video",!1);for(a=0;a<tn;a++)ve("t"+(a+2)+"_mouseover_allow_video",!1);ve("redirect_video",!1)}ve("settings_version",9),i=!0,e=9}if(9===e){if("allow_audio"in t&&t.allow_audio){ve("mouseover_allow_audio",!0);for(a=0;a<tn;a++)ve("t"+(a+2)+"_mouseover_allow_audio",!0);ve("redirect_audio",!0)}ve("settings_version",10),i=!0,e=10}10===e&&("replaceimgs_remove_size_constraints"in t&&t.replaceimgs_remove_size_constraints&&ve("replaceimgs_size_constraints","remove"),ve("settings_version",11),i=!0,e=11),o(i)}function ur(e,t){return void 0!==t&&("number"==typeof ui[e]&&(t=parseFloat(t)),(We[e]=t)!==ui[e])&&(ui[e]=t,!0)}var Vn=!0;try{/^[a-z]+:\/\/[^/]*txxx\.com\//.test(window.location.href)&&(Vn=!1)}catch(e){}function Xn(e){Vn&&(e.style.all="initial"),e.style.removeProperty("offset-inline-start"),e.style.setProperty("transition-duration","0s","important")}function cr(e,t){if(Mr&&Yr("check_bad_if",e,t),e&&Gr(e)&&0!==e.length){for(var n=wn(t.responseHeaders),o=0;o<e.length;o++)if(function(e){if(e.headers)for(var t in e.headers){for(var o=t.toLowerCase(),r=!1,i=0;i<n.length;i++)if(n[i].name.toLowerCase()===o){if("function"==typeof e.headers[t]?r=e.headers[t](n[i].value):"string"==typeof e.headers[t]&&(r=n[i].value===e.headers[t]),r)break;return!1}if(!r)return!1}return!0}(e[o]))return!0}else Mr&&Yr("check_bad_if (!badif)");return!1}pi.check_bad_if=cr;function dr(e,t){return e?("image"===e.type||"video"===e.type||"audio"===e.type)&&!("video"===e.type&&t.deny_video||"audio"===e.type&&t.deny_audio||e.delivery&&(e.need_custom_xhr&&!ui.custom_xhr_for_lib||!(e.delivery&&e.delivery in Zn&&Zn[e.delivery].active()))):(Zr("is_media_type_supported called without media_info"),!0)}var Yn,Zn={},pr=function(e){return"video"===e.media_info.type||!!/\.(?:mp4|webm|mkv|mpg|ogv|wmv|m3u8|mpd)(?:[?#].*)?$/i.test(e.url)},mr=function(e){return"audio"===e.media_info.type||!!/\.(?:mp3|m4a|oga|mkv|wma|mp4|ogg)(?:[?#].*)?$/i.test(e.url)};function Kn(e,t){if(e.method||(e.method="GET"),e.headers||(e.headers={}),t.headers)for(var o in t.headers)vo(e.headers,o,t.headers[o]);return e.url!==t.url||t.can_head||"HEAD"!==e.method||(e.method="GET"),e}function hr(e,t){(ui.popup_use_anonymous_crossorigin||t&&!t.need_credentials)&&e.setAttribute("crossorigin","anonymous")}function Jn(e){return"VIDEO"===e.tagName||"SOURCE"===e.tagName&&!(!e.parentElement||"VIDEO"!==e.parentElement.tagName)}function Qn(e){var t=fr(e);return t||("SOURCE"===Dn(e)?fr(e.parentElement):null)}function ea(e){var t;mt(yr,e)?(t=rn(yr,e),on(yr,e,++t)):on(yr,e,1)}function ta(e){var t;mt(yr,e)&&(t=rn(yr,e),--t<=0?(_r(e),ht(yr,e)):on(yr,e,t))}var gr=function(){return z},oa=function(e){return gr().createObjectURL(e)},ra=function(e){return Ki(e)&&(e=e.src),gr().revokeObjectURL(e)},fr=function(e){return e?"VIDEO"===(e=Dn(e))?"video":"AUDIO"===e?"audio":"PICTURE"===e||"IMG"===e?"image":null:null},_r=function(e){Mr&&Yr("destroy_image",e),ra(e.src),e.setAttribute("imu-destroyed","true")},vr=function(e,t,o,r,i){function n(e){var t;Zr("Error loading video",((t=e=e).path&&e.path[0]&&(t=e.path[0].error),t=e.originalTarget?e.originalTarget.error:t)),s(),i()}var a=Xr(t),e=(hr(a,e),ui.mouseover_video_autoplay&&a.setAttribute("autoplay","autoplay"),!ui.mouseover_video_controls&&"audio"!==t||a.setAttribute("controls","controls"),ui.mouseover_video_loop&&!ui.mouseover_gallery_move_after_video&&a.setAttribute("loop",!0),parseInt(ui.mouseover_video_volume)),e=ei(ti(e,100),0),s=(a.volume=e/100,ui.mouseover_video_muted&&(a.muted=!0),function(){a.onloadedmetadata=null,a.removeEventListener("loadedmetadata",u)}),l=!1,u=function(){if(!l){if(l=!0,a.removeEventListener("error",n,!0),s(),!o.running)return i(!0);a.hasAttribute("loop")&&ui.mouseover_video_autoloop_max&&ui.mouseover_video_autoloop_max<a.duration&&a.removeAttribute("loop");var e,t=null;o.source&&o.source.el&&"VIDEO"===(e="SOURCE"===(e=o.source.el).tagName?e.parentElement:e).tagName&&(t=e),ui.mouseover_video_resume_from_source&&t&&t.currentTime&&(ui.mouseover_video_resume_if_different||oi(t.duration-a.duration)<1||oi(1-t.duration/a.duration)<.01)&&(a.currentTime=t.currentTime),ui.mouseover_video_pause_source&&t&&t.pause(),_n(function(){r(a)})}};return a.onloadedmetadata=u,a.addEventListener("loadedmetadata",u),a.onended=function(){ui.mouseover_enable_gallery&&ui.mouseover_gallery_move_after_video&&Yn(1)},a.addEventListener("error",n,!0),a},br=function(e,t,o){function r(){clearInterval(n),i.onload=null,i.onerror=null}var i=Xr("img"),n=(hr(i,e),i.onload=function(){if(r(),0===i.naturalWidth||0===i.naturalHeight)return Mr&&Yr("naturalWidth or naturalHeight == 0",i),o();t(i)},i.onerror=function(e){Mr&&Yr("Error loading image",i,e),r(),o()},setInterval(function(){0!==i.naturalWidth&&0!==i.naturalHeight&&(r(),t(i))},15));return i},yr=ct(),wr=null,kr={};function ia(c,o,d){if(Mr&&Jr("check_image_get","check_image_get",si(c),o,si(d)),!c||!c[0]||!c[0].url)return o(null);if(!d.running)return o(null);function r(e){return ra(b),c.shift(),Mr&&Jr("check_image_get","check_image_get(err_cb):",c,d),ia(c,o,d)}var p=r;if(!d.set_cache&&!d.use_cache||wr||(e=ui.popup_cache_itemlimit,wr=new ln({max_keys:e=e<=0?null:e,destructor:function(e,t){t&&t.img&&ta(t.img)}})),c[0].media_info||(Kr("No media info",c[0]),c[0].media_info=si(De.media_info)),!dr(c[0].media_info,d))return Kr("Media type",c[0].media_info,"is not supported"),p();if(d.use_cache&&wr.has(c[0].url)){var e=wr.get(c[0].url);Mr&&Jr("check_image_get","check_image_get(cached):",e.img,e.resp,c[0]);var t=!1;if(!(t=(i=e.img)&&("VIDEO"!==i.tagName&&"AUDIO"!==i.tagName||ui.popup_cache_resume_video||(i.currentTime=e.currentTime||0),i.hasAttribute("imu-destroyed"))?!0:t))return e.filesize&&!c[0].filesize&&(c[0].filesize=e.filesize),void(d.head?o(e.resp,c[0]):o(e.img,e.resp.finalUrl,c[0],e.resp))}var i,n,m,a,h,s,l,u,g,f,_="GET",v="blob",b=null,t=pr(c[0]),y=(e=c[0],pr(e)||mr(e)),w=!1;if((d.incomplete_image||y&&d.incomplete_video||d.head)&&(w=!0),(c[0].need_blob||c[0].need_data_url)&&(w=!1),y&&!c[0].media_info.delivery&&(c[0].media_info.delivery=function(e){e=mn(e,{split_ext:!0});return"mpd"===e[1]?"dash":"m3u8"===e[1]?"hls":null}(c[0].url)),(d.head||w)&&(_=w&&!c[0].can_head?"GET":"HEAD",v=void 0),!c[0].url.match(/^data:/)||c[0].media_info.delivery)return n=function(t,o,e){if(e)return f.apply(t,o);e=kr[u];e?(delete kr[u],ri(e,function(e){e(t,o)})):Zr("Already ran cbs?",t,o,u)},f=o,m=c[0].url,Yr("Trying "+m),c[0].url&&/^blob:/.test(c[0].url)?(Yr("Blob URL"),p()):c[0].bad?(Yr("Bad image"),p()):c[0].is_pagelink?(Yr("Page link"),p()):_t(c[0].url)?(Yr("Invalid URL"),p()):(m.replace(/^([a-z]+:\/\/[^/]*).*?$/,"$1"),(a=c[0].headers)&&0!==Object.keys(a).length?a.Origin||a.origin:(y=window.location.href,/^https?:\/\//.test(y)||(y=""),a={Referer:y}),h=!1,s=function(o){if(!h){if(h=!0,!d.running)return f(null);Mr&&Jr("check_image_get","check_image_get(onload)",si(o),o.readyState);var e=o.status.toString()[0],t=Oo(c[0].head_ok_errors,o.status);if("4"!==e&&"5"!==e||405===o.status||!0===t){if(cr(c[0].bad_if,o))return Yr("Bad image (bad_if)",o,c[0].bad_if),p();if(d.head)f(o,c[0]);else{var e=kn(wn(o.responseHeaders)),s=c[0].media_info;if("image"===s.type&&e["content-type"]&&(t=(t=e["content-type"]).replace(/^\s*\[?\s*(.*?)\s*\]?\s*$/,"$1"),r={type:null,delivery:null},/^audio\//.test(t)&&(r.type="audio"),/^video\//.test(t)&&(r.type="video"),"application/oga"===t&&(r.type="audio"),"application/ogv"===t&&(r.type="video"),"application/ogg"===t&&(r.type="video"),"application/x-mpegurl"===t&&(r.type="video",r.delivery="hls"),t=r.type?r:null)&&(s.type=t.type,t.delivery)&&(s.delivery=t.delivery),!dr(s,d))return Kr("Media type",s,"is not supported"),p();if(ui.mouseover_matching_media_types&&d&&d.source&&d.source.el){var r=Qn(d.source.el);if(r&&r!==s.type)return Yr("Source was ",r,", this is",s.type,"skipping"),p()}function a(e){var t;Mr&&Jr("check_image_get","check_image_get(good_cb):",e,o.finalUrl,c[0],o),d.set_cache&&(t={img:e,resp:o,filesize:c[0].filesize},"VIDEO"!==e.tagName&&"AUDIO"!==e.tagName||(t.currentTime=e.currentTime),wr.set(c[0].url,t,60*(parseFloat(ui.popup_cache_duration)||0))),e&&ea(e),f(e,o.finalUrl,c[0],o)}function l(e,t){var o,r,i,n,a;"image"===s.type||!s.delivery||d.deny_nondirect_delivery?(o=e,r=t,i=c[0],o&&(n=function(e,t){e.src=t},a="string"==typeof r&&/^https?:\/\//i.test(r),Pr&&a?Hr({type:"override_next_headers",data:{url:r,method:"GET",headers:i.headers,anonymous:"anonymous"===o.getAttribute("crossorigin"),content_type:i.content_type||null}},function(){n(o,r)}):n(o,r))):s.delivery in Zn&&(a=Zn[s.delivery]).active()&&a.el_init({success:function(){},fail:p,info_obj:c[0],el:e,src:t})}function u(t,e){var o,r,i=p,n=(!e&&c[0].head_wrong_contenttype&&"audio"!==s.type&&(i=function(){var e=["video","image"];e.splice(Br(e,s.type),1),u(t,e[0])}),e=e||s.type,n=c[0],o=d,r=a,i=i,"image"===(e=e)?br(n,r,i):"video"===e||"audio"===e?vr(n,e,o,r,i):(Zr("Currently unsupported media type",e),i(),null));return l(n,t),n}var i,n;e["content-length"]&&100<parseInt(e["content-length"])&&(c[0].filesize=parseInt(e["content-length"]));w?u(o.finalUrl):o.response?(t=function(e){if(Mr&&Yr("check_image_get's loadcb",e,s),!(b=e))return p();u(e)},c[0].need_data_url||!ui.mouseover_use_blob_over_data&&!c[0].need_blob?(e=o.response,i=t,(n=new FileReader).onload=function(e){try{i(e.target.result)}catch(e){Zr(e),Zr(e.stack),i(null)}},n.readAsDataURL(e)):t(oa(o.response))):p()}}else p?(Yr("Bad status: "+o.status+" ( "+m+" )"),p()):Zr("Error: "+o.status)}},l=null,void(c[0].can_multiple_request&&!ui.mouseover_partial_avoid_head||!w||c[0].bad_if&&0!==c[0].bad_if.length?(p=function(e){n(null,null,e)},f=function(){n(this,arguments)},(u=_+" "+w+" "+m)in kr||(kr[u]=[]),kr[u].push(function(e,t){return t||e?o.apply(e,t):r()}),1<kr[u].length||(g=function(){l=ai({method:_,url:m,responseType:v,headers:a,trackingprotection_failsafe:!0,need_blob_response:"GET"==_,retry_503:!0,onprogress:function(e){function t(){l&&l.abort?l.abort():Kr("Unable to abort request")}d.running||t(),d.progress_cb&&e.lengthComputable&&e.loaded&&e.total&&d.progress_cb({total:e.total,loaded:e.loaded}),w&&2<=e.readyState&&e.responseHeaders&&(t(),s(e))},onload:s})},c[0].cookie_url&&Ae?Ae(c[0].cookie_url,function(e){if(!e)return g();vo(a,"cookie",he(e)),g()},{need_full:!0}):g())):s({status:200,responseHeaders:"Content-Type: "+(t?"video/mp4":"image/jpeg"),readyState:3,finalUrl:c[0].url})));i=Xr("img"),hr(i,c[0]),i.src=c[0].url,i.onload=function(){o(i,c[0].url,c[0])},i.onerror=function(e){Yr("Error loading image",e),p()}}function na(e,t){if(!ui.mouseover_ui_use_safe_glyphs)try{for(var o=0;o<t.length;o++)if(document.fonts.check(e,t[o]))return t[o]}catch(e){Zr(e)}return t[t.length-1]}var xr={8:"backspace",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",27:"esc",32:"space",37:"left",38:"up",39:"right",40:"down",44:"prntscreen",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",111:"/",106:"*",107:"+",109:"-",110:".",145:"scrlock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",226:"\\"},aa=9007199254740991,sa=aa,la='"Noto Sans", Arial, Helvetica, sans-serif';function Cr(e){var t=e.which;if(e.code){e=e.code.match(/^Numpad([0-9]+)$/);if(e)return e[1]}return t in xr?xr[t]:65<=t&&t<=90||48<=t&&t<=57?N(t).toLowerCase():void 0}function ua(e){return 0===e.length?[[]]:Gr(e[0])?e:[e]}function ca(o,e,t){if(Mr&&Yr("general_extension_message_handler",o),"settings_update"===o.type)sr(o.data.changes);else if("request"===o.type){var n=o.data;if(n.id in ge){function r(){for(var e=ge[n.id].data,t=["onload","onerror","onprogress","onabort","ontimeout"],o=!1,r=0;r<t.length;r++){var i=t[r];n.event===i&&e[i]&&(Mr&&Yr("Running "+i+" for response",n),e[i](n.data),o=!0)}Mr&&!o&&Kr("No event handler for",n),n.final&&delete ge[n.id]}if(n.data&&"blob"===n.data.responseType){var i=n.data._responseEncoded;if(i){var a,s="blob";if("arraybuffer"===n.data._wanted_responseType&&(s="arraybuffer"),i.value){for(var l=new Uint8Array(i.value.length),u=0;u<i.value.length;u++)l[u]=i.value.charCodeAt(u);if("blob"===s)try{n.data.response=new C([l.buffer],{type:i.type})}catch(e){Zr(e),n.data.response=null}else n.data.response=l.buffer}else if(i.objurl)return(a=new XMLHttpRequest).open("GET",i.objurl),a.responseType=s,a.onload=function(){ra(i.objurl),n.data.response=a.response,r()},a.onerror=function(){ra(i.objurl),Zr("Unable to load blob for",i,a),n.data.response=null,r()},void a.send()}else n.data.response=null}else n.data&&n.data.responseText&&!n.data.response&&(n.data.response=n.data.responseText);r()}else Mr&&Yr("Request ID "+n.id+" not in extension_requests")}else if("bg_redirect"===o.type){if(ui.redirect&&ui.redirect_extension&&ui.imu_enabled)try{var c=kn(o.data.responseHeaders);c["content-type"]&&Bo(c["content-type"])&&Wo(o.data.url,!1,function(e,t){Mo(t,function(){chrome.tabs.update(o.data.tabId,{url:e})},o.data.tabId)})}catch(e){Zr(e)}}else"get_localstorage"===o.type&&(pe(o.data.url)?t(me(o.data.keys,o.data.options)):t(null))}function da(e,t,o){t%o!=o-1?e():setTimeout(e,0)}function zr(){Mr&&Yr("do_mouseover ran");function y(){return!(!ui.imu_enabled||ui.apply_blacklist_host&&!Zi(window.location.href))}function w(){return t()&&!1!==f&&"number"==typeof f&&$}var t=function(){return y()&&ui.mouseover},k=!1,_e=0,ve=0,x="top",l=null,C=null,be=!1,z=0,N=0,Le=0,je=0,o=[],ye=[],S=null,we=null,ke=null,q=null,Me=null,xe=null,T=null,Pe=!1,He=null,I=null,u=null,A=null,p=null,E=null,Ce=!1,c=!1,ze=!1,m=null,Ne=[!1,!1],Se=!1,$e=ni.nullfunc,qe=ni.nullfunc,Fe=ni.nullfunc,Oe=null,Te=null,Ge=null,Be=ni.nullfunc,We=null,Ve=0,Xe=0,U=!1,Ye=null,R=null,D=0,L=null,j=0,Ie=!1,Ze=null,Ke=null,Je=null,Qe=null,et=null,tt=null,Ae=!1,M=!1,r=null,i=null,P=null,H=200,d=[],h={},g=[],ot=!1,e=Cn($r),rt=zn(e);var f=!1,_=null,Ee=!1,$=!0,F=null;function O(e){return ui[e=e,e=S&&(t="t"+S+"_"+e)in ui?t:e];var t}function it(e){return Wn(O(e))}function G(){var e,t;r&&(e=_e,t=ve,r.style.left=e-H/2+"px",r.style.top=t-H/2+"px")}var B=function(e,t){var o;P=t=t||"wait",M=!0,ui.mouseover_wait_use_el?(r||(Xn(r=Xr("div")),r.style.zIndex=sa,r.style.cursor=t,r.style.width=H+"px",r.style.height=H+"px",r.style.position="fixed",o=function(e,t){r.style.display="none",document.elementFromPoint(e.clientX,e.clientY).dispatchEvent(new MouseEvent(t,e)),r.style.display="block"},Vr(r,"click",function(e){return o(e,"click")}),Vr(r,"contextmenu",function(e){return o(e,"contextmenu")}),document.documentElement.appendChild(r)),r.style.cursor=t,r.style.display="block",G()):(i&&Ue(),(i=Xr("style")).innerText="*,a,img,video {cursor: "+t+"!important}",document.documentElement.appendChild(i))};var Ue=function(){Mr&&Yr("stop_waiting"),M=!1,ui.mouseover_wait_use_el||i&&(i.parentElement.removeChild(i),i=null),r&&(r.style.display="none")};function nt(){Ue()}var W=null;function b(){Mr&&Yr("cursor_not_allowed"),B(void 0,"not-allowed"),W&&clearTimeout(W),W=setTimeout(function(){W=null,"not-allowed"===P&&nt()},ui.mouseover_notallowed_duration)}function at(){(ui.mouseover_enable_notallowed_cant_load?b:Ue)()}function V(e,t,o,r){return!isNaN(r)&&void 0!==r||(r=0),e>=o.left-r&&e<=o.right+r&&t>=o.top-r&&t<=o.bottom+r}function X(){for(var e=0;e<o.length;e++)o[e].running=!1}function st(){ui.mouseover_auto_close_popup&&ui.mouseover_auto_close_popup_time&&(Y(),I=setTimeout(Re,1e3*ui.mouseover_auto_close_popup_time))}var Y=function(){I&&(clearTimeout(I),I=null)},Z=null;function lt(){ri(ye,function(e){for(var t=e.querySelectorAll("img, video, audio"),o=0;o<t.length;o++)"VIDEO"!==t[o].tagName&&"AUDIO"!==t[o].tagName||t[o].pause(),ta(t[o]);e.parentNode&&e.parentNode.removeChild(e);e=Br(ye,e);-1<e&&ye.splice(e,1)}),Z&&(clearTimeout(Z),Z=null)}function ut(){we&&(we.parentElement&&we.parentElement.removeChild(we),we=null),re&&(clearTimeout(re),re=null)}var K,J,Q,ee,te,oe,re=null;function Re(e){Mr&&Yr("resetpopups(",e,")");var t=!!(e=e||{}).from_remote;ri(ye,function(e){0<ui.mouseover_fade_time&&(ui.mouseover_enable_fade||ui.mouseover_enable_zoom_effect)?(ui.mouseover_enable_fade&&(e.style.opacity=0),ui.mouseover_enable_zoom_effect&&(e.style.transform="scale(0)"),Z=Z||setTimeout(lt,ui.mouseover_fade_time)):lt()}),we&&(De(we,"pointer-events","none"),0<ui.mouseover_mask_fade_time?(De(we,"opacity",0),re=re||setTimeout(ut,ui.mouseover_mask_fade_time)):ut()),!t&&$i()&&(Fr?Li("top",{type:"resetpopups"}):c&&Li(c,{type:"resetpopups"})),Ee=ze=!1,Y(),xe&&(p=xe),Pe=c=Ce=!1,He=T=u=xe=A=null,$e=ni.nullfunc,qe=ni.nullfunc,Fe=ni.nullfunc,U=!1,L=R=Ge=Te=Oe=null,j=D=0,e.automatic||(Se=!1),e.new_popup||(Ne=[!1,!1]),X(),e.new_popup&&!ui.mouseover_wait_use_el||Ue(),!$&&_&&(clearTimeout(_),_=null)}function ct(){return window.visualViewport?[window.visualViewport.width,window.visualViewport.height]:[window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight]}function ie(t,o,r){var e=Kn({url:o,onload:function(e){if(200!==e.status)return Zr("Unable to load",e),r(null);J(t.media_info.delivery,e.responseText,e.finalUrl||o,function(e){r(e)})}},t);ai(e)}wi.push(Re),J=function(i,n,a,s){bn("stream_parser",ui,ai,function(e){if(!e)return s(null);var t,o=e[i];"dash"===i?t=o.parse:"hls"===i&&(t=function(e){var t=new o.Parser;return t.push(e),t.end(),t.manifest});try{var r=t(n,a)}catch(e){return Zr(e),s(null)}return s(r)})},Q=function(a,s,e){function l(t,o){var r,i,n,e=s[t];if(!e)return o(null);i=function(e){return e?o(e):l(t+1,o)},(r=e).uri?(r.uri=u(r.uri),n=r.uri,ie(a,n,function(e){if(!e)return i(null);var t=r.attributes;qi(r,e),t&&(r.attributes=t),r.base_uri=n,r.uri=null,i(r)})):i(r)}(s=Gr(s)?s:[s]).sort(function(e,t){var e=e.attributes,t=t.attributes;return e.BANDWIDTH&&t.BANDWIDTH?t.BANDWIDTH-e.BANDWIDTH:e.RESOLUTION&&t.RESOLUTION?(e=e.RESOLUTION.width*e.RESOLUTION.height,t.RESOLUTION.width*t.RESOLUTION.height-e):0});var u=function(e){return cn(a.url,e,!0)};l(0,e)},ee=function(t,o){function r(e){e&&(e=i(e),Ni(n,e))}function e(e){e.map&&r(e.map.uri||e.map.resolvedUri),r(e.uri||e.resolvedUri)}var i=function(e){return cn(o.base_uri||t.url,e,!0)},n=[];return o.sidx&&e(o.sidx),ri(o.segments,e),n},K=function(t,a){ie(t,t.url,function(e){if(!e)return a(null);var r,i,n;n=function(e){var o,r;return e?(o=t,r={},ii(e,function(e,t){r[e]=ee(o,t)}),a(r)):a(null)},Q(r=t,(i=e).playlists,function(e){var t,o;return e?(t=(t=e.attributes.AUDIO)&&t in i.mediaGroups.AUDIO?(t=i.mediaGroups.AUDIO[t])[Object.keys(t)[0]]:null,o={video:e},t?void Q(r,t.playlists||t,function(e){return e?(o.audio=e,n(o)):n(null)}):n(o)):n(null)})})},te=function(t){if(null!==oe)return t(oe);var o=function(e){t(oe=e)};if("function"!=typeof SharedArrayBuffer)Kr("SharedArrayBuffer doesn't exist"),o(!1);else try{var r=new SharedArrayBuffer(1);new Uint8Array(r)[0]=30;xi("self.addEventListener('message', function(m) {try {var a = new Uint8Array(m.data); postMessage(a[0] === 30);} catch (e) {postMessage(false);}});",function(e){if(!e)return Kr("Unable to create blob"),o(!1);var t=oa(e),e=new Worker(t);e.onmessage=function(e){o(!!e.data)},e.postMessage(r),setTimeout(function(){ra(t)},10)})}catch(e){return void(Zr(e),o(!1))}};var ne,ae,se,le,ue,ce,de,pe=oe=null,me=function(t){if(!yi)return Zr("Unable to load FFmpeg library: disabled for this build"),t(null);te(function(e){if(!e)return Zr("Unable to load FFmpeg library: SharedArrayBuffer is missing or unusable"),t(null);var o;o=t,bn("ffmpeg",ui,ai,function(t){var e;return!t||t._imu_failed_loading?o(null):(t._imu_instance?e=t._imu_instance:(t.overridden_xhr&&(t.xhr.do_request=function(e){return e=Kn(e,{headers:{Referer:"",Origin:""}}),/\/ffmpeg-core(?:\.worker)?\.js$/.test(e.url)&&(e.url="data:application/javascript,void%200"),ai(e)}),e=t.lib.createFFmpeg({log:!0,progress:function(e){pe&&pe(e.ratio)}}),t._imu_instance=e),void(e.isLoaded()?o(e):e.load().then(function(){o(e)},function(e){Zr(e),t._imu_failed_loading=!0,o(null)})))})})};function he(t){function o(e){pe=null,se=!1,ae.length&&(e?ri(ae,function(e){_n(e.fail)}):he(t))}var r=ae.shift(),e=(pe=function(e){r.progress(e=1<e?1:e)},se=!0,null);try{e=t.run.apply(this,r.op)}catch(e){return Zr(e),o(!0),r.fail(!1)}e.then(function(e){o(),r.success(e)},function(e){o(!0),r.fail(!1)})}function ge(r,o,e,i){function n(){g=!0}function a(){if(!g){var t;if(h>=o.length)return t=[],ri(o,function(e){t.push(l[e])}),i(t);if(!(m>=o.length))for(var e=p;e<u;e++)!function(t,o){p++,Xi({url:t,headers:r.headers,can_head:r.can_head,head_wrong_contentlength:r.head_wrong_contentlength},{chunks:c,chunk_size:d,onload:function(e){p--,e||o(!1),l[t]=e,o(!0)},onprogress:function(e){s.update_progobj(t,e)}})}(o[m++],function(e){h++,g||(e?a():(n(),i(null)))})}}var s=new Vi({elements_num:o.length,cb:e}),l={},u=ti(3,o.length),c=ei(1,u/3*5|0),d=2097152,p=(1===(c=r.max_chunks?ti(c,r.max_chunks):c)&&(d=0),0),m=0,h=0,g=!1;return a(),{abort:n}}se=!(ae=[]),le=function(e,t,o,r,i){ae.push({op:t,progress:o,success:r,fail:i}),se||he(e)},ue=function(e){return e+"_"+Ai(10)+"_"},ce=function(t,e,o,r,i,n,a){function s(e){try{t.FS("unlink",r)}catch(e){}a(e)}var l=[];e&&l.push("-i",e),o&&l.push("-i",o),l.push("-c","copy",r),le(t,l,i,function(e){if(!function(e,t){try{var o=e.FS("stat",t);return o?o.size:null}catch(e){return null}}(t,r))return s();n(e)},s)},ne=function(g,e,f,_){var v=[];if(e.video&&v.push(e.video),e.audio&&v.push(e.audio),!v.length)return _(null);function b(t){if(v.length<=t){if(f(.5),y.length)if(2<y.length)return Zr("Unknown extra file(s)",y),x();else{var e=g;var o=y[0];var r=y[1];var i=function(e){f(.5+.5*e)};var n=function(e){return e?(k(),_(e)):x()};if(!e)return n(null);function a(){ce(e,o,r,l+".mkv",i,function(){n(l+".mkv")},function(e){Zr("Error muxing into .mkv",e),n(null)})}var s,l=ue("out");ui.stream_mux_mp4_over_mkv?ce(e,o,r,s=l+".mp4",function(e){i(e=.95<=e?.95:e)},function(){n(s)},function(e){if(!1===e)return n(null);a()}):a();return}return Kr("No files"),x()}f(t/v.length*.5);var u,c,d,p,m,h=v[t];h.length?1===h.length?(g.FS("writeFile",u=w+"stream"+t,h[0].data),y.push(u),b(t+1)):(u=g,c=function(e){if(!e)return x();y.push(e),b(t+1)},d=0,ri(h=h,function(e){d+=e.data.byteLength}),p=new Uint8Array(d),m=0,ri(h,function(e){p.set(e.data,m),m+=e.data.byteLength}),h=ue("concat"),u.FS("writeFile",h,p),c(h)):(Kr("No stream data for",t),b(t+1))}var y=[],w=ue("join"),k=function(){ri(y,function(e){g.FS("unlink",e)}),f(1)},x=function(){k(),_(null)};b(0)},de=function(o,r,e,i){var n=new Vi({elements_num:Object.keys(r).length,cb:e}),a={},s={},l=!1;ii(r,function(t,e){s[t]=ge(o,e,function(e){n.update_progobj(t,e)},function(e){if(!l){if(!e)return l=!0,ii(s,function(e,t){t.abort()}),i(null);a[t]=e,Object.keys(a).length===Object.keys(r).length&&i(a)}})})};function fe(d,i,n,p,a){bn("shaka",ui,ai,function(e){if(!e)return a();var t,o=e.lib;if(o.log.setLevel(o.log.Level.ERROR),!o.Player.isBrowserSupported())return Kr("Unsupported browser for Shaka"),a();t=d,(e=e).overridden_xhr&&(e.xhr.do_request=function(e){ai(Kn(e,t))});function r(e){return Zr(e),a()}var c=new o.Player(i);c.addEventListener("error",r),c.load(n).then(function(){if(d.subtitles)for(var e=0,t=d.subtitles;e<t.length;e++){var o=t[e],r=o.language_code||"en-US",i=o.title||null,n=o.mime||void 0;c.addTextTrack(o.url,r,"subtitle",n,void 0,i,!1)}var a,s,l=c.getTextTracks(),l=(l&&l.length&&c.selectTextTrack(l[0]),c.setTextTrackVisibility(!0),c.getVariantTracks()),u=(ui.hls_dash_use_max&&(l.sort(function(e,t){return t.bandwidth-e.bandwidth}),c.configure("abr.enabled",!1),c.selectVariantTrack(l[0],!0,0)),u=(u=mi("max_video_quality"))&&parseInt(u.substr(1)));return u&&(l.sort(function(e,t){var o=e.height-t.height;return o||e.bandwidth-t.bandwidth}),a=u,s=-1,ri(l,function(e,t){return e.height===a?(s=t,!1):e.height>a?(s=0===t?t:t-1,!1):void 0}),0<=(u=s))&&(c.configure("abr.enabled",!1),c.selectVariantTrack(l[u],!0,0)),p()},r)})}e={el_init:function(e){fe(e.info_obj,e.el,e.src,e.success,e.fail)},active:function(){return ui.allow_thirdparty_libs&&O("mouseover_allow_hlsdash")}},Zn.dash=e,Zn.hls=e;function dt(e){var t=function(e){if(e&&"string"==typeof e&&di(e)){for(var t={},o=e.split(/[;\n]/),r=0;r<o.length;r++){var i,n,a=di(o[r]);!a||Wr(a,":")<0||/^\s*\/\//.test(a)||(i=di(a.replace(/^(.*?)\s*:.*/,"$1")),n=!1,(a=di(a.replace(/^.*?:\s*(.*)$/,"$1"))).match(/!important$/)&&(n=!0,a=di(a.replace(/!important$/,""))),t[i]={value:a,important:n})}return t}}(e);if(t){var o,r=[];for(o in t){var i=o+": "+t[o].value;t[o].important,r.push(i+=" !important")}return r.join("; ")}}function pt(n,e,a){e=function(e,o){if("string"==typeof e&&(e=di(e))){for(var r={},t="default",i=e.split("\n"),n=0;n<i.length;n++){var a=di(i[n]);if(a&&!/^\/\//.test(a)){var s,l,u,c,d=a.match(/^(#[-a-zA-Z0-9]+(?:\s*,\s*#[-a-zA-Z0-9]+){0,})\s*{/);if(d){if("default"!==t)return void Zr("Nested blocks aren't supported");t=d[1].split(/\s*,\s*/),i[n--]=a.substr(d[0].length)}else if("}"===a[0]){if("default"===t)return void Zr("No block to escape from");t="default"}else Wr(a,":")<0||("default"!==(d=t)&&/}$/.test(a)&&(a=di(a.replace(/}$/,"")),d="default"),s=di(a.replace(/^(.*?)\s*:.*/,"$1")),l=di(a.replace(/^.*?:\s*(.*)$/,"$1")),0<=(a=Wr(l,";"))&&((c=l.search(/['"]/))<0?(i[n--]=l.substr(a+1),l=di(l.substr(0,a))):(c=l.substr(c+1).search(/['"]/)+c+1,0<=(a=Wr(l.substr(c+1),";"))&&(a+=c+1,i[n--]=l.substr(a+1),l=di(l.substr(0,a))))),u=!1,l.match(/!important$/)&&(u=!0,l=di(l.replace(/!important$/,""))),Gr(c=t)||(c=[c]),ri(c,function(e){var t={property:s,value:l,important:u};e in r||(r[e]={}),o?(s in r[e]||(r[e][s]=[]),r[e][s].push(t)):r[e][s]=t}),t=d)}}return r}}(e,!0);if(e){var t=n.getAttribute("style"),o=(t&&n.setAttribute("data-imu-oldstyle",t),{});if("default"in e&&(o=e.default),a.id&&"#"+a.id in e){var r=e["#"+a.id];for(s in r)s in o||(o[s]=[]),zi(o[s],r[s])}var s,l=Ji(a.format_vars);for(s in o)ri(o[s],function(e){var t=s,o=e.value;if(o.match(/^['"].*['"]$/)&&(o=o.replace(/^["'](.*)["']$/,"$1")),a.old_variables)for(var r in a.old_variables)o=Si(o,r,a.old_variables[r]);if(a.format_vars){var i=ht(o,l);if(!i)return;o=i}a.properties&&t in a.properties&&a.properties[t](o,t),e.important||a.force_important?n.style.setProperty(t,o,"important"):n.style.setProperty(t,o),n.setAttribute("data-imu-newstyle",!0)})}}function De(e,t,o){e.style.setProperty(t,o,"important")}function mt(e){var t=Dn(e);return"VIDEO"===t?[e.videoWidth,e.videoHeight]:"CANVAS"===t?[e.width,e.height]:"SVG"===t?[e.width.animVal.value,e.height.animVal.value]:"IMG"===t||"PICTURE"===t?[e.naturalWidth,e.naturalHeight]:[e.offsetWidth||kt(e.style.width),e.offsetHeight||kt(e.style.height)]}function ht(e,t){if(e=e.replace(/\/\/.*/,""),!(e=di(e)))return null;for(var o=ft(e),r="",i=0;i<o.length;i++)if("string"==typeof o[i])r+=o[i];else{var n,a=o[i].text,s=null,l=null,u=!1,c=null,d=[],p=a.match(/^([^?]+)[?](.*)$/),m=(p&&(a=p[1],s=p[2]),(p=a.match(/^([^!/:=]+)([!=]=)(.*)$/))&&(a=p[1],l=p[3],u="!="===p[2],c="eq"),(p=a.match(/^([^!/:=]+)(!)?\/([rc]{0,2})=(.*)$/))&&(a=p[1],l=p[4],u="!"===p[2],c="contains",m=p[3],0<=Wr(m,"r")&&d.push("regex"),0<=Wr(m,"c"))&&d.push("nicase"),(p=a.match(/^([^!/:=]+):=(.*)$/))&&(a=p[1],l=p[2],c="set"),t[a]),p=((p=a.match(/^(.*?):([0-9]+)(\.)?$/))&&(m=t[p[1]])&&(n=m.substr(0,parseInt(p[2])),p[3]&&n!==m&&(n+="…"),m=n),!!m);if(m&&"object"==typeof m&&(n=m,m="","usable"in n&&(p=n.usable),"value"in n)&&(m=n.value),c&&(p&&("eq"===c?p=m===l:"contains"===c&&(Br(d,"nicase")<0&&(m=m.toLowerCase(),l=l.toLowerCase()),p=0<=Br(d,"regex")?new RegExp(l).test(m):0<=Wr(m,l))),"set"===c&&(t[a]=l,p=!0),u&&(p=!p),m=""),!p){if("string"!=typeof s)return null;m=s}r+=m}return di(r)}function gt(t,e,o){"string"!=typeof t.filename&&(t.filename="");var r=null,i=null,n=null,a=null;if(o){try{for(var s=wn(o.responseHeaders),l=0;l<s.length;l++){var u=s[l].name.toLowerCase(),c=s[l].value;if("content-disposition"===u)for(var d=0;d<100&&"string"==typeof c&&0<c.length;){var p=c.replace(/^\s*([^;]*?)\s*(?:;.*)?$/,"$1").replace(/^\s*([^=;]*?)\s*(?:[=;].*)?$/,"$1").toLowerCase(),m=c.match(/^[^=;]*(?:(?:=\s*(?:(?:["']([^'"]*?)["'])|([^;]*?))\s*(;.*)?\s*)|;\s*(.*))?$/);if(!m){Zr("Header value does not match pattern:",c);break}var h=m[1]||m[2];0===t.filename.length&&"filename"===p&&"string"==typeof h&&0<h.length&&(t.filename=h),c=m[3]||m[4],d++}else"content-type"===u?i=vn(c):"last-modified"===u&&(r=new Date(c),isNaN(r.getTime()))&&(r=null);if(0<t.filename.length&&i&&r)break}}catch(e){Zr(e)}var o=/^data:/.test(e),g=(o&&(t.filename=""),!1),o=(0!==t.filename.length||o||(t.filename=e.replace(/.*\/([^?#/]*)(?:[?#].*)?$/,"$1"),g=!0),g&&(t.filename=decodeURIComponent(t.filename)),n=t.filename,0===t.filename.length&&(t.filename="download"),mn(t.filename,{split_ext:!0,known_ext:!0}));i&&!o[1]&&(n.length&&(n+="."+i),t.filename+="."+i),(o=mn(t.filename,{split_ext:!0,known_ext:!0}))[1]&&(a=o[1])}"_orig_filename"in t||(t._orig_filename=n);var f={filename:t._orig_filename};f.host_url=$r,f.host_domain=Cn($r),f.host_domain_nosub=zn(f.host_domain);try{f.host_title=document.title}catch(e){}function _(e,t){var o,r,i={year:"FullYear",month:"Month",day:"Date",hours:"Hours",minutes:"Minutes",seconds:"Seconds"},n=[];for(o in i){var a=t["get"+i[o]](),s=t["getUTC"+i[o]]();"month"===o&&(a++,s++),a=pn(a,2),s=pn(s,2),n[o]=a,n[o+"_utc"]=s,f[e+"_"+o]=a,f[e+"_"+o+"_utc"]=s}f[e+"_iso"]=n.year+"-"+n.month+"-"+n.day+"T"+n.hours+"-"+n.minutes+"-"+n.seconds,f[e+"_iso_utc"]=n.year_utc+"-"+n.month_utc+"-"+n.day_utc+"T"+n.hours_utc+"-"+n.minutes_utc+"-"+n.seconds_utc,f[e+"_yyyymmdd"]=n.year+n.month+n.day,f[e+"_yyyymmdd_utc"]=n.year_utc+n.month_utc+n.day_utc,f[e+"_hhmmss"]=n.hours+n.minutes+n.seconds,f[e+"_hhmmss_utc"]=n.hours_utc+n.minutes_utc+n.seconds_utc,"download"!==e&&(r=_t(Date.now()-t.getTime()))&&(f[e+"_ago"]=r),f[e+"_unix_ms"]=t.getTime(),f[e+"_unix"]=t.getTime()/1e3|0}t.url&&/^https?:\/\//i.test(t.url)&&(f.url=t.url,f.domain=Cn(t.url),f.domain_nosub=zn(f.domain)),g=e=null,o=new Date,!(g=t.extra&&(ri(["caption","author_username","id"],function(e){f[e]=t.extra[e]}),t.extra.created_date&&(e=new Date(t.extra.created_date)),t.extra.updated_date)?new Date(t.extra.updated_date):g)&&r&&(g=r),e&&_("created",e),(g||e)&&_("updated",g||e),o&&_("download",o),(e||g)&&_("date",e||g),f.filename&&(n=mn(f.filename,{split_ext:!0,known_ext:!0}),f.filename_noext=n[0],a)&&(f.ext="."+a),t.format_vars=Ji(f),o=bt(ui.filename_format,f),t.filename=o||vt(t.filename,f)}var ft=function(e){function t(){r.length&&(o.push(i?{text:r,type:"var"}:r),r="")}for(var o=[],r="",i=!1,n=!1,a=0;a<e.length;a++){var s=e[a];if("\\"===s)n?r+="\\":n=!0;else{if(!n)if("{"===s){if(!i){t(),i=!0;continue}}else if("}"===s&&i){t(),i=!1;continue}r+=s}}return t(),o},_t=function(e,r){r=r||2;var o,i={seconds:(e=e/1e3|0)%60,minutes:(e/60|0)%60,hours:(e/60/60|0)%24,days:e/60/60/24|0,months:e/60/60/24/30.4375|0,years:e/60/60/24/365.25|0},n={months_years:12,days_years:365.25,days_months:30.4375,days_weeks:7},a={seconds:"second",minutes:"minute",hours:"hour",days:"day",weeks:"week",months:"month",years:"year"},e=Object.keys(i).reverse(),s=[];return ri(e,function(e){var t,o;return!(s.length>=r)&&(t=i[e],(t=(o=s[s.length-1])&&(o=n[e+"_"+o[0]])?t%o|0:t)?void s.push([e,t]):!s.length&&void 0)}),s.length?(o=[],ri(s,function(e){var t=e[0],e=e[1],t=a[t],t=(t=[t,t+"s"],1===e?t[0]:t[1]);o.push(e+" "+t)}),o.join(" and ")+" ago"):null},vt=function(e,t){var o,r;return r=t,(o=e)&&(r.prefix&&(o=r.prefix+o),r.suffix)&&(o+=r.suffix),!mn(e=o,{split_ext:!0,known_ext:!0})[1]&&t.ext&&(e+=t.ext),e},bt=function(e,t){e=function(e,t){Gr(e)||(e=e.split("\n"));for(var o=0;o<e.length;o++){var r=ht(e[o],t);if(r)return r}return null}(e,t);return e?vt(e,t):null};function yt(e,t,v,o){Mr&&Yr("makePopup",e,t,v,o),ui.mouseover_add_to_history&&(e=o.data.obj.url,Pr)&&Hr({type:"add_to_history",data:{url:e}});var r,S,i,n,q,T,I,d,b,y,w,k,x,a,A,s,C,l,B,E,W,U,R,D,L,j,V,z,u,N,X,Y,M,P,H,$,Z,K,c,J,Q,ee,g,te,oe,re,F,ie,p,ne,ae,se,le,m,ue,h,ce,de,f,_,t=it("mouseover_open_behavior");function O(e,t){e=K(e,t);$=e[0],H=e[1]}function pe(){var e=ui.mouseover_ui_opacity/100;return e=(e=1<(e=isNaN(e)?1:e)?1:e)<0?0:e}function me(e,t,o){t=t||e,Vr(e,"mouseover",function(e){t.style.opacity="1.0",o&&(t.style.boxShadow="0px 0px 5px 1px white")},!0),Vr(e,"mouseout",function(e){t.style.opacity=pe(),o&&(t.style.boxShadow="none")},!0)}function G(o){var e,t,r="span",i=("string"==typeof o.action&&(r="a"),Xr(r));return o.action&&("object"==typeof o.action&&(e=o.action,o.action=function(){Cr(e)}),Vr(i,"mousedown",function(e){e.stopPropagation(),e.stopImmediatePropagation()}),"function"==typeof o.action?Vr(i,"click",function(e){if(!i.hasAttribute("data-btn-noaction"))return e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault(),o.action(),!1},!0):"string"==typeof o.action&&(i.href=o.action,i.target="_blank",i.setAttribute("rel","noreferrer"),Vr(i,"click",function(e){e.stopPropagation(),e.stopImmediatePropagation()},!0)),Vr(i,"mouseover",function(e){De(i,"box-shadow","0px 0px 5px 1px white")},!0),Vr(i,"mouseout",function(e){De(i,"box-shadow","none")},!0)),Vr(i,"mousedown",function(e){re=!0},!0),Vr(i,"mouseup",function(e){re=!1},!0),"object"==typeof o.text&&o.text.truncated!==o.text.full&&(Vr(i,"mouseover",function(e){var t=En(i);De(i,"width",t.width||i.clientWidth+"px"),De(i,"height","initial"),i.innerText=o.text.full},!0),Vr(i,"mouseout",function(e){i.innerText=o.text.truncated,i.style.width="initial"},!0)),Xn(i),o.action&&De(i,"cursor","pointer"),De(i,"background",y),De(i,"border","3px solid "+w),De(i,"border-radius","10px"),De(i,"direction",ie),"string"==typeof o.text&&1===o.text.length&&256<o.text.charCodeAt(0)?(De(i,"color","transparent"),De(i,"text-shadow","0 0 0 "+k)):De(i,"color",k),De(i,"padding","4px"),De(i,"line-height","1em"),De(i,"font-size","14px"),De(i,"font-family",la),pt(i,ui.mouseover_ui_styles,{id:o.id,force_important:!0,format_vars:T.format_vars,properties:{"-imu-text":function(e){"object"==typeof o.text?o.text.truncated=e:o.text=e},"-imu-title":function(e){o.title=e},"-imu-image":function(e){o.image=e},"-imu-pos":function(e){o.pos=e,Br(["top-left","top-middle","top-right","left","middle","right","bottom-left","bottom-middle","bottom-right"],e)<0&&(Kr("Invalid pos",e),o.pos="top-left")}}}),o.image&&(o.text=null),De(i,"z-index",sa-1),De(i,"position","relative"),De(i,"margin-right","4px"),De(i,"vertical-align","top"),De(i,"white-space","pre-wrap"),De(i,"display","inline-block"),o.action&&De(i,"user-select","none"),"string"==typeof o.image&&(Xn(r=Xr("img")),De(r,"padding","0px"),De(r,"margin","0px"),De(r,"display","inline"),De(r,"height","1em"),De(r,"cursor","inherit"),r.src=o.image,i.appendChild(r)),o.text&&("object"==typeof o.text&&o.text.link_underline&&ui.mouseover_ui_link_underline&&De(i,"text-decoration","underline"),"string"==typeof o.text?i.innerText=o.text:"object"==typeof o.text&&(i.innerText=o.text.truncated)),o.title&&(i.title=o.title),o.containers&&o.pos&&((r=o.containers[o.pos]).appendChild(i),t=oe(),r.hasAttribute("data-imu-middle_x")&&De(r,"left",(t[0]-r.clientWidth)/2+"px"),r.hasAttribute("data-imu-middle_y"))&&De(r,"top",(t[1]-r.clientHeight)/2+"px"),i}function he(t,o){Yn(t?1:-1,function(e){e||(o&&t&&ui.scroll_past_gallery_end_to_close?Re:ge)()})}function ge(a,e){for(var t=0;t<F.length;t++){var o=F[t];o.parentNode.removeChild(o)}F=[];var r=S.getBoundingClientRect(),s="14px "+la,l={},i=(ii({"top-left":["left","top"],"top-middle":["middle","top"],"top-right":["right","top"],left:["left","middle"],middle:["middle","middle"],right:["right","middle"],"bottom-left":["left","bottom"],"bottom-middle":["middle","bottom"],"bottom-right":["right","bottom"]},function(e,t){l[e]=se(t[0],t[1],14,r)}),!ui.mouseover_ui);if(e&&("toggle"===e?i=le:!0===e&&(i=!0)),i)A.appendChild(l["top-left"]),le=!1;else{for(var n in le=!0,l)me(l[n]),A.appendChild(l[n]),F.push(l[n]);function u(){return(_()?v:b)()}function c(){ot=!1,h&&(De(m,"display","none"),p.removeChild(m),p.removeAttribute("data-btn-noaction"),h=!1,C())}function d(n){ui.mouseover_enable_gallery&&Jt(n,function(e){var t,o,r,i;e&&(t=n,ui.mouseover_enable_gallery)&&ui.mouseover_ui_gallerybtns&&(e=function(){return he(t)},r=t?"Next":"Previous",o=na(s,t?["🡒","→"]:["🡐","←"]),i=t?ui.mouseover_gallery_next_key:ui.mouseover_gallery_prev_key,i=Hn(i),r=li(r)+" ("+li(i)+")",i=G({id:"gallery"+(t?"next":"prev")+"btn",text:o,title:r,action:e,containers:l,pos:t?"right":"left"}),N(!t,i,e,r),ui.mouseover_enable_gallery)&&ui.mouseover_ui_gallerycounter&&(a?(t?w=ae:y=ne,C()):(Yt(t,void 0,k=!0,void 0,void 0,function(e){k=!1,t?ae=w=e:ne=y=e,C()}),setTimeout(C,1)))})}ui.mouseover_ui_closebtn&&G({id:"closebtn",text:"×",title:li("Close")+" ("+li("ESC")+")",action:function(){Re()},pos:"top-left",containers:l});var p,m,h,g,f,_=function(){var e=eo();return oi(e)%180==90},v=function(){return r.width||$||P},b=function(){return r.height||H||M},y=0,w=0,k=!1,x=((ui.mouseover_ui_imagesize||ui.mouseover_ui_zoomlevel||ui.mouseover_ui_filesize)&&De(G({id:"sizeinfo",text:function(){for(var e="",t=u(),t=Qr(100*(t/M)),o=0,r=(T&&T.filesize&&(o=T.filesize),[{value:P+"x"+M,valid:ui.mouseover_ui_imagesize},{value:t+"%",valid_paren:100!==t,valid:ui.mouseover_ui_zoomlevel},{value:Un(o),valid:ui.mouseover_ui_filesize&&o}]),i=[],n=0;n<r.length;n++){var a=r[n];!a.valid||0<i.length&&!1===a.valid_paren||i.push(a.value)}return 0===i.length?"":(e=i[0],1<i.length&&(e+=" ("+i.slice(1).join(", ")+")"),e)}(),pos:"top-left",containers:l}),"font-size","13px"),function(){return k?li("Loading..."):y+w>ui.mouseover_ui_gallerymax?ui.mouseover_ui_gallerymax+"+":y+1+" / "+(y+w+1)}),C=function(){h||(0<y+w||k?(De(p,"display","inline-block"),p.innerText=x()):De(p,"display","none"))},z=B&&A.clientWidth||$,N=(ui.mouseover_enable_gallery&&ui.mouseover_ui_gallerycounter&&(p=G({id:"gallerycounter",text:x(),action:function(){ot=h=!0,p.innerText="",De(m,"display","initial"),m.value=y+1,p.setAttribute("data-btn-noaction",!0),p.appendChild(m),setTimeout(function(){m.select(),m.setSelectionRange(0,m.value.length)},100)},pos:"top-left",containers:l}),De(p,"font-size","13px"),De(p,"display","none"),m=Xr("input"),h=!1,Xn(m),De(m,"display","none"),De(m,"background-color","white"),De(m,"font-family",la),De(m,"font-size","12px"),De(m,"padding","1px"),De(m,"padding-left","2px"),De(m,"width","5em"),Vr(m,"mouseout",c),Vr(m,"keydown",function(e){var t;if(13===e.which)return t=m.value.replace(/\s+/g,""),/^[0-9]+$/.test(t)&&(t=parseInt(t),Yn(t-(y+1))),c(),e.stopPropagation(),e.preventDefault(),!1},!0)),ui.mouseover_ui_optionsbtn&&G({id:"optionsbtn",text:"⚙",title:li("Options"),action:Ei(),pos:"top-left",containers:l}),ui.mouseover_ui_downloadbtn&&G({id:"downloadbtn",text:na(s,["🡇","🡫","↓"]),title:li("Download ("+Hn(ui.mouseover_download_key)+")"),action:{type:"download"},pos:"top-left",containers:l}),ui.mouseover_ui_rotationbtns&&(G({id:"rotleftbtn",text:"↶",title:(e=function(e){return li("left"===e?"Rotate Left":"Rotate Right")+" ("+Hn(ui["mouseover_rotate_"+e+"_key"])+")"})("left"),action:{type:"rotate_left"},pos:"top-left",containers:l}),G({id:"rotrightbtn",text:"↷",title:e("right"),action:{type:"rotate_right"},pos:"top-left",containers:l})),ui.mouseover_ui_caption&&(i=function(e,t){if(e&&e.extra&&e.extra.caption)return di(e.extra.caption);if(t)do{var o=t.getAttribute("title"),r=t.getAttribute("alt");if(o||r)return(o=o||r)===t.src?null:di(o)}while(t=t.parentElement);return null}(T,xe),e=ui.mouseover_ui_caption_link_page&&T.extra&&T.extra.page,i=!i&&e?"(original page)":i)&&(g=i,ui.mouseover_ui_wrap_caption&&(f=parseInt(ei(10,ti(60,(z-l["top-left"].clientWidth)/10))),g={truncated:$n(i,f),full:i,link_underline:e}),f=null,G({id:"caption",text:g,title:i,action:f=e?T.extra.page:f,pos:"top-left",containers:l})),function(e,t,o,r){if(ui.mouseover_enable_gallery&&!(z<200)){var i=u(),n=0,a=20,i=i-(a=i<100?0:a)-(n=q?60:n);if(!(i<10))return Xn(n=Xr("div")),n.title=r,e?n.style.left="0em":n.style.right="0em",n.style.top=a+"px",n.style.height=i+"px",n.style.position="absolute",n.style.width="15%",n.style.maxWidth="200px",n.style.zIndex=sa-2,n.style.cursor="pointer",me(n,t,!0),Vr(n,"click",function(e){return Ae||(I(e),o(e)),!1},!0),A.appendChild(n),F.push(n),n}});d(!1),d(!0)}}function fe(e){Ae=!(Ie=!0),Ze=e.clientX,Ke=e.clientY,Je=Ze-parseFloat(A.style.left),Qe=Ke-parseFloat(A.style.top)}"newtab"===t||"newtab_bg"===t||"download"===t||"copylink"===t||"replace"===t?(Ue(),"string"==typeof(e=o.data.obj)&&(e={url:e}),(i=o.data.resp||o.data.respdata).finalUrl&&(e.url=i.finalUrl),gt(e,e.url,i),ke=e,"newtab"===t||"newtab_bg"===t?Fi(e,"newtab_bg"===t):"download"===t?sr():"copylink"===t?Yi(e.url):"replace"===t&&(i=xo(),bo(i,{el:xe},o,ni.nullfunc))):(e=o.x,t=o.y,null==e&&(e=Le),null==t&&(t=je),r=Ie=Ae=!1,S=o.data.img,i=o.data.newurl,S?(n="VIDEO"===S.tagName,c="AUDIO"===S.tagName,q=n||c,T=o.data.obj,ke=T=T||{},I=function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!0},d=function(e){return e.preventDefault(),I(e),!0},et=Le=e,tt=je=t,b=mi("mouseover_zoom_behavior"),s=mi("mouseover_zoom_use_last"),h=Ye&&("always"===s||"gallery"===s&&Ce)?!0:!1,y="#333",k=w="#fff",s=mi("mouseover_enable_mask_styles2"),x=1,ut(),(ui.mouseover_close_click_outside||ui.mouseover_mask_ignore_clicks||"never"!==s)&&(we=Xr("div"),Xn(a=we),De(a,"opacity",1),"never"!==s&&pt(a,ui.mouseover_mask_styles2,{force_important:!0}),x=a.style.opacity,"hold"===s&&De(a,"opacity",0),ui.mouseover_close_click_outside||ui.mouseover_mask_ignore_clicks||De(a,"pointer-events","none"),De(a,"position","fixed"),De(a,"z-index",sa-3),De(a,"width","100%"),De(a,"height","100%"),De(a,"left","0px"),De(a,"top","0px"),0<ui.mouseover_mask_fade_time&&(De(a,"transition","opacity "+ui.mouseover_mask_fade_time/1e3+"s"),"hold"!==s)&&(Ce?De(a,"opacity",x):(De(a,"opacity",0),setTimeout(function(){De(a,"opacity",x)},1))),Vr(a,"mousedown",function(e){ui.mouseover_close_click_outside&&I(e)}),Vr(a,"click",function(e){ui.mouseover_close_click_outside&&(I(e),De(a,"pointer-events","none"),Re())},!0)),Xn(A=Xr("div")),De(A,"position","fixed"),De(A,"z-index",sa-2),s=!1,0<ui.mouseover_fade_time&&!Ce&&(u=[],p=[],_=ui.mouseover_fade_time/1e3+"s",ui.mouseover_enable_fade&&(u.push("opacity "+_),De(A,"opacity",0)),ui.mouseover_enable_zoom_effect&&(u.push("transform "+_),De(A,"transform","scale(0)"),ui.mouseover_zoom_effect_move)&&(p.push("top "+_),p.push("left "+_),s=!0),0<u.length&&(C=u.join(", "),zi(u,p),_=u.join(", "),De(A,"transition",_),0<p.length)&&setTimeout(function(){De(A,"transition",C)},ui.mouseover_fade_time),setTimeout(function(){De(A,"opacity",1),De(A,"transform","scale(1)")},1)),l=Xr("div"),B=!1,Xn(l),De(l,"box-shadow","0 0 15px rgba(0,0,0,.5)"),De(l,"border","3px solid "+w),De(l,"position","relative"),De(l,"top","0px"),De(l,"left","0px"),De(l,"display","block"),De(l,"background-color","rgba(255,255,255,.5)"),u="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",(_={})["%thumburl%"]=He&&!Pe?dn(He):u,_["%fullurl%"]=q?u:dn(Mn(S)),pt(l,ui.mouseover_styles,{force_important:!0,old_variables:_}),A.appendChild(l),W=30,L=ei(e-(E=20),0),j=ei(t-W,0),z=function(e){var t;t=e[1],A.style.top=t+"px",t=e[0],A.style.left=t+"px"},(V=function(e,t){U=ct(),R=U[0],D=U[1],R-=2*E,D-=E+W,void 0!==e&&(L=ti(R,ei(e-E,0)),j=ti(D,ei(t-W,0)))})(e,t),c&&(S.style.width="500px",S.style.minWidth="500px",S.style.height="50px",S.style.minHeight="50px"),p=mt(S),c||Xn(S),u=!1,(u=!q&&ui.mouseover_add_link||n&&ui.mouseover_add_video_link?!0:u)&&(S.style.cursor="pointer"),S.style.verticalAlign="bottom",De(S,"display","block"),N=function(e){S.style.setProperty("display",e[0],e[1])},X=[{domain_nosub:/^pornhub(?:premium)?\./,img_display:["block"]},{domain_nosub:/^pornhub(?:premium)?\./,img_display:["initial","important"]},{domain_nosub:/^gelbooru\./,func:function(){var e=Xr("span");e.appendChild(S),m.appendChild(e)}}],(Y=function(){setTimeout(function(){var e,t=En(S);if("none"===t.display)for(;0<X.length;){var o=X.shift();if(!(e=o).domain_nosub||e.domain_nosub.test(rt)){(e=o).img_display?N(e.img_display):e.func&&e.func(),0<X.length&&Y();break}}},50)})(),De(S,"object-fit","contain"),P=p[0],H=M=p[1],$=P,(Z=function(e,t){var o,r=!1;"custom"===e||t?(o=ui.mouseover_zoom_custom_percent/100,$=ei(P*(o=t?Ye:o),20),H=ei(M*o,20),r=!0):"fit"===e||"fill"===e?(S.style.maxWidth=R+"px",S.style.maxHeight=D+"px","fill"===e&&P<R&&M<D&&(o=1,$*=o=P<M?D/M:R/P,H*=o,r=!0)):"full"===e&&($=P,H=M,r=!0),r&&(S.style.maxWidth=$+"px",S.style.width=S.style.maxWidth,S.style.maxHeight=H+"px",S.style.height=S.style.maxHeight)})(b,h),H<20||$<20?(at(),Zr("Image too small to popup ("+$+"x"+H+")")):(K=function(e,t){void 0===e&&(e=R);var o=H,r=$;return((t=void 0===t?D:t)<H||e<$)&&(o/=t=$/e<H/t?H/t:$/e,r/=t),[r,o]},"fit"!==b&&"fill"!==b||h||O(),_=ui.mouseover_zoom_max_width||void 0,c=ui.mouseover_zoom_max_height||void 0,(_||c)&&O(_,c),Ge=function(e){var t=!1;"last"===e&&(e=mi("mouseover_zoom_behavior"),Ye)&&(t=!0),Z(e,t),"fit"!==e&&"fill"!==e||O(),ee($,"initial"),g(H,"initial")},J=(Te=function(e,t,o){V(e,t),qr(),Sr();var r,i,n,a=R<$,s=D<H,l=mi("mouseover_position");if("cursor"===(l=Se&&ui.mouseover_hold_position_center||ui.mouseover_overflow_position_center&&(a||s)?"center":l))i=0+ti(ei(j-H/2,0),ei(D-H,0)),r=0+ti(ei(L-$/2,0),ei(R-$,0));else if("center"===l){var u=mi("mouseover_overflow_origin"),c=u[1],u=u[2],d=(R-$)/2,p=(D-H)/2,m=d,h=p;a&&("0"===c?m=0:"1"===c?m=d:"2"===c&&(m=R-$)),s&&("0"===u?h=0:"1"===u?h=p:"2"===u&&(h=D-H)),i=0+h,r=0+m}else if("beside_cursor"===l){function g(e,t,o){var r=e?L:j,i=e?q:T;switch(t){case-1:return ti(i-o,ei(0,r-o/2));case 0:return ei(0,r-o-N);case 1:return ti(i-o,r+N)}}S=o?function(e,t){O(e,t)}:ni.nullfunc;var f=[[-1,0,q=R-(N=E),j-N],[1,-1,q-L-N,T=D-N],[-1,1,q,T-j-N],[0,-1,L-N,T]],_=[];e>U[0]/2?_.push(f[3]):_.push(f[1]),t>U[1]/2?_.push(f[0]):_.push(f[2]);for(var v=0;v<f.length;v++)Br(_,f[v])<0&&_.push(f[v]);for(var b=-1,y=null,v=0;v<_.length;v++){k=_[v][2],w=_[v][3],n=void 0,n=[$,H];var w,k=(n=o?K(k,w):n)[0]>k||n[1]>w?null:n;k&&b<(w=k[0]*k[1])&&(b=w,y=_[v])}if(!y)for(b=-1,v=0;v<_.length;v++){var x=_[v][2]*_[v][3];b<x&&(y=_[v],b=x)}y&&(S(y[2],y[3]),i=g(!1,y[1],H),r=g(!0,y[0],$))}else if("beside_cursor_old"===l){var C,z,N,S,q=R-(N=E),T=D-N;(S=o?function(e,t){O(e,t)}:ni.nullfunc)(q,T);for(var I=0;I<(o?16:1);I++)t>U[1]/2?z=j-H-N:void 0===z&&(z=j+N),e>U[0]/2?C=L-$-N:void 0===C&&(C=L+N),z<0&&(z=0,ui.mouseover_prevent_cursor_overlap)&&S(q,j),C<0&&(C=0,ui.mouseover_prevent_cursor_overlap)&&S(L,T),D<z+H&&(ui.mouseover_prevent_cursor_overlap?S(q,T-j):z=ei(D-H-N,0)),R<C+$&&(ui.mouseover_prevent_cursor_overlap?S(q-L,T):C=ei(R-$-N,0));i=z,r=C}return[r+E,i+W]})(e,t,!0),s?(z([e-$/2,t-H/2]),setTimeout(function(){z(J)},1)):z(J),Q=function(e,t,o){void 0===t&&(t=e),"number"==typeof e&&(e+="px"),"number"==typeof t&&(t+="px"),o?(S.style.width=e,S.style.maxWidth=t):(S.style.height=e,S.style.maxHeight=t)},g=function(e,t){Q(e,t,!1)},(ee=function(e,t){Q(e,t,!0)})($,"initial"),g(H,"initial"),te=pe(),re=!(oe=function(){return[B&&A.clientWidth||$,B&&A.clientHeight||H]}),F=[],ie="initial",(p=En(xe||document.body))&&"rtl"===p.direction&&(ie="rtl"),ae=ne=0,se=function(e,t,o,r){var i=Xr("div"),n=(Xn(i),De(i,"position","absolute"),De(i,"opacity",te),Vn&&De(i,"z-index",sa-1),De(i,"white-space","nowrap"),De(i,"direction","ltr"),null),a=null,s=null,l=null,u=$||P,u=((r.width||u)-u)/2,c=H||M,r=((r.height||c)-c)/2;return"left"===e?n=-(o+u)+"px":"middle"===e?(n="calc(50%)",i.setAttribute("data-imu-middle_x","true")):"right"===e&&(l=-(o+u)+"px"),"top"===t?a=-(o+r)+"px":"middle"===t?(a="calc(50%)",i.setAttribute("data-imu-middle_y","true")):"bottom"===t&&(s=-(o+r)+"px"),n&&De(i,"left",n),l&&De(i,"right",l),a&&De(i,"top",a),s&&De(i,"bottom",s),i},le=!!ui.mouseover_ui,Fe=ge,gt(T,i,o.data.respdata),ge(),Xn(m=Xr("a")),u&&(m.style.cursor="pointer",m.onclick=function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!0}),m.style.setProperty("vertical-align","bottom","important"),m.style.setProperty("display","block","important"),ue=function(e){e=e?"none":"initial";De(m,"pointer-events",e),De(S,"pointer-events",e),De(l,"pointer-events",e),De(A,"pointer-events",e)},ui.mouseover_clickthrough&&ue(!0),$e=function(){var e=mi("mouseover_enable_mask_styles2");Se?(ui.mouseover_hold_unclickthrough&&ue(!1),!we||"always"!==e&&"hold"!==e||(we.style.opacity=x)):(ui.mouseover_clickthrough?ue(!0):ue(!1),!we||"hold"!==e&&"never"!==e||(we.style.opacity=0))},u?(m.href=i,m.target="_blank",ui.mouseover_download&&(m.href="#",Vr(m,"click",function(e){return sr(),e.preventDefault(),e.stopPropagation(),!1},!0))):(h=!1,(h=!q&&ui.mouseover_click_image_close||n&&ui.mouseover_click_video_close?!0:h)&&Vr(m,"click",function(e){if(!Ae)return Re(),e.preventDefault(),e.stopPropagation(),!1})),m.appendChild(S),l.appendChild(m),We=null,ce=m.style.cursor,de=S.style.cursor,Be=function(e){Ve=_e,Xe=ve,ui.mouseover_hide_cursor&&e?(m.style.cursor="none",S.style.cursor="none"):(We&&(clearTimeout(We),We=null),m.style.cursor=ce,S.style.cursor=de)},Xe=Ve=1/0,ui.mouseover_hide_cursor&&ui.mouseover_hide_cursor_after<=0&&Be(!0),l.onmouseover=l.onmousemove=function(e){oi(_e-Ve)<ui.mouseover_mouse_inactivity_jitter&&oi(ve-Xe)<ui.mouseover_mouse_inactivity_jitter||(0<ui.mouseover_hide_cursor_after||!ui.mouseover_hide_cursor)&&(Be(!1),ui.mouseover_hide_cursor)&&(We=setTimeout(function(){Be(!0)},ui.mouseover_hide_cursor_after))},"drag"===mi("mouseover_pan_behavior")&&(q&&(S.onseeking=function(e){r=!0},S.onseeked=function(e){r=!1}),l.ondragstart=m.ondragstart=S.ondragstart=function(e){if(!r)return fe(e),I(e),!1},l.onmousedown=l.onpointerdown=m.onmousedown=m.onpointerdown=function(e){if(!re&&0===e.button&&!r)return fe(e),e.preventDefault(),I(e),!1},S.onmousedown=S.onpointerdown=function(e){if(!re&&0===e.button&&!r)return fe(e),I(e),!0},m.onclick=function(e){return Ie=!1,Ae?(I(e),Ae=!1):(e.stopPropagation(),e.stopImmediatePropagation(),!0)},l.onmouseup=l.onpointerup=l.onclick=m.onmouseup=m.onpointerup=function(e){return Ie=!1,!Ae&&(e.stopPropagation(),e.stopImmediatePropagation(),!0)},S.onmouseup=S.onpointerup=S.onclick=function(e){return!(Ie=!1)},n)&&(S.onclick=function(e){if(!S.controls)return Ae||(S.paused?er(S):S.pause()),!(Ie=!1)}),"fill"===(f=b)&&(f="fit"),qe=function(e,t,o,r,i){var n=!1,a=parseFloat(A.style.left),s=parseFloat(A.style.top),l=A.clientWidth,u=A.clientHeight,c=(V(),void 0===o&&(o="center"),void 0===r&&(r="center"),null),d=null;0<t&&("always"===(p=mi("scroll_zoomout_pagemiddle"))?r=o="pagemiddle":"viewport"===p&&(l<R&&(o="pagemiddle"),u<D)&&(r="pagemiddle")),"center"===o||"pagemiddle"===o?("pagemiddle"===o&&(c=R/2),o=(p=ei(a,0))+(ti(p+l,R)-p)/2):o<a?o=a:a+l<o&&(o=a+l),"center"===r||"pagemiddle"===r?("pagemiddle"===r&&(d=D/2),r=(p=ei(s,0))+(ti(p+u,D)-p)/2):r<s?r=s:s+u<r&&(r=s+u);var p=(o-a)/l,a=(r-s)/u;if("fitfull"===e){if(i&&"fit"===f&&0<t)return Re(),!1;if(0<t&&"fit"!==f){H=M,$=P,O();var l=parseFloat(S.style.width),s=parseFloat(S.style.height);if(ee($,R),g(H,D),i&&parseFloat(S.style.width)===l&&parseFloat(S.style.height)===s)return Re(),!1;f="fit",n=!0}else t<0&&"full"!==f&&(ee(P,"initial"),g(M,"initial"),$=P,H=M,f="full",n=!0)}else if("incremental"===e){var m=S.clientWidth,h=S.clientHeight,u=1,u=m<P?P/m:m/P,l=ui.scroll_incremental_mult-1,s=(u=Ti(u/l),u*=l,m<P&&0!==u&&(u=1/u),0<t?u/=1+l:u*=1+l,m=P*u,h=M*u,0<t&&(m<64||h<64));if(s||t<0&&(512*P<m||512*M<h))return i&&s&&Re(),!1;H=h,ee($=m),g(h),n=!0}return n&&(m=A.clientWidth,h=A.clientHeight,(l=(m/P+h/M)/2)&&(Ye=l),u=function(e,t,o){e-=t,o=ei(100,o/10);return t+(e=e<0?-ti(o,-e):ti(o,e))},t=o-p*m,null!==c&&(t=u(c-m/2,t,R)),i=r-a*h,null!==d&&(i=u(d-h/2,i,D)),"fitfull"===e&&m<=R&&h<=D&&(t=ei(t,E),R-E<t+m&&(t=R+E-m),i=ei(i,E),D-E<i+h)&&(i=D+E-h),A.style.left=t+"px",A.style.top=i+"px",ge(!0),be=!1),!1},A.onwheel=Oe=function(o,e){function t(e){var t=!1;if(e)if(o.deltaX<0)t=!1;else{if(!(0<o.deltaX))return;t=!0}else{if(o.deltaY<0)t=!1;else{if(!(0<o.deltaY))return;t=!0}ui.mouseover_scrolly_video_invert&&(t=!t)}return lr(!t),d(o),1}function r(e){if(ui.mouseover_enable_gallery){var t=!1;if(e)if(o.deltaX<0)t=!1;else{if(!(0<o.deltaX))return;t=!0}else if(o.deltaY<0)t=!1;else{if(!(0<o.deltaY))return;t=!0}return he(t,!0),d(o),1}}var i,n=!1,a=!1,s=!0,l=!0,u=(q&&(c=mi("mouseover_scrollx_video_behavior"),u=mi("mouseover_scrolly_video_behavior"),n||"default"===c||("seek"===c?t(!0)&&(n=!0):"nothing"===c&&(s=!1)),a||"default"===u||("seek"===u?t(!1)&&(a=!0):"nothing"===c&&(l=!1))),mi("mouseover_scrollx_behavior")),c=mi("mouseover_scrolly_behavior");Se&&("default"!==(i=mi("mouseover_scrollx_hold_behavior"))&&(u=i),"default"!==(i=mi("mouseover_scrolly_hold_behavior")))&&(c=i);if(s&&!n)if("pan"===u)A.style.left=parseInt(A.style.left)+o.deltaX+"px",n=!0;else if("gallery"===u){if(r(!0))return;n=!0}if(l&&!a)if("pan"===c)A.style.top=parseInt(A.style.top)+o.deltaY+"px",a=!0;else if("gallery"===c){if(r(!1))return;a=!0}return a?(d(o),!1):(!l||"zoom"!==c||0===o.deltaY||(d(o),i=o.clientX,s=o.clientY,"center"===mi("scroll_zoom_origin")&&(s=i="center"),u=mi("scroll_zoom_behavior"),!1!==qe(u,o.deltaY,i,s,ui.zoom_out_to_close)))&&void 0},we&&document.documentElement.appendChild(we),document.documentElement.appendChild(A),lt(),ea(S),q&&(ui.mouseover_video_autoplay?er(S):S.pause()),ye.push(A),B=!0,o.data.respdata&&o.data.respdata.responseHeaders&&"content-length"in(_=kn(wn(o.data.respdata.responseHeaders)))&&(Me=parseInt(_["content-length"])||0),Ne[1]=!1,Ce||(Se=!1),Ee=be=!1,setTimeout(function(){nt()},1),ze=!0,st())):(Ee=!1,v.running&&at()))}var n=null,wt=new ln;function kt(e){var t,o,r;return e.match(/^ *([0-9]+)px *$/)?e.replace(/^ *([0-9]+)px *$/,"$1"):wt.has(e)?wt.get(e):((o=document.body)||(o=t=Xr("body"),t.style.cssText="font-size:"+e+"!important;",document.documentElement.insertBefore(t,document.body)),n||(Xn(n=Xr("i")),De(n,"position","absolute"),De(n,"visibility","hidden"),De(n,"padding","0")),De(n,"width",e),De(n,"font-size",e),o.appendChild(n),r=n.clientWidth,wt.set(e,r,300),t?document.documentElement.removeChild(t):o.removeChild(n),r)}function xt(e){return e.left=e.x,e.top=e.y,e.right=e.left+e.width,e.bottom=e.top+e.height,e}function Ct(e){return{x:e.x,y:e.y,width:e.width,height:e.height}}function zt(e){var t;return"number"==typeof e?e:(t=e.match(/^([-0-9.]+)%$/))?parseFloat(t[1])/100:(t=e.match(/^([-0-9.]+)$/))?parseFloat(t[1]):null}function Nt(e,t){e=function e(t,o,r){if(!t)return null;if(o&&o.has(t)){var i=o.get(t);if(!r)return i;if(i.orig_rect)return i}var i={},n=t.parentElement,n=(n&&(i=e(n,o,!1)),null),r=(r&&(n=t.getBoundingClientRect()),null),a=1,i=("style"in t&&t.style.zoom&&(a=zt(t.style.zoom))&&1!==a&&(n=n||t.getBoundingClientRect(),(r=Ct(n)).width*=a,r.height*=a),i.zoom&&1!==i.zoom&&(n=n||t.getBoundingClientRect(),(r=r||Ct(n)).x*=i.zoom,r.y*=i.zoom,r.width*=i.zoom,r.height*=i.zoom,a*=i.zoom),r&&xt(r),{zoom:a});return n&&(i.orig_rect=n),r&&(i.rect=r),o&&o.set(t,i),i}(e,t,!0);return e.rect||e.orig_rect}function St(){var e,t;return ye&&ye[0]&&(e=nr())?(t=Date.now(),(!L||30<t-j)&&(L=e.getBoundingClientRect(),j=t),L):null}function qt(e,t){"links"in(t=t||{})||(t.links=mi("mouseover_links"));var o=[],e=function(e,g,L){Mr&&Jr("find_source","_find_source (els)",e);var f={},_={},a=[],v=nn(),b=0,t=Qr(ui.mouseover_minimum_size);isNaN(t)&&(t=0);var y=function(e){var t,o={document:document,window:gi(),host_url:window.location.href,do_request:ai,rule_specific:{}};for(t in e)o[t]=e[t];return Nn(o)}({});function s(e){var t=!0;do{if(!e)break;var o=En(e);if(!o)break;if(o.opacity.toString().match(/^0(?:\.0*)?$/)||t&&"hidden"===o.visibility)return!1}while(t&&"visible"===o.visibility&&(t=!1),e=e.parentElement);return!0}function o(){var e,t=null,o=!1;for(e in f){if(o)return;o=!0,t=f[e]}return t}function w(e){return cn(window.location.href,e,!0)}function k(e,t,o){if(Mr&&Jr("find_source","_find_source (addImage)",e,t,s(t),o),un(e))if(e&&ui.mouseover_apply_blacklist&&!Zi(e))Mr&&Jr("find_source","blacklisted");else{e in f||(f[e]={count:0,src:e,el:t,id:b++});if(t&&(window.getComputedStyle(t)||t.style),!(o=o||{}).isbg||!ui.mouseover_exclude_backgroundimages){var r=function(e,t){for(var o=pi(e,{fill_object:!0,use_cache:"read",do_request:null,document:document,window:gi(),host_url:window.location.href,element:t,include_pastobjs:!0,iterations:2,cb:null}),r=e,i=0;i<o.length;i++){if(o[i].url===e)return!o[i].bad&&(1<o.length?r||!0:void 0);r===e&&(r=o[i].url)}return r||!0}(e,t);if(!1===r)Mr&&Jr("find_source","Bad image",t);else if("imu"in f[e]||(f[e].imu=!!r),!0===r&&e&&e.match(/^data:/)&&!/^data:image\/svg\+xml;/.test(e)&&e.length<=500)Mr&&Jr("find_source","Tiny data: image",t,e);else{if(s(t)){if(ui.mouseover_only_links){if(!t)return;var i=!1,n=t;do{if("A"===Dn(n)){i=!0;break}}while(n=n.parentElement);if(!i)return}return"layer"in o&&(o.layer in a||(a[o.layer]=[]),a[o.layer].push(e)),f[e].count++,1}Mr&&Jr("find_source","Invisible: image",t)}}}}function d(e){for(var t=[],o=[],r="",i=null,n=!1,a=0;a<e.length;a++){var s=e[a];if(n)r+=s,n=!1;else if(i)s===i?(i=null,o.push(r),r=""):r+=s;else if(/\s/.test(s))0<r.length&&(o.push(r),r="");else if("\\"===s)n=!0;else if('"'===s||"'"===s)i=s;else if("("===s){var l=d(e.substr(a+1));o.push({name:r,tokens:l[0]}),a+=l[1],r=""}else{if(")"===s){a++;break}","===s?(r&&o.push(r),t.push(o),o=[],r=""):r+=s}}return r&&o.push(r),o&&t.push(o),[t,a]}function p(e){for(var t=0;t<e.length;t++)if(!(e[t].length<1)&&"object"==typeof e[t][0]){var o=e[t][0],r=o.name;if(!(Br(["url","-webkit-image-set","image-set"],r)<0))if("url"===r){if(1<=o.tokens.length&&0<o.tokens[0].length&&0<o.tokens[0][0].length)return 1}else if(p(o.tokens))return 1}}function u(e){return"object"!=typeof e||"url"!==e.name||e.tokens.length<1||e.tokens[0].length<1||0===e.tokens[0][0].length?null:e.tokens[0][0]}function j(e){for(var t,o,r,i=[],n=0;n<e.length;n++)e[n].length<1||"object"!=typeof e[n][0]||(o=(t=e[n][0]).name,Br(["url","-webkit-image-set","image-set"],o)<0)||("url"===o?(r=u(t))&&i.push(r):"-webkit-image-set"!==o&&"image-set"!==o||(r=function(e){for(var t=[],o=0;o<e.tokens.length;o++)if(!(e.tokens[o].length<1)){var r=u(e.tokens[o][0]);if(r){for(var i={src:r},n=1;n<e.tokens[o].length;n++){var a,s=e.tokens[o][n],l=s.match(/^([0-9.]+)(x|dp(?:px|i|cm))$/);l?0<(a=parseFloat(l[1]))&&("dppx"===(l=l[2])?(a*=96,l="dpi"):"dpcm"===l&&(a*=96/2.54,l="dpi"),"x"===l?i.desc_x=a:"dpi"===l&&(i.dpi=a)):Kr("Unknown descriptor: "+s)}t.push(i)}}return t}(t))&&zi(i,r));return i}function i(e,t,o,r,i){o=o;var n=!p(t=d(t=t)[0])||o&&!p(d(o)[0])?null:j(t);if(n)for(var a,s=0;s<n.length;s++)if(k(a="string"!=typeof(a=n[s])?a.src:a,e,{isbg:i,layer:r}),"string"!=typeof n[s])for(var l=["desc_x","dpi"],u=0;u<l.length;u++){var c=l[u];n[s][c]&&(!f[a][c]||f[a][c]>n[s][c])&&(f[a][c]=n[s][c])}}function r(e,t,o,r){o&&"style"in t&&(o.getPropertyValue("background-image")&&i(t,o.getPropertyValue("background-image"),t.style.getPropertyValue("background-image"),e,r||!0),r)&&o.getPropertyValue("content")&&i(t,o.getPropertyValue("content"),void 0,e,r)}function x(e,t){Mr&&Jr("find_source","_find_source (addElement)",e,t),ui.mouseover_exclude_page_bg&&"BODY"===e.tagName||(function(e,t){y&&y.element_ok&&(sn(v,e)||(i=y.element_ok(e),o={count:1,src:null,el:e,id:b++,is_ok_el:!0},!0===i?(g.push(o),an(v,e)):Ki(i)&&(o.el=i,g.push(o),an(v,e),e=i)));var o=Dn(e);if("PICTURE"===o||"VIDEO"===o)for(var r=0;r<e.children.length;r++)x(e.children[r],t);if("SOURCE"===o||"IMG"===o||"IMAGE"===o||"VIDEO"===o||ui.mouseover_allow_canvas_el&&"CANVAS"===o||ui.mouseover_allow_svg_el&&"SVG"===o){if(ui.mouseover_exclude_imagemaps&&"IMG"===o&&e.hasAttribute("usemap")){var i=document.querySelector('map[name="'+e.getAttribute("usemap").replace(/^#/,"")+'"]');if(i)return Mr&&Jr("find_source","_find_source skipping",e,"due to image map",i)}var i=Mn(e);if(i&&(k(d=w(i),e,{layer:t}),!e.srcset)&&d in f&&(i=mt(e),f[d].width=i[0],f[d].height=i[1]),!e.srcset)return;for(var n=[],a=e.srcset;0<a.length;){var s=a,l=(a=a.replace(/^\s+/,"")).match(/^(\S+(?:\s+[^,]+)?)(?:,[\s\S]*)?\s*$/);if(l&&(n.push(l[1].replace(/\s*$/,"")),a=a.substr(l[1].length)),(a=a.replace(/^\s*,/,""))===s)break}e.sizes&&e.sizes.split(",");for(r=0;r<n.length;r++){var u,c,d=w(n[r].replace(/^(\S+)(?:\s+[\s\S]+)?\s*$/,"$1")),p=n[r].slice(d.length).replace(/^\s*([\s\S]*?)\s*$/,"$1");if(k(d,e,{layer:t})){if(f[d].picture=e.parentElement,p)for(f[d].desc=p;0<p.length;){var m=(p=p.replace(/^\s+/,"")).match(/^([0-9.]+)([whx])(?:\s+[0-9.]+[\s\S]*)?\s*$/);if(!m)break;var h=parseFloat(m[1]);0<h&&("w"===m[2]&&(!f[d].width||f[d].width>h)?f[d].width=h:"h"===m[2]&&(!f[d].height||f[d].height>h)?f[d].height=h:"x"===m[2]&&(!f[d].desc_x||f[d].desc_x>h)&&(f[d].desc_x=h)),p=p.substr(m[1].length+m[2].length)}e.media&&(f[d].media=e.media,e.media.match(/min-width:\s*([0-9]+)/)&&(u=kt(e.media.replace(/.*min-width:\s*([0-9.a-z]+).*/,"$1")),!f[d].minWidth||f[d].minWidth>u)&&(f[d].minWidth=u),e.media.match(/max-width:\s*([0-9]+)/)&&(u=kt(e.media.replace(/.*max-width:\s*([0-9.a-z]+).*/,"$1")),!f[d].maxWidth||f[d].maxWidth>u)&&(f[d].maxWidth=u),e.media.match(/min-height:\s*([0-9]+)/)&&(c=kt(e.media.replace(/.*min-height:\s*([0-9.a-z]+).*/,"$1")),!f[d].minHeight||f[d].minHeight>c)&&(f[d].minHeight=c),e.media.match(/max-height:\s*([0-9]+)/))&&(c=kt(e.media.replace(/.*max-height:\s*([0-9.a-z]+).*/,"$1")),!f[d].maxHeight||f[d].maxHeight>c)&&(f[d].maxHeight=c)}}}("A"===o||ui.mouseover_allow_iframe_el&&"IFRAME"===o)&&(i=Mn(e),_[i]={count:1,src:i,el:e,id:b++})}(e,t=void 0===t?a.length:t),r(t,e,window.getComputedStyle(e)),r(t,e,window.getComputedStyle(e,":before"),"before"),r(t,e,window.getComputedStyle(e,":after"),"after"))}for(var n=0;n<e.length;n++)if("IMG"===e[n].tagName&&e[n].parentElement&&"PICTURE"===e[n].parentElement.tagName&&Br(e,e[n].parentElement)<0&&e.splice(n+1,0,e[n].parentElement),"PICTURE"===e[n].tagName&&1==n){e.splice(0,n),n=0;break}for(n=0;n<e.length;n++)x(e[n]);Mr&&(Jr("find_source","_find_source (sources)",si(f)),Mr&&Jr("find_source","_find_source (layers)",si(a)),Mr)&&Jr("find_source","_find_source (ok_els)",si(g));for(var l=[],n=0;n<a.length;n++)for(var c=0;c<a[n].length;c++)Br(l,a[n][c])<0&&l.push(a[n][c]);var m,h=[];for(m in f){for(n=0;n<g.length;n++)f[m].el===g[n].el&&(g[n]=f[m],h[n]=!0);Br(l,m)<0&&delete f[m]}for(n=0;n<g.length;n++)h[n]||g[n].src||x(g[n].el);if(void 0!==(D=o())){if(Mr&&Jr("find_source","_find_source (getsource())",D),null===D){if(0<g.length)return g[0];if(L.links&&0<Object.keys(_).length){var C,z=null;for(C in _){if(!ui.mouseover_only_valid_links){z=C;break}if(yn(C,_[C].el)){z=C;break}}if(z)return _[z]}}return D}for(n=0;n<a.length;n++){for(var N=0,S=null,q=0,T=null,I=0,M=null,A=0,P=null,H=0,$=0,E=0,F=null,U={},R=!1,c=0;c<a[n].length;c++){var D,O=a[n][c];(D=f[O]).width&&D.width>N&&(N=D.width,S=D,R=!0),D.height&&D.height>q&&(q=D.height,T=D,R=!0),D.minWidth&&D.minWidth>I&&(I=D.minWidth,M=D,R=!0),D.minHeight&&D.minHeight>A&&(A=D.minHeight,P=D,R=!0),D.maxWidth&&D.maxWidth>H&&(H=D.maxWidth,0),D.maxHeight&&D.maxHeight>$&&($=D.maxHeight,0),D.desc_x&&D.desc_x>E&&(E=D.desc_x,F=D,R=!0),D.dpi&&0<D.dpi&&(R=!0),D.isbg&&(U[D.src]=!0,R=!0)}if(R)for(var G in 1<E&&(U[F.src]=!0),t<N&&I<N&&(U[S.src]=!0),t<q&&A<q&&(U[T.src]=!0),t<I&&N<=I&&(U[M.src]=!0),t<A&&q<=A&&(U[P.src]=!0),a[n]=[],U)a[n].push(G)}function B(e){for(var t=0;t<e.length;t++){var o=e[t],o=f[o];if(o.desc_x)return o}return f[e[0]]}Mr&&Jr("find_source","_find_source (new layers)",si(a));(function(){for(var e=[],t=0;t<a.length;t++)0!==a[t].length&&e.push(a[t]);a=e})(),Mr&&Jr("find_source","_find_source (rebuilt layers)",si(a));if(1<a.length&&1===a[0].length&&f[a[0][0]].isbg)for(n=1;n<a.length;n++)if(1!==a[n].length||!f[a[n][0]].isbg)return B(a[n]);if(0<a.length)return B(a[0]);return(D=o())||function(e){var t,o=aa,r=null;for(t in e){var i=e[t];i.id<o&&(o=i.id,r=e[t])}return r}(f)}(e,o,t);if(Mr&&Jr("find_source","find_source: result =",e,"ok_els =",o),e){function r(){return 0<o.length?o[0]:null}if(e.el&&function(e){var t=e;do{if(0<=Br(ye,t))return 1}while(t=t.parentElement)}(e.el))return Mr&&Jr("find_source","find_source: result.el is popup el",e.el),r();if(!e.is_ok_el&&!e.src)return Mr&&Jr("find_source","find_source: invalid src",e),r();var t=Qr(ui.mouseover_minimum_size),i=((isNaN(t)||e.imu)&&(t=0),Qr(ui.popup_maximum_source_size));if(isNaN(i)&&(i=0),!isNaN(e.width)&&!isNaN(e.height)&&0<e.width&&0<e.height){if(e.width<t||e.height<t)return Mr&&Jr("find_source","find_source: result size is too small"),r();if(i&&(e.width>i||e.height>i))return Yr("Source media is too big to popup (user-configured maximum is",i,"px)"),null}}return e}var Tt=function(e,t){if(e)for(var o=[(e=0<=Br(["SOURCE","IMG"],e.tagName)&&e.parentElement&&0<=Br(["PICTURE","VIDEO"],e.parentElement.tagName)?e.parentElement:e).tagName],r=e,i=!1;;){if(i)i=!1;else{var n=r.nextElementSibling;if(!(n=t?n:r.previousElementSibling)){if(!(r=r.parentElement))break;o.unshift(r.tagName);continue}r=n}if(r.tagName===o[0])if(1===o.length){if(Xt(r))return r}else if(t){for(var a=0;a<r.children.length;a++)if(r.children[a].tagName===o[1]){r=r.children[a],o.shift(),i=!0;break}}else for(a=r.children.length-1;0<=a;a--)if(r.children[a].tagName===o[1]){r=r.children[a],o.shift(),i=!0;break}}return null};function It(){"number"==typeof(f=(f=ui.mouseover_trigger_delay)<0||isNaN(f)?!1:f)&&10<=f&&(f=10),$="mouse"===mi("mouseover_trigger_behavior")||(f=!1),_&&(clearTimeout(_),_=null)}function At(e){return!Bn(e)||!Gn(d)}function Et(){d=[],h={}}function Ut(e,t){return 0<=Br(t,e)}function Rt(e,t){if(t){if(!At(e))return;if(h[e]=Date.now(),Br(d,e)<0)return d.push(e),1}else if(delete h[e],0<=Br(d,e))return d.splice(Br(d,e),1),Gn(d)&&Et(),1}function Dt(e,t){t=ua(t);for(var o=0;o<t.length;o++)if(function(e,t){var o,r=On(e,!0);for(o in r)if(r[o]&&Ut(o,t))return 1}(e,t[o]))return 1}function Lt(e,t){var o,r=On(e,t),i=Date.now();for(o in h)5e3<i-h[o]&&Rt(o,!1);for(var n in r)Rt(n,r[n])&&0}function jt(e,t,o){var r,i=On(e,t);for(r in i)if((void 0===o||Ut(r,o))&&function(e,t){if(t){if(!At(e))return;if(Br(d,e)<0)return 1}else if(0<=Br(d,e))return 1}(r,i[r]))return 1}function v(e){e=ua(e);for(var t=0;t<e.length;t++)if(function(e){for(var t=0;t<e.length;t++){var o=e[t];if(Br(d,o)<0)return}for(t=0;t<d.length;t++)if(!Bn(d[t])&&Br(e,d[t])<0)return;return 1}(e[t]))return 1}function Mt(e,t){t=ua(t);for(var o=0;o<t.length;o++)if(function(e){for(var t=0;t<e.length;t++){var o=e[t];if(0<=Br(d,o))return 1}}(t[o]))return 1}function Pt(){return mi("mouseover_close_behavior")}function Ht(){return ui.mouseover_close_need_mouseout&&"esc"!==Pt()}function $t(){return ui.mouseover_exclude_imagetab&&"mouse"===mi("mouseover_trigger_behavior")&&Fn()&&!bi}In=function(e,t){var o=Sn(ke,e,t);return o||!1===o?o:(e.parentElement||e.hasAttribute("imu-album-info")&&(e=E),q=[],Tt(e,t))},It(),ci.mouseover_trigger_delay.onupdate=It,ci.mouseover_trigger_behavior.onupdate=It;var Ft=function(e){return e.parentElement&&"SOURCE"===e.tagName?e.parentElement:e};function Ot(e){var t,o;e=e||{},Mr&&Yr("trigger_popup (options:",e,")",Pi),!ui.mouseover_allow_popup_when_fullscreen&&fr()&&!_r()||(Ee=!0,o=k?[_e,ve]:null,null===(o=e.is_contextmenu&&null!==l&&null!==C?[l,C]:o)?Ee=!1:(t=function e(t,o,r,i){var n=!1;if(r||(r=nn(),n=!0),void 0===i)try{i=new Map}catch(e){i=null}var a=[],s=[],l=mi("mouseover_find_els_mode");if(!o&&(s=o=document.elementsFromPoint(t[0],t[1]),Mr&&Yr("find_els_at_point (elsfrompoint)",si(o)),"simple"===l))return o;for(var u=0;u<o.length;u++)if(0<u&&n&&"hybrid"===l)a.push(o[u]);else{var c=o[u];if(!sn(r,c)){an(r,c);var d=!1,p=null,m=null;if(0<c.childElementCount&&(p=c.children,d=!0),c.shadowRoot&&0<c.shadowRoot.childElementCount&&(m=c.shadowRoot.children,d=!0),d){var h=[];if(p)for(var g=p.length-1;0<=g;g--)h.push(p[g]);if(m)for(g=m.length-1;0<=g;g--)h.push(m[g]);for(var f=e(t,h,r,i),g=0;g<f.length;g++){var _=f[g];Br(a,_)<0&&a.push(_)}}(d=Nt(c,i))&&0<d.width&&0<d.height&&d.left<=t[0]&&d.right>=t[0]&&d.top<=t[1]&&d.bottom>=t[1]&&Br(a,c)<0&&a.push(c)}}for(var v,b,u=0;u<s.length;u++)Br(a,s[u])<0&&a.push(s[u]);return Mr&&0<a.length&&Yr("find_els_at_point (unsorted ret)",Ji(a)),n&&"hybrid"===l||(v=function(e){var t=En(e).zIndex,o=0;return e.parentElement&&(o=b(e.parentElement)),"auto"===t?o:(t=parseFloat(t))<o?o+t:t},b=function(e){var t,o;return i?(t=rn(i,e))&&"zIndex"in t?t.zIndex:(o=v(e),t?t.zIndex=o:on(i,e,{zIndex:o}),o):v(e)},a.sort(function(e,t){var o=b(e),r=b(t);return r===o?Br(a,e)-Br(a,t):r-o}),Mr&&0<a.length&&Yr("find_els_at_point (ret)",o,Ji(a),t)),a}(o),Mr&&Yr("trigger_popup: els =",t,"point =",o),e.is_contextmenu&&(C=l=null),!(o=qt(t))&&ui.mouseover_allow_self_pagelink&&"keyboard"===m&&(o={el:document.body,src:window.location.href,pagelink:!0}),Mr&&Yr("trigger_popup: source =",o),!o||"mouse"===m&&Ft(o.el)===p?("keyboard"===m&&ui.mouseover_enable_notallowed&&b(),Ee=!1):Gt(o)))}function Gt(e,a,t,s){A=Ft(e.el),s=s||ni.nullfunc;var o=!1,r=it("mouseover_open_behavior"),l=("newtab"!==r&&"newtab_bg"!==r&&"download"!==r&&"copylink"!==r||(o=!0),e),r=!1,i=!1,n=mi("mouseover_allow_partial");"media"===n?i=r=!0:"video"===n&&(i=!0),Fr&&Di()&&(i=r=!0),Bt(e,{automatic:a,multi:!1,use_head:o,incomplete_image:r,incomplete_video:i,use_last_pos:t},function(e,t,o,r){var i,n;return e||t||o||r?a&&q&&e&&e[0]&&0<=Br(q,e[0].url)?(Ee=!1,Ue(),s(!1)):(_r(),Re({new_popup:!0,automatic:a}),a&&(Ce=!0,lt()),u=t.el,(xe=Ft(u)).parentElement&&(E=xe),T=Qn(xe),Pe="video"===T||"audio"===T,He=Mn(xe),Fr&&Di()&&"popup"===it("mouseover_open_behavior")?(r.data.img=(i=r.data.img,n={tag:i.tagName.toLowerCase(),src:i.src,autoplay:i.getAttribute("autoplay"),controls:i.getAttribute("controls"),loop:i.getAttribute("loop"),muted:i.muted,volume:i.volume},i.hasAttribute("crossorigin")&&(n.crossorigin=i.getAttribute("crossorigin")),n),Li("top",{type:"make_popup",data:{source_imu:e,src:t.src,processing:o,data:r}})):(yt(e,t.src,o,r),Fr&&$i()&&"popup"===it("mouseover_open_behavior")&&Li("top",{type:"popup_open"})),void s(!0)):(Ee=!1,(l.pagelink?at:Ue)(),s(!1))})}function Bt(a,s,i){function e(){function e(e,t){if(!t)return s.multi||at(),i();s.use_last_pos&&(r=o=null),i(e,a,l,{data:t,x:o,y:r})}s.multi||B(a.el);var o=_e,r=ve;try{var t=ui.mouseover_ui_caption&&ui.redirect_force_page;An(a.src,{fill_object:!0,host_url:window.location.href,document:document,window:gi(),element:a.el,force_page:t,cb:e},function(e,i){var n=e;if(Mr&&Yr("do_popup: brl query:",e),s.null_if_no_change&&e[0].url===a.src)return i(a.src,e[0],null);var t,o=si(e);if(ui.mouseover_exclude_sameimage){if(a.src)for(;0<=(t=Rn(o,a.src));)o.splice(t,1)}else a.src&&Rn(o,a.src)<0&&o.push(gn(a.src)[0]);a.pagelink&&(o=hn(o),ri(o,function(e){e.url.replace(/#.*/,"")===a.src.replace(/#.*/,"")&&(e.is_pagelink=!0)})),l.incomplete_image=s.incomplete_image,l.incomplete_video=s.incomplete_video,l.progress_cb=s.progress_cb,s.use_head&&(l.head=!0),ui.popup_allow_cache&&!s.deny_cache&&(l.set_cache=!0,l.use_cache=!0),l.deny_nondirect_delivery=s.deny_nondirect_delivery,O("mouseover_allow_video")||(l.deny_video=!0),O("mouseover_allow_audio")||(l.deny_audio=!0),l.source=a,ia(o,function(e,t,o,r){if(Mr&&Yr("do_popup: check_image_get response:",e,t,o,r),!e)return i(null);o={img:e,newurl:t,obj:o,respdata:r},r=t;s.use_head&&(r=(o={resp:e,obj:t}).resp.finalUrl),ui.print_imu_obj&&Yr(n),i(r,o.obj,o)},l)})}catch(e){Zr(e)}}var t,l={running:!0};s.multi||(X(),o=[l]);!f||$||s.automatic?e():(t=a.el,B(t,"progress"),_=setTimeout(function(){Ee||(_=null,e())},1e3*f))}function Wt(t,e,o,r,i){o=o||u;var n={element:e=e||E,document:document,window:gi(),host_url:window.location.href,do_request:ai,rule_specific:{},cb:function(e){if(void 0===e||"default"===e)return r(In(o,t));r(e)}};if(i)for(var a in i)n[a]=i[a];qn(n),Tn(n);var s=Nn(n),e=In,e=(e=s&&s.gallery?function(e,t){var o=s.gallery(e,t);return o||null===o?o:In(e,t)}:e)(o,t);if("waiting"!==e)return"default"===e?r(In(o,t)):void r(e)}var Vt=new ln;function Xt(e){var t;return!!e&&(Vt.has(e)?Vt.get(e):(t=!!qt([e]),Vt.set(e,t,3),t))}function Yt(e,t,o,r,i,n){var a=0,s=(void 0===t&&(t=ui.mouseover_ui_gallerymax),i);if(!(s=i||u)&&c&&Di()&&!Fr)return Li(c,{type:"count_gallery",data:{nextprev:e,is_counting:o,max:t}},function(e){n(e)});function l(){Wt(e,r,i,function(e){return e&&Xt(e)?t<=++a?n(a,e):(i=e,void da(l,a,100)):n(a,i)},{is_counting:o,counting_firstel:s})}l()}function Zt(e,r,i){function n(t,o){Wt(t,r,i,function(e){if(!e||!Xt(e))return o();a++,sn(s,i=e)||(an(s,i),t?l.push(i):l.unshift(i)),da(function(){n(t,o)},a,100)})}var a=0,s=nn(),l=[],t=i;(t=t||u)&&(an(s,t),l.push(t)),n(!1,function(){n(!0,function(){e(l)})})}function Kt(e,o,r,i){if(r=r||u,0===e)return i();var n=!0,a=e;e<0&&(n=!1,a=-e),Yt(n,a,!1,o,r,function(e,t){e<a?ui.mouseover_gallery_cycle?Yt(!n,void 0,!0,o,r,function(e,t){i(t)}):i(null):i(t)})}function Jt(e,t){if(c&&Di()&&!Fr)return Li(c,{type:"is_nextprev_valid",data:{nextprev:e}},function(e){t(e)});Kt(e?1:-1,void 0,void 0,function(e){t(Xt(e))})}function Qt(e){var t=nr();t&&(t.parentElement.parentElement.style.transform=ro(e))}function eo(){var e=oo();return io(e).deg}var to=function(e){for(var t,o,r=[],i={},n=0,a=0;a<e.length;a++)")"===e[a]&&(o=(t=di(e.substr(n,a-n+1))).replace(/\(.*/,""),r.push(t),o in i||(i[o]=[]),i[o].push(r.length-1),n=a+1);return{transforms:r,types:i}},oo=function(){var e,t=null;return(t=ye&&ye[0]&&(e=nr())?e.parentElement.parentElement.style:t)&&t.transform?to(t.transform):{transforms:[],types:{}}},ro=function(e){return e.transforms.join(" ")},io=function(e){var t=0,e=("rotate"in e.types?t=e.types.rotate[0]:e.transforms.unshift("rotate(0deg)"),e.transforms[t].match(/^rotate\(([-0-9]+)deg\)$/)),o=0;return{deg:o=e?parseInt(e[1]):o,index:t}};function no(e){var t,o;ze&&(t=oo(),o=io(t),t.transforms[o.index]="rotate("+(o.deg+e)+"deg)",Qt(t),Fe(!0))}var ao=function(e){var t,o,r,i,n;ze&&(o=(t=oo()).transforms.length,"scale"in t.types?o=t.types.scale[0]:t.transforms.push("scale(1,1)"),n=i=1,(r=t.transforms[o].match(/^scale\(([-0-9.]+)\s*,\s*([-0-9.]+)\)$/))&&(i=parseFloat(r[1]),n=parseFloat(r[2])),e?n=-n:i=-i,t.transforms[o]="scale("+i+", "+n+")",Qt(t))},so=function(e,t){t=Ii(10,t);return(0|(e*=t))/t},lo=function(e){for(var t=["B","KB","MB","GB","TB","PB"];1<t.length&&1024<e;)e/=1024,t.shift();return so(e,2)+t[0]};function uo(e){var t=Xr("div"),o=(Xn(t),t.style.backgroundColor="rgba(0,0,0,0.7)",t.style.height="2em",t.style.zIndex=sa-2,Xr("div"));return Xn(o),o.style.position="absolute",o.style.top="0px",o.style.left="0px",o.style.backgroundColor="#00aaff",o.style.height="100%",o.style.width="0%",o.style.zIndex=sa-1,t.appendChild(o),e&&(t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.width="80%",t.style.marginTop="100px",t.style.marginLeft="10%",document.documentElement.appendChild(t)),t}function co(e,t,o){var r=e.children[0];"number"==typeof t?(r.getAttribute("data-timer")&&(clearInterval(parseInt(r.getAttribute("data-timer"))),r.removeAttribute("data-timer")),1<=t&&o&&e.parentElement?e.parentElement.removeChild(e):r.style.width=100*t+"%"):"unknown"==t&&(r.style.width="10%",r.getAttribute("data-timer")||(r.style.left="0%",r.setAttribute("data-dir","right"),o=setInterval(function(){var e=parseFloat(r.style.left);"right"==r.getAttribute("data-dir")?90<=(e+=.015*90)&&(e=90-(e-90),r.setAttribute("data-dir","left")):(e-=.015*90)<=0&&(e=-e,r.setAttribute("data-dir","right")),r.style.left=e+"%"},15),r.setAttribute("data-timer",o)))}function po(e){return(ui.mouseover_links?_o:fo)(e)}function mo(e,t,o){ri(e.attributes,function(e){t.hasAttribute(e.name)&&!o||t.setAttribute(e.name,e.value)})}function ho(e,t){var o,r;t.parentElement&&(r=Xr((o=t).tagName),mo(o,r),(t=r).removeAttribute("style")),mo(e,t),e.parentElement.insertBefore(t,e),e.parentElement.removeChild(e)}var go=function(e){return"IMG"===(t=e).tagName||"PICTURE"===t.tagName||"VIDEO"===e.tagName;var t},fo=function(e){return(e=e||document).querySelectorAll("img, picture, video")},_o=function(e){return(e=e||document).querySelectorAll("img, picture, video, a")},vo=function(e,t,o,r){s||(i=Mn(o));var i,n=!1,a=("A"===t.tagName&&(e.plainlink_replace_link&&(t.href=i),e.plainlink_replace_text&&(t.textContent=i),e.plainlink_replace_media)&&(n=!0),mt(t)),s=!1;if(n||"string"!=typeof o&&"VIDEO"===o.tagName){if("string"==typeof o)return void Kr("Unable to replace",t,"due to invalid replacement:",o);t=ho(t,o),s=!0}if(!s&&e.replace_imgs&&(t.hasAttribute("srcset")&&t.removeAttribute("srcset"),Mn(t)!==i)&&(t.src=i),"remove"===e.size_constraints?(t.removeAttribute("height"),t.removeAttribute("width"),t.style.setProperty("height","auto","important"),t.style.setProperty("width","auto","important")):"force"===e.size_constraints&&a&&a[0]&&a[1]&&(t.setAttribute("height",a[1]),t.removeAttribute("width",a[0]),t.style.setProperty("height",a[1]+"px","important"),t.style.setProperty("width",a[0]+"px","important")),e.replace_css&&pt(t,e.replace_css,{force_important:!0}),e.add_links){for(var l=t;l=l.parentElement;)if("A"===l.tagName){if(e.replace_links)break;return}l||(l=Xr("a"),t.parentElement.insertBefore(l,t),l.appendChild(t)),e.links_newtab&&(l.target="_blank"),l.href!==r&&(l.href=r)}},bo=function(t,o,r,i){var e,n=!1;r.data.img?vo(t,o.el,r.data.img,r.data.obj.url):r.data.obj&&(e=function(){var e;ui.replaceimgs_wait_fullyloaded&&t.replace_imgs?((e=new Image).onload=function(){vo(t,o.el,e.src,r.data.obj.url),i()},e.onerror=i,e.src=r.data.obj.url):(vo(t,o.el,r.data.obj.url,r.data.obj.url),i())},Pr?Hr({type:"override_next_headers",data:{url:r.data.obj.url,headers:r.data.obj.headers,method:"GET"}},function(){e()}):e(),n=!0),n||i()},yo=!(Yn=function(e,t){if(t=t||ni.nullfunc,c&&Di()&&!Fr)return Li(c,{type:"trigger_gallery",data:{dir:e}},function(e){t(e)});Kt(e,void 0,void 0,function(e){if(e){e=qt([e]);if(e)return void Gt(e,!0,!0,function(e){t(e)})}return t(!1)})}),wo=new ln;function ko(l){if(!yo&&!Fn()){var e=l.images,t=(void 0===e&&(e=(l.support_plainlinks?_o:fo)()),[]);if(l.all_els_ok)t=e;else{for(var o=nn(),r=0;r<e.length;r++){var i=go(e[r]);if((i=!i&&l.support_plainlinks&&"A"===e[r].tagName?!0:i)&&(t.push(e[r]),l.support_plainlinks))for(var n=e[r].parentElement;n;)an(o,n),n=n.parentElement}if(l.support_plainlinks)for(r=0;r<t.length;r++)"A"===t[r].tagName&&sn(o,t[r])&&(t.splice(r,1),r--)}if(0!==t.length){l.use_progressbar&&Yr("Replacing images");for(var u,c,d=0,p=1,m=(l.finalcb&&l.finalcb_progress&&(p-=l.finalcb_progress),l.replace_image_func||(l.replace_image_func=function(i,n,a,s,e){if(i.use_elcache){if(wo.has(n.el))return s(),a();wo.set(n.el,!0,5)}var t=!ui.replaceimgs_usedata,o=t,r=!0;"A"===n.el.tagName&&(t=r=!i.plainlink_replace_media,r=r||!yn(n.src,n.el)),Bt(n,{automatic:!0,multi:!0,use_head:t,incomplete_image:o,incomplete_video:o,null_if_no_change:r,use_last_pos:!1,progress_cb:e},function(e,t,o,r){if(s(),!r)return vo(i,n.el,n.src,n.src),a();bo(i,t,r,a)})}),0),h=function(){var e=parseInt(ui.replaceimgs_totallimit);if(e<w)w--;else{w<e&&(w++,h());var t,o=null,r=null,i=Date.now();for(t in g)if(!(f[t]>=parseInt(ui.replaceimgs_domainlimit))){var n=i-_[t],a=1e3*parseFloat(ui.replaceimgs_delay)-n;if(!(0<a)){f[r=t]++,_[t]=i,o=g[t][0],g[t].splice(0,1),0===g[t].length&&delete g[t];break}null===v[t]&&!function(e){v[e]=setTimeout(function(){v[e]=null,h()},1+a)}(t)}null===o&&0<b.length&&(o=b[0],b.splice(0,1));var s=m;m++,o?l.replace_image_func(l,o,function(){var e;e=s,d++,l.use_progressbar&&(u.finish_id(e),Yr("Finished "+d+"/"+y)),y<=d?(l.use_progressbar&&co(c,p,!0),yo=!1,l.finalcb&&l.finalcb(function(e){l.use_progressbar&&l.finalcb_progress&&co(c,p+e*l.finalcb_progress,!0)})):da(h,d,100)},function(){r&&f[r]--},function(e){var t;ui.replaceimgs_simple_progress&&(t=e.loaded/e.total,e.total=1,e.loaded=t),u.update_progobj(s,e)}):w--}},g=(l.use_progressbar&&(c=uo(!0)),{}),f={},_={},v={},b=[],y=t.length,r=0;r<t.length;r++){var a,s=qt([t[r]],{links:l.support_plainlinks});s?(s._replace_id=r,(s.src&&(a=s.src.match(/^https?:\/\/([^/]+)\//))?(a[1]in g||(g[a[1]]=[],f[a[1]]=0,_[a[1]]=0,v[a[1]]=null),g[a[1]]):b).push(s)):y--}l.use_progressbar&&(u=new Vi({cb:function(e){co(c,e.percent*p,!1)},elements_num:y}));var w=1;h()}}}function xo(e){var t,o={replace_imgs:ui.replaceimgs_replaceimgs,add_links:ui.replaceimgs_addlinks,replace_links:ui.replaceimgs_replacelinks,support_plainlinks:!1,plainlink_replace_text:!1,plainlink_replace_link:!1,plainlink_replace_media:!1,links_newtab:ui.replaceimgs_links_newtab,size_constraints:mi("replaceimgs_size_constraints"),replace_css:ui.replaceimgs_css,use_progressbar:!0},r=mi("replaceimgs_plainlinks");for(t in"none"!==r&&(o.support_plainlinks=!0,"replace_link_text"===r?(o.plainlink_replace_text=!0,o.plainlink_replace_link=!0):"replace_media"===r&&(o.plainlink_replace_media=!0)),e=e||{})o[t]=e[t];return o}function Co(h,g,i){function n(e){e.headers={Referer:"https://qsniyg.github.io/maxurl/"},ai(e)}var t;t=function(e){if(!e)return i(!1);var e=function(){for(var e={},t=mi("gallery_jd_referer"),o=0;o<h.length;o++){var r,i,n,a=h[o];a&&(r={url:a.obj.url,filename:a.filename||"",desc:""},i="",n=null,(i=a.obj.headers&&"never"!==t&&(n=xn(a.obj.headers,"referer")||null)&&(i=r.referer=n,"domain"===t)?Cn(i):i)in e||(e[i]={referer:n,urls:[]}),e[i].urls.push(r))}var s,l=[];for(s in e){var u=e[s],c=[],d=[],p=[],m=(ri(u.urls,function(e){c.push("directhttp://"+e.url),p.push(e.fnames),d.push(e.desc)}),{urls:c.join("\n"),descriptions:d.join("\n"),fnames:p.join("\n")});g&&(m.package=g),m.referer=u.referer||"",ui.gallery_jd_autostart&&(m.autostart="1"),l.push(fn(m,!0))}return l}(),t=0,o=e.length,r=!1;ri(e,function(e){n({method:"GET",url:"http://127.0.0.1:9666/flashgot?"+e,onload:function(e){if(t++,!r)return 200!==e.status?(Zr("Error with flashgot api",e),i(!(r=!0))):void(o<=t&&i(!0))}})})},n({method:"GET",url:"http://127.0.0.1:9666/jdcheckjson",onload:function(e){if(200!==e.status)return Zr("Unable to connect to JDownloader",e),t(!1);try{JSON.parse(e.responseText)}catch(e){return Zr(e),t(!1)}return t(!0)}})}function zo(){!Lo&&/^text\//.test(document.contentType)&&(Lo=Xr("style"),document.documentElement.appendChild(Lo),Mo())}function No(e){zo(),e.classList.add(jo)}function So(e){e.classList.remove(jo)}function qo(e){var t,o;return e.hasAttribute("data-imu-valid")?!!en(e.getAttribute("data-imu-valid")):(o=Mn(t=e),o=!(!jn(o,Jn(t))||"A"===t.tagName&&!yn(o,t)),e.setAttribute("data-imu-valid",o+""),o)}function To(e){var t;return e.hasAttribute("data-imu-supported")?!!en(e.getAttribute("data-imu-supported")):(t=Pn(e),e.setAttribute("data-imu-supported",t+""),t)}var Io,Ao,Eo,Uo,Ro=function(e){return ko(xo(e))},Do=(Bi("Replace images",Ro),function(){function l(i,e,t,o){if(!i||!i.data||!i.data.obj)return Zr("Invalid data",i,e),o();var r=i.data.obj.url;if(i.data.resp){if(!i.data.resp.finalUrl)return Zr("Unable to load image from",i,e),o();r=i.data.resp.finalUrl}i.data.img&&("VIDEO"===i.data.img.tagName&&i.data.img.pause(),r=Mn(i.data.img));var n=i.data.obj||{},a=n.url,s=null;if(sn(d,a))return o();function l(e){if(gt(n,a,i.data.respdata),s=n.filename,(s=e&&!s?"download":s)&&s in c){for(var t,o=1,r=mn(s,{split_ext:!0});t=r[0]+" ("+o+++")",r[1]&&(t+="."+r[1]),t in c;);s=t}}function u(){ui.gallery_zip_add_info_file&&(m[e._replace_id]=_(s,n,a,e)),p[e._replace_id]={obj:n,filename:s},o()}an(d,a),"jdownloader"===h?(l(!1),u()):Xi({url:r,headers:n.headers},{onload:function(e){l(!0),c[s]=e.data,u()},onprogress:t})}function t(e){Ro({images:e,all_els_ok:!0,replace_image_func:function(e,n,a,s,t){t={automatic:!0,multi:!0,use_head:!1,incomplete_image:!1,incomplete_video:!0,deny_nondirect_delivery:!0,deny_cache:!0,null_if_no_change:!ui.gallery_download_unchanged,use_last_pos:!1,progress_cb:t};"jdownloader"===h&&(t.use_head=!0,t.incomplete_image=!0,t.incomplete_video=!0),Bt(n,t,function(e,t,o,r){if(s(),!r)return void 0!==t||ui.gallery_download_unchanged?(Zr("Unable to download",t,n),ui.gallery_zip_add_info_file&&u.push(((t={}).num_in_gallery=(i=n)._replace_id+1,(i=i.src)&&(t.url=g(i)),t))):Kr("Not downloading unchanged image",n),a();var i;l(r,n,function(e){},a)})},finalcb:function(t){var e,o,r,i,n,a;"zip"===h&&!Object.keys(c).length||!p.length?(Zr("No files!"),t(1)):(e=function(){for(var e=0;e<p.length;e++)if(p[e]&&p[e].obj)return p[e].obj}(),s||!e||((e=si(e.format_vars)).ext=".zip",e.items_amt=Object.keys(p).length.toString(),s=(s=bt(ui.gallery_zip_filename_format,e))||"download",/\.zip$/i.test(s))||(s+=".zip"),e=(s=s||"download.zip").replace(/\.zip$/i,""),o=null,ui.gallery_zip_add_tld&&(o=e),ui.gallery_zip_add_info_file&&(c["info.txt"]=function(){var e=f(),t=[];t.push(" --- Page info ---",""),t.push(Or(e,null,"\t")),t.push(""," --- Files ---","");for(var o,r=0;r<p.length;r++)p[r]&&p[r].filename&&(o=p[r].filename,t.push(o),t.push(Or(m[r],null,"\t")),t.push(""));return u.length&&(t.push(""," --- Failed ---",""),ri(u,function(e){t.push(Or(e,null,"\t")),t.push("")})),v(t.join("\n"))}()),B(),"jdownloader"===h?Co(p,e,function(e){t(1),(e?Ue:b)()}):(r=c,i=o,n=function(e){t(1),e?(Ue(),Gi(e,s)):b()},a=t,bn("jszip",ui,ai,function(e){if(!e)return n(null);var t,e=new e,o=e;for(t in i&&(o=e.folder(i)),r)o.file(t,r[t]);e.generateAsync({type:"blob"},function(e){a(e.percent/100)}).then(function(e){n(e)},function(e){Zr(e),n(null)})})))},finalcb_progress:.1})}var c={},d=nn(),p=[],m={},u=[],s=null,h=mi("gallery_download_method"),g=function(e){return/^https?:\/\//i.test(e)?e:e.substr(0,1e3)},f=function(){var e={};e.url=$r;try{var t=gi().location.href;t!==$r&&(e.url_orig=$r,e.url=t),e.title=document.title,e.download_time=(new Date).toString()}catch(e){Zr(e)}return e},_=function(e,t,o,r){var i={},r=(i.num_in_gallery=r._replace_id+1,i.download_url=g(o),t.headers&&(i.download_headers=t.headers),r.src);return r&&r!==o&&(i.thumb_url=g(r)),t.filename!==(i.filename=e)&&(i.orig_filename=t.filename),t.filesize&&(i.filesize=t.filesize),t.extra&&ii(t.extra,function(e,t){null!==t&&""!==t&&(i["extra_"+e]=t)}),i},v=function(e){return e.replace(/\r*\n/g,"\r\n")};Zt(function(e){t(e)})}),Lo=null,jo="imu-"+Ai(10)+"-highlight",Mo=function(){zo(),Lo&&(Lo.innerText="."+jo+"{"+dt(ui.highlightimgs_css)+"}")},a=(Io=ci.highlightimgs_css.onupdate,ci.highlightimgs_css.onupdate=function(){if(Mo(),Io)return Io.apply(this,arguments)},[]),Po=function(e){if(!Fn()||!ui.mouseover_exclude_imagetab){var t=(e=e||{}).images;if((t=void 0===t?po():t).length)for(var o,r=0;r<t.length;r++)qo(t[r])&&(o=!ui.highlightimgs_onlysupported,ui.highlightimgs_onlysupported&&(o=To(t[r])),e.hoveronly||(o?(e.is_auto&&Br(a,t[r])<0&&a.push(t[r]),No):So)(t[r]))}};function Ho(){ui.highlightimgs_enable?Ao||(Eo=Bi("Highlight images",Po),Ao=!0):Ao&&(Wi(Eo),Ao=!1)}Ao=!1,Eo=null,Ho(),Uo=ci.highlightimgs_enable.onupdate,ci.highlightimgs_enable.onupdate=function(){if(Ho(),Uo)return Uo.apply(this,arguments)};function $o(){if(!Ee){var e=mi("mouseover_trigger_enabledisable_toggle");if(v(ui.mouseover_trigger_prevent_key)){if("disable"===e)return}else if("enable"===e)return;return m="mouse"}}var Fo=function(e){Fn()&&ui.mouseover_exclude_imagetab||("hover"!==mi("highlightimgs_auto")||!qo(e.target)||ui.highlightimgs_onlysupported&&!To(e.target)||(Br(a,e.target)<0&&a.push(e.target),No(e.target)),w()&&ui.mouseover_trigger_mouseover&&!_&&!$t()&&(F=e.target,Ur(e),_=setTimeout(function(){F=null,_&&(clearTimeout(_),_=null),$o()&&Ot()},1e3*f)))},Oo=function(e){"hover"===mi("highlightimgs_auto")&&qo(e.target)&&So(e.target),w()&&ui.mouseover_trigger_mouseover&&_&&F===e.target&&(clearTimeout(_),_=null)};function Go(e){var t=mi("highlightimgs_auto");"always"!==t&&"hover"!==t||Po({images:e,hoveronly:"hover"===t,is_auto:!0});for(var o=0;o<e.length;o++)Ci(e[o],"mouseover",Fo),Ci(e[o],"mouseout",Oo),Vr(e[o],"mouseover",Fo),Vr(e[o],"mouseout",Oo);ui.replaceimgs_auto&&Ro({images:e,use_progressbar:!1,use_elcache:!0})}if(!fi()&&(!ui.apply_blacklist_host||Zi(window.location.href))){var Bo,Wo={childList:!0,subtree:!0,attributes:!0},e=function(){return new MutationObserver(function(e,t){for(var r=[],i=function(e){for(var t,o=0;o<e.length;o++)t=e[o],(go(t)||ui.mouseover_links&&"A"===t.tagName)&&r.push(e[o]),e[o].children&&i(e[o].children)},o=0;o<e.length;o++){var n=e[o];n.addedNodes&&i(n.addedNodes),!n.target||"attributes"!==n.type||"src"!==n.attributeName&&"href"!==n.attributeName&&"srcset"!==n.attributeName||i([n.target])}0<r.length&&Go(r)})},Vo=function(){fi()||(Go(po()),Bo&&Bo.observe(document,Wo))},Xo=function(){for(var e=0;e<a.length;e++)So(a[e]);a=[]},Yo=function(){Xo(),Bo&&Bo.disconnect()},Zo=(wi.push(Yo),function(){var e=mi("highlightimgs_auto");return"always"===e||"hover"===e||ui.replaceimgs_auto||w()&&ui.mouseover_trigger_mouseover});try{Bo=e()}catch(e){Kr(e)}Zo()&&Vo();function Ko(){(Zo()?("always"!==mi("highlightimgs_auto")&&Xo(),Vo):Yo)()}var Jo=ci.highlightimgs_auto.onupdate,Qo=(ci.highlightimgs_auto.onupdate=function(){Jo&&Jo(),Ko()},ci.imu_enabled.onupdate);ci.imu_enabled.onupdate=function(){Qo&&Qo.apply(this,arguments),(ui.imu_enabled?Ko:Yo)()}}function er(t){try{t.play()}catch(e){Kr("Unable to autoplay",t,e)}}function tr(e){l=e.clientX,C=e.clientY,e.pageX,e.pageY}function or(e,t){if(!1===t)try{e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation()}catch(e){}return t}function rr(o){if(!_i&&(Mr&&Jr("input","keydown_cb",o),y())&&("wheel"!==o.type||!Gn(d))){if("keydown"===o.type){if(o.repeat)return;if(ot)return;if(ui.disable_keybind_when_editing&&o.target){var e=zr.get(o.target);if(void 0===e&&(e=function(e){if("TEXTAREA"===e.tagName)return!0;if("INPUT"===e.tagName&&(!e.hasAttribute("type")||"text"===e.getAttribute("type")))return!0;do{if(e.hasAttribute("contenteditable"))return!0}while(e=e.parentElement);return!1}(o.target),zr.set(o.target,e,60)),!0===e)return}}var r=void 0,i=[],e=(Lt(o,!0),function(e){var t,o=!0,r=On(e,o="mouseup"!==e.type&&"keyup"!==e.type?o:!1),i=[];for(t in r)i.push(t+":"+r[t]);return o+" "+i.join(",")+" "+e.timeStamp}(o));if(Nr.has(e))return or(o,Nr.get(e));if(Pr&&ui.extension_contextmenu&&"mousedown"===o.type&&v(["shift","button2"])&&tr(o),ui.mouseover&&"keyboard"===mi("mouseover_trigger_behavior")){for(var t=[ui.mouseover_trigger_key],n=0;n<tn;n++)t.push(ui["mouseover_trigger_key_t"+(n+2)]);ri(t,function(e,t){Dt(o,e)&&(v(e)&&!ze&&(h={},_||(i.push({requires_mouse:!0,type:"trigger_popup",trigger:"keyboard"}),r=!1,g=e),S=t?t+1:null,"popup"!==O("mouseover_open_behavior"))&&Et(),"all"===(t=Pt())||"any"===t&&v(e))&&(Ne[0]=!1)})}if(ui.replaceimgs_enable_keybinding&&v(ui.replaceimgs_keybinding)&&(i.push({type:"replace_images"}),r=!1,g=ui.replaceimgs_keybinding),ui.highlightimgs_enable_keybinding&&v(ui.highlightimgs_keybinding)&&(i.push({type:"highlight_images"}),r=!1,g=ui.highlightimgs_keybinding),ui.mouseover&&!1!==r)for(var a=c||yr(),s=[{key:ui.mouseover_close_key,action:{type:"resetpopups"}},{key:ui.mouseover_gallery_prev_key,action:{type:"gallery_prev"},requires:ui.mouseover_enable_gallery},{key:ui.mouseover_gallery_next_key,action:{type:"gallery_next"},requires:ui.mouseover_enable_gallery},{key:ui.mouseover_download_key,clear:!0,action:{type:"download"}},{key:ui.mouseover_open_new_tab_key,clear:!0,action:{type:"open_in_new_tab"}},{key:ui.mouseover_open_bg_tab_key,action:{type:"open_in_new_tab",background_tab:!0}},{key:ui.mouseover_copy_link_key,action:{type:"copy_link"},requires:ui.write_to_clipboard},{key:ui.mouseover_open_options_key,clear:!0,action:{type:"open_options"}},{key:ui.mouseover_open_orig_page_key,clear:!0,action:{type:"open_orig_page"}},{key:ui.mouseover_rotate_left_key,action:{type:"rotate_left"}},{key:ui.mouseover_rotate_right_key,action:{type:"rotate_right"}},{key:ui.mouseover_flip_horizontal_key,action:{type:"flip_horizontal"}},{key:ui.mouseover_flip_vertical_key,action:{type:"flip_vertical"}},{key:ui.mouseover_zoom_in_key,action:{type:"zoom_in"}},{key:ui.mouseover_zoom_out_key,action:{type:"zoom_out"}},{key:ui.mouseover_zoom_full_key,action:{type:"zoom_full"}},{key:ui.mouseover_zoom_fit_key,action:{type:"zoom_fit"}},{key:ui.mouseover_fullscreen_key,action:{type:"fullscreen"}},{key:ui.mouseover_video_seek_left_key,action:{type:"seek_left"}},{key:ui.mouseover_video_seek_right_key,action:{type:"seek_right"}},{key:ui.mouseover_video_frame_prev_key,action:{type:"frame_left"}},{key:ui.mouseover_video_frame_next_key,action:{type:"frame_right"}},{key:ui.mouseover_video_speed_down_key,action:{type:"speed_down"}},{key:ui.mouseover_video_speed_up_key,action:{type:"speed_up"}},{key:ui.mouseover_video_reset_speed_key,action:{type:"reset_speed"}},{key:ui.mouseover_video_volume_up_key,action:{type:"volume_up"}},{key:ui.mouseover_video_volume_down_key,action:{type:"volume_down"}},{key:ui.mouseover_video_mute_key,action:{type:"toggle_mute"}},{key:ui.mouseover_video_controls_key,action:{type:"toggle_controls"}},{key:ui.mouseover_video_playpause_key,action:{type:"toggle_play_pause"}},{key:ui.mouseover_video_screenshot_key,clear:!0,action:{type:"screenshot_video"}},{key:ui.mouseover_ui_toggle_key,action:{type:"toggle_ui"}},{key:ui.mouseover_gallery_download_key,action:{type:"download_gallery"},clear:!0},{key:ui.mouseover_hold_key,action:{type:"toggle_hold"}}],n=0;n<s.length;n++)if(s[n].key&&v(s[n].key)&&(!("requires"in s[n])||s[n].requires)){var l=s[n].action;l.needs_popup=!0,i.push(l),s[n].clear&&Et(),a&&(g=s[n].key,r=!1);break}if(g=g&&g.length?si(g):[],i&&0<i.length){for(var u=0;u<d.length;u++)Bn(d[u])&&(d.splice(u,1),u--);for(n=0;n<i.length;n++)Cr(i[n]);!function(e){if($i()){var t="top",o=!0;if(!Fr&&"top"===(t=x)){if(o=!1,!c)return;t=c}for(var r=0;r<e.length;r++)!o&&e[r].requires_mouse&&(e.splice(r,1),r--);0<e.length&&Li(t,{type:"action",data:e})}}(i)}return!1===r&&Nr.set(e,r,5),or(o,r)}}function ir(e){if(Mr&&Jr("input","keyup_cb",e),y()&&(Lt(e,!1),ui.mouseover)){var t,o=void 0,r=ui.mouseover_trigger_key,i=function(e,t,o){o=ua(o);for(var r=0;r<o.length;r++)if(jt(e,t,o[r]))return!0;return!1}(e,!1,r=S?ui["mouseover_trigger_key_t"+S]:r),n=Pt(),r=(i&&"all"===n&&(i=!Mt(0,r)),ze);if(r||(ui.mouseover_cancel_popup_when_release||ui.mouseover_close_need_mouseout&&!Ne[1])&&(r=!0),!i||"esc"===n||"keyboard"!==m||!r){if(27===e.which){if(Ee&&"mouse"===m&&!ui.mouseover_cancel_popup_with_esc)return;Ue(),Re()}if(0<g.length)for(t in On(e,!1)){var a=Br(g,t);0<=a&&(g.splice(a,1),o=!1)}return or(e,o)}!ui.mouseover_close_need_mouseout||Ne[1]?(Ue(),Re()):Ne[0]=!0}}var nr=function(){var e=ye[0].getElementsByTagName("video");return 0<(e=0===e.length?ye[0].getElementsByTagName("img"):e).length?e[0]:null},ar=function(){Oi(ke,ke.filename,Me)},sr=function(){ke.media_info&&ke.media_info.delivery&&ui.enable_stream_download?(B(),K(ke,function(e){e?me(function(r){var n,a;r?(Ue(),n=uo(!0),a=0,de(ke,e,function(e){var t,o,r,i=Date.now();50<i-a&&(a=i,i=so(100*e.percent,2),t=lo(e.loaded),o=lo(e.total),r=e.total_accurate?"":"~",Yr(t+" / "+r+o+" ("+i+"%)")),co(n,.9*e.percent,!0)},function(e){ne(r,e,function(e){co(n,.9+.1*e,!0)},function(o){co(n,1,!0);var e=r.FS("readFile",o);xi(e,function(e){var t=mn(o,{split_ext:!0})[1],t=mn(ke.filename||"download",{split_ext:!0,known_ext:!0})[0]+"."+t;Gi(e,t,function(){r.FS("unlink",o)})})})})):b()}):b()})):ar()},s=function(){var e=ye[0].getElementsByTagName("video");return(e=e&&0!==e.length?e:ye[0].getElementsByTagName("audio"))&&0!==e.length?e[0]:null},lr=function(e,t){e=(e?-1:1)*(t=void 0===t?ui.mouseover_video_seek_amount:t),t=s();t&&(t.currentTime+=e)},ur=function(e){var t=s();t&&(t.pause(),lr(e,1/ui.mouseover_video_framerate))},cr=function(e){var t,o=s();o&&("number"!=typeof e?(t=ui.mouseover_video_speed_amount,o.playbackRate+=t=!0===e?-t:t):o.playbackRate=e)},dr=function(e){var t,o=s();o&&("number"!=typeof e?(t=ui.mouseover_video_volume_change_amt,t=o.volume+(t=!0===e?-t:t)/100,t=ti(ei(t,0),1),o.volume=t):o.volume=e)},pr=function(){var e=s();e&&(e.muted=!e.muted)},mr=function(){var e=s();e&&("controls"===e.getAttribute("controls")?e.removeAttribute("controls"):e.setAttribute("controls","controls"))},hr=function(){var e=s();e&&(e.paused?er(e):e.pause())},gr=function(){Fe(!0,"toggle")},fr=function(){return null!==document.fullscreenElement||document.fullscreen},_r=function(){return fr()&&U},vr=function(){nr().requestFullscreen().then(function(e){U=!0},function(e){Zr("Error loading fullscreen",e)})},br=function(){fr()?(document.exitFullscreen(),U=!1):vr()},yr=function(){return ze&&xe},wr=function(){var e;ze&&(e=mi("popup_hold_zoom"),Ge&&"none"!==e&&Ge(Se?e:"last"),Te&&ui.mouseover_hold_position_center&&(e=Te(_e,ve,!0),ye[0].style.top=e[1]+"px",ye[0].style.left=e[0]+"px"),$e())},kr=function(){Se=!Se,Y(),Se||!Ne[1]&&!ui.mouseover_hold_close_unhold?wr():Cr({type:"resetpopups"})},xr=function(){var e,t,o,r=s();r&&(r=r,e=function(e){var t;e?((t=si(ke.format_vars)).is_screenshot={usable:!0},t.ext=".png","jpg"===mi("popup_video_screenshot_format")&&(t.ext=".jpg"),t.filename=t.filename_noext+t.ext,t=bt(ui.filename_format,t),Oi({url:e},t)):(Zr("Unable to screenshot video"),b())},(t=Xr("canvas")).width=r.videoWidth,t.height=r.videoHeight,t.getContext("2d").drawImage(r,0,0,t.width,t.height),r="image/png",o=mi("popup_video_screenshot_format"),e(Ln(t,r="jpg"===o?"image/jpeg":r)))},Cr=function(e){if(Mr&&Yr("action_handler",e),!e.needs_popup||yr()){switch(e.type){case"resetpopups":return Re(),!0;case"replace_images":return Ro(),!0;case"highlight_images":return Po(),!0;case"trigger_popup":return"keyboard"===e.trigger&&(m="keyboard"),Ot(),!0;case"gallery_prev":return Yn(-1),!0;case"gallery_next":return Yn(1),!0;case"download":return sr(),!0;case"open_in_new_tab":return Fi(ke,e.background_tab),!0;case"rotate_left":return no(-90),!0;case"rotate_right":return no(90),!0;case"flip_horizontal":return ao(!1),!0;case"flip_vertical":return ao(!0),!0;case"zoom_in":return qe("incremental",-1),!0;case"zoom_out":return qe("incremental",1),!0;case"zoom_full":return qe("fitfull",-1),!0;case"zoom_fit":return qe("fitfull",1),!0;case"fullscreen":return br(),!0;case"seek_left":return lr(!0),!0;case"seek_right":return lr(!1),!0;case"frame_left":return ur(!0),!0;case"frame_right":return ur(!1),!0;case"speed_down":return cr(!0),!0;case"speed_up":return cr(!1),!0;case"reset_speed":return cr(1),!0;case"volume_up":return dr(!1),!0;case"volume_down":return dr(!0),!0;case"toggle_mute":return pr(),!0;case"toggle_controls":return mr(),!0;case"toggle_play_pause":return hr(),!0;case"open_options":return Fi({url:Ei()},!1),!0;case"open_orig_page":return ke&&ke.extra&&ke.extra.page?Fi({url:ke.extra.page},!1):Yr("Unable to find original page for",ke),!0;case"hold":return wr(),!0;case"toggle_hold":return kr(),!0;case"toggle_ui":return gr(),!0;case"copy_link":return ke&&ke.url?Yi(ke.url,function(e){e||Kr("Unable to write url to clipboard:",ke.url)}):Kr("Popup not open?"),!0;case"screenshot_video":return xr(),!0;case"download_gallery":return Do(),!0}return!1}},zr=new ln,Nr=new ln,e={capture:!0,passive:!1};Vr(document,"keydown",rr,e),Vr(document,"mousedown",rr,e),Vr(document,"contextmenu",rr,e),Vr(document.body,"contextmenu",rr,e),Vr(document,"wheel",rr,e);function Sr(){var e=document.documentElement,t=document.body;return(e&&e.scrollLeft||t&&t.scrollLeft||0)-(e&&e.clientLeft||t&&t.clientLeft||0)}function qr(){var e=document.documentElement,t=document.body;return(e&&e.scrollTop||t&&t.scrollTop||0)-(e&&e.clientTop||t&&t.clientTop||0)}Vr(document,"keyup",ir,e),Vr(document,"mouseup",ir,e);var Tr=function(){return ui.mouseover_move_with_cursor&&!Se};function Ir(a,e,s,l){var u,i,c,d,p,t,n,o,r=mi("mouseover_pan_behavior"),m=Tr();("drag"!==r||0!==e.buttons&&Ie||m)&&(u=ct(),i=Qr(ui.mouseover_drag_min),c=!1,e=function(e){var t=parseInt(e?a.style.top:a.style.left),o=e?je:Le,r=(e?l:s)-(e?Qe:Je);r!==t&&(Ae||oi(r-t)>=i)&&(t=r-(t-o),e?(je=t,a.style.top=r+"px"):(Le=t,a.style.left=r+"px"),c=Ae=!0)},t=function(e){d||(d=ye&&ye[0]?(t=Date.now(),(!R||50<t-D)&&(R=Nt(ye[0]),D=t),R):null,p=St());var t=e?d.height:d.width,o=e?p.height:p.width,r=(o-t)/2,i=(oi(r)<20&&(o=t,r=0),e?u[1]:u[0]),n=e?l:s;ui.mouseover_movement_inverted||(n=i-n),i<o&&(n=ti(ei(n-40,0),i-80)/(i-80)*(i-o-40)+r+20+"px",e?a.style.top=n:a.style.left=n,c=!0)},n=p=d=null,o=function(e){var t=parseInt(e?a.style.top:a.style.left),o=e?l:s,r=o-(e?tt:et)+t;(r=ui.mouseover_move_within_page&&Te?(n=n||Te(s,l,!1))[e?1:0]:r)!==t&&(t=o,e?(tt=t,a.style.top=r+"px"):(et=t,a.style.left=r+"px"))},"drag"===r&&Ie?(e(!1),e(!0)):"movement"===r&&(t(!1),t(!0)),m&&(o(!1),o(!0)),c)&&(be=!1)}function Ar(t,o,r){if(Mr&&Yr("ON_REMOTE_MESSAGE",t,o,r),"make_popup"===t.type)Fr||(Re(),i=t.data.data.data.img,n=function(e){t.data.data.data.img=e,c=o,u=xe=null,yt(t.data.source_imu,t.data.src,t.data.processing,t.data.data)},a=Xr(i.tag),"video"!==i.tag&&"audio"!==i.tag||(i.autoplay&&a.setAttribute("autoplay",i.autoplay),i.controls&&a.setAttribute("controls",i.controls),i.loop&&a.setAttribute("loop",i.loop),i.muted&&(a.muted=i.muted),void 0!==i.volume&&(a.volume=i.volume),a.onloadedmetadata=function(){n(a)}),i.crossorigin&&a.setAttribute("crossorigin",i.crossorigin),a.src=i.src,"video"!==i.tag&&"audio"!==i.tag&&n(a));else if("count_gallery"===t.type)Yt(t.data.nextprev,t.data.max,t.data.is_counting,void 0,void 0,function(e){r(e)});else if("is_nextprev_valid"===t.type)Jt(t.data.nextprev,function(e){r(e)});else if("trigger_gallery"===t.type)Yn(t.data.dir,function(e){r(e)});else if("resetpopups"===t.type)Re({from_remote:!0});else if("mousemove"===t.type)jr(t.data);else if("action"===t.type)for(var e=0;e<t.data.length;e++)t.data[e].remote_origin=o,Cr(t.data[e]);else"popup_open"===t.type&&(c=o,p=null);var i,n,a}function Er(t){var e,o;"remote"===t.type?(e=hi,t.response_id&&(o=t.response_id,e=function(e){ji(t.from,o,e)}),t.from===Pi||t.to&&Pi!==t.to||Ar(t.data,t.from,e)):"remote_reply"===t.type&&t.response_id in Mi&&(o=t.response_id,delete t.response_id,Mi[o](t.data))}function Ur(e){if(null===e.pageX&&null!==e.clientX&&(e.pageX=e.clientX+Sr(),e.pageY=e.clientY+qr()),$i()){if(e.remote_info&&e.remote_info.id!==Pi){var t=Ri(e.remote_info);if(!t)return;t=Nt(t);e.clientX+=t.left,e.clientY+=t.top,e.pageX+=t.left+window.scrollX,e.pageY+=t.top+window.scrollY}else Fr&&(Lr=e,t=16,(t=(t=ui.mouseover_use_remote?t:300)-(Date.now()-Rr))<1&&(t=1),Dr=Dr||setTimeout(function(){"remote_info"in Lr||(Lr.remote_info=Ui()),Dr=null,Rr=Date.now(),Li("top",{type:"mousemove",data:Qi(Lr)})},t));x=e.remote_info?e.remote_info.id:Pi}_e=e.clientX,ve=e.clientY,e.pageX,e.pageY}Pr?chrome.runtime.onMessage.addListener(function(e,t,o){Mr&&Yr("chrome.runtime.onMessage",e),"context_imu"===e.type?x===Pi&&(m="contextmenu",Ot({is_contextmenu:!0})):"popupaction"===e.type?"replace_images"===e.data.action?Ro():"highlight_images"===e.data.action&&Po():"remote"===e.type||"remote_reply"===e.type?Er(e):"suspend"===e.type?ki(!0):"unsuspend"===e.type?ki(!1):ca(e,0,o)}):Vr(gi(),"message",function(e){Mr&&Yr("window.onMessage",e),$i()&&e.data&&"object"==typeof e.data&&Hi in e.data&&Er(e.data[Hi])},!1),Vr(document,"contextmenu",tr);var Rr=0,Dr=null,Lr=null,jr=(Vr(document,"wheel",function(e){if(ui.scroll_override_page&&ze&&Oe)return Oe(e,!0)},{passive:!1}),"bilibili.com"===rt&&0<=navigator.userAgent.indexOf("Chrome/")&&Vr(document,"wheel",function(e){var t=document.createEvent("MouseEvents");t.initEvent("mousewheel",!0,!0),t.wheelDelta=e.wheelDelta,t.detail=e.detail,t.deltaMode=e.deltaMode,t.target=e.target,t.srcElement=e.srcElement,document.dispatchEvent(t)}),function(e){k=!0,e=e||window.event,Ur(e),M&&G(),ze&&Ir(ye[0],e,_e,ve);var e=ui.mouseover_jitter_threshold,t="keyboard"===m&&Ht()&&ze,o="mouse"===m;if(t||o)if(ze){_&&(clearTimeout(_),_=null);function r(){Se?Ne[1]=!0:Re()}var i,t=40,n=t,a=null,s=null,l=!1,u=(nr()&&(d=St(),l=V(_e,ve,d,e),u=d.width,c=d.height,a=d.x+d.width/2,s=d.y+d.height/2,t=ei(t,u/2),n=ei(n,c/2),t+=e,n+=e,!1===be)&&V(_e,ve,d)&&(be=!0),mi("mouseover_close_el_policy")),c=("thumbnail"===u||"both"===u)&&xe&&!Ce,e=!1,d=!1;if(c)if((i=Nt(xe))&&0<i.width&&0<i.height){l="thumbnail"===u?!1:l;if(!V(_e,ve,i)&&!l&&(e=!0,"thumbnail"===u))return r()}else d=!0;Ne[1]=!1,be&&(!c||e||d)?a&&s&&(oi(_e-a)>t||oi(ve-s)>n)&&r():c&&e&&r()}else o&&Ee&&A&&ui.mouseover_cancel_popup_when_elout&&(i=Nt(A),V(_e,ve,i)||Re());if(w()&&(!ze||Ce)&&!$t()){if(_&&!ui.mouseover_trigger_mouseover){if(oi(_e-z)<10&&oi(ve-N)<10)return;clearTimeout(_),_=null}z=_e,N=ve,p&&(i=Nt(p),V(_e,ve,i)||(p=null)),ui.mouseover_trigger_mouseover||(_=setTimeout(function(){$o()&&Ot()},1e3*f))}});Vr(document,"mousemove",jr),Bi("Report issue",vi)}function Nr(e,t){var o,r=Xr("div"),i=(r.style.marginBottom="2em",Xr("span")),n=(i.style.fontSize="90%",i.style.fontWeight=800,i.style.marginRight="2em",null);try{n=w.script.version}catch(e){}Tr(i)||(i.innerText="Installed",null!==n&&(i.innerText+=" (v"+n,t&&-1===we(t,n)&&(i.innerText+=", update available"),i.innerText+=")"),(o=Xr("a")).innerText="Options",o.style.background="#0af",o.style.padding="0.5em 1em",o.style.color="white",o.style.display="inline-block",o.style.textDecoration="none",o.target="_blank",o.href="https://qsniyg.github.io/maxurl/options.html"),r.appendChild(i),c||r.appendChild(o),e.parentElement.appendChild(r)}var Sr,qr,Tr=function(e){if(!c)return!1;e.style.color="#ff3333",e.innerText="Error: Rules cannot be loaded.\nPlease either try reinstalling the script, or ";var t=document.createElement("a"),t=(t.href=u,t.target="_blank",t.innerText="install the github version",e.appendChild(t),document.createElement("p"));t.innerText="Error reason:",t.style.color="#000",t.style.marginTop="1em",t.style.marginBottom="1em";try{var o=document.createElement("pre");o.style.color="#000",o.innerText=c.message,e.appendChild(t),e.appendChild(o)}catch(e){Zr(e)}return!0},Ir=function(){var e,t,o=(o=document.querySelector("div.script-author-description > center > img[alt='Image Max URL']"))||document.querySelector("#additional-info > center > img[alt='Image Max URL']");o&&!o.parentElement.previousElementSibling&&"UL"===o.parentElement.nextElementSibling.tagName&&(e=null,(t=document.querySelector("dd.script-show-version"))&&(e=t.innerText.replace(/^\s*|\s*$/,"")),Nr(o,e))},Ar=function(){var e,t,o=document.querySelector("div#user-content > p[align='center'] img[alt='Image Max URL']");!o||o.parentElement.previousElementSibling&&"HR"!==o.parentElement.previousElementSibling.tagName||"UL"!==o.parentElement.nextElementSibling.tagName||(e=null,(t=document.querySelector("div.script-meta i.fa-history"))&&(t=t.parentElement.querySelector("code"))&&(e=t.innerText.replace(/[+].*/,""),/^[0-9.]+$/.test(e)||(e=null)),Nr(o,e))},Er=function(){var e=process.argv[2];e?pi(e,{fill_object:!0,cb:function(e){console.log(Or(e,null,"\t"))}}):console.error("Usage:",process.argv[0],process.argv[1],"url")};function Ur(){var e;$$IMU_EXPORT$$=pi,p?module.exports=pi:h&&(imu_variable=pi),v?((n||_i)&&Vo(function(){Jo()}),_i&&Vo(function(){try{tr()}catch(e){Zr(e);var t=Xr("pre"),o=(t.style.fontFamily="monospace",t.style.margin="1em",t.innerText=Pe()+"\n"+e.toString()+"\n"+e.stack,Xr("div")),r="Error loading options page, please report this to <a href='"+vi+"'>"+vi+"</a>, ";o.innerHTML=r+="and include the following information in the report:",o.appendChild(t),document.body.innerHTML=o.outerHTML}}),ui.imu_enabled&&(ui.redirect&&(ui.redirect_host_html||Fn())&&(Po(),e=!1,ui.redirect_force_page+""=="true"&&(e=!0),Wo(window.location.href,e,Ro)),ui.website_inject_imu)&&(window.location.href.match(/^https?:\/\/qsniyg\.github\.io\/+maxurl(\/+|\/+index\.html)?(?:[?#].*)?$/)||window.location.href.match(/^file:\/\/.*\/maxurl\/site\/index\.html/))&&"undefined"!=typeof unsafeWindow&&Vo(function(){var r;c||(unsafeWindow.imu_variable=pi,unsafeWindow.imu_inject=1,unsafeWindow.do_imu=function(e,t){return pi(e,{fill_object:!0,do_request:ai,cb:t})},r=unsafeWindow.set_max,unsafeWindow.set_max=function(o){var s;o&&o[0].url?(s=function(r,i,n,a){ia(r,function(t,e){var o=e;(o=!e&&t&&t.finalUrl?t.finalUrl:o)?Rn(r,o)<0&&a!==o?pi(o,{fill_object:!0,do_request:ai,cb:function(e){ta(t),s(e,i,n,o)}}):i(t,e,r[Rn(r,o)]):i(t,e)},n)},ui.website_image?s(o,function(e,t,o){e?(r([o||{url:t}]),unsafeWindow.maximgel.src=e.src):r("broken")},{running:!0}):o.can_head?s(o,function(e){var t;e?(t=(t=o)||{url:e.finalUrl},r([t])):r("broken")},{running:!0,head:!0}):r(o)):r(o)})}),_e&&(window.location.href.match(/^https?:\/\/(?:www\.)?greasyfork\.org\/+[^/]*\/+scripts\/+36662(?:-[^/]*)?(?:[?#].*)?$/)?Vo(function(){Ir()}):window.location.href.match(/^https?:\/\/(?:www\.)?openuserjs\.org\/+scripts\/+qsniyg\/+Image_Max_URL(?:[?#].*)?$/)&&Vo(function(){Ar()})),zr(),Pr&&Hr({type:"ready"})):o?imu_userscript_message_sender=ca:m&&Er()}Mr&&Yr("Finished initial loading"),Mr&&Yr("do_config"),_e||Pr?(Sr=0,qr=Object.keys(ui).length+Ge.length,(He=function(o){rr(o,function(e){if(Sr+=o.length,ii(e,function(e,t){ur(e,t)}),qr<=Sr){var t=function(e){var t=function(){Ur()};"undefined"!=typeof GM_addValueChangeListener&&setTimeout(function(){for(var e in ui)GM_addValueChangeListener(e,function(e,t,o,r){!1!==r&&((r={})[e]={newValue:o},sr(r))})},1),t()};try{no()}catch(e){Zr(e)}ui.last_update_check||ve("last_update_check",Date.now()),eo(),ir("settings_version",function(e){lr(e,ui,t)})}})})(Object.keys(ui)),He(Ge)):Ur()}();